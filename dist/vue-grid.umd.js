(function(D,e){typeof exports=="object"&&typeof module!="undefined"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(D=typeof globalThis!="undefined"?globalThis:D||self,e(D.VueGrid={},D.Vue))})(this,function(D,e){"use strict";var Ql=Object.defineProperty,Yl=Object.defineProperties;var Xl=Object.getOwnPropertyDescriptors;var nt=Object.getOwnPropertySymbols;var Jl=Object.prototype.hasOwnProperty,Hl=Object.prototype.propertyIsEnumerable;var De=(D,e,P)=>e in D?Ql(D,e,{enumerable:!0,configurable:!0,writable:!0,value:P}):D[e]=P,F=(D,e)=>{for(var P in e||(e={}))Jl.call(e,P)&&De(D,P,e[P]);if(nt)for(var P of nt(e))Hl.call(e,P)&&De(D,P,e[P]);return D},Z=(D,e)=>Yl(D,Xl(e));var v=(D,e,P)=>(De(D,typeof e!="symbol"?e+"":e,P),P);function P(t){return t&&(t.charAt(0).toUpperCase()+t.slice(1)).replace(/_/," ")}function ot(t,o){const n=t.currentRoute,r=n.value.name,l=()=>{const m={},c=n.value.query||{};c.gridstate?m.gridstate=c.gridstate:m.gridstate=new Date().getTime(),o.searchField&&c[o.searchField]&&(m[o.searchField]=c[o.searchField]),o.cursorPagination?c.cursor&&(m.currentPage=c.cursor):c.page&&(m.currentPage=parseInt(c.page,10)),c.limit&&(m.limit=parseInt(c.limit,10)),c.order&&(m.order={by:c.order,type:c.order_type||"desc"});const p={};return o.searchField&&c[o.searchField]&&(p[o.searchField]=c[o.searchField]),Object.keys(c).forEach(C=>{const B=o.columns.find(k=>k.field===C);B&&(B.filter||B.field===o.searchField)&&(p[C]=c[C])}),m.where=p,m},a=m=>{const{currentRoute:c}=t;if(c.value.name!==r)return;const p=F(F({},n.value.query),m);t.replace({query:p})},s=l();return{queryGridState:e.computed(()=>{const{currentRoute:m}=t,{query:c}=m.value;return c&&c.gridstate?c.gridstate:null}),routeGridParams:s,updateRouteIfNeeded:a}}function U(t,o,n,r){const l=e.inject("$vgrid",{debug:!1,routerKey:null,perPage:10,pageSizes:[5,10,20,50,100],hasSortType:!0});let a={},s=b=>({}),f=e.computed(()=>({}));if(t.routeState&&l.routerKey){const b=e.inject(l.routerKey),O=ot(b,t);a=O.routeGridParams,s=O.updateRouteIfNeeded,f=O.queryGridState}const m=e.computed(()=>t.columns.some(b=>b.filter)),c=e.computed(()=>t.columns.some(b=>b.order)),p=e.computed(()=>[`vgrid-col-md-${t.colMd}`,`vgrid-col-lg-${t.colLg}`,`vgrid-col-xl-${t.colXl}`]),C={records:[],total:0},B=e.reactive(C),k="",V=t.cursorPagination?"":0,E=e.reactive(F({isLoading:!1,searchKeyword:"",currentPage:V,limit:t.perPage?t.perPage:l.perPage,pageSizes:l.pageSizes,order:{by:t.sortBy||"",type:t.sortType},where:{},hasSortType:l.hasSortType,gridstate:new Date().getTime(),query:k},a)),d=e.computed(()=>{let b={[r.searchField]:E.searchKeyword,limit:E.limit};r.pageKey&&(b[r.pageKey]=E.currentPage),t.orderable&&E.order&&E.order.by&&(b.order=E.order.by,b.order_type=E.order.type);const O=Object.keys(E.where).reduce((W,J)=>Z(F({},W),{[J]:E.where[J]}),{});return b=Z(F(F({},b),O),{gridstate:E.gridstate}),b}),g=e.computed(()=>JSON.stringify(d.value)),x=e.computed(()=>B.records.length>0),T=e.ref([]),R=b=>{const O=b.type||"text",{field:W}=b,J=[`vgrid-column-type--${O}`,`vgrid-column-data--${W}`];return b.width&&J.push(`vgrid-field--${b.width}`),b.class&&J.push(b.class),J},N=e.computed(()=>!B.records.length),u=e.computed(()=>t.columns.filter(b=>T.value.includes(b.field)).sort((b,O)=>T.value.indexOf(b.field)-T.value.indexOf(O.field)).map(b=>Z(F({},b),{headerClasses:R(b),orderClasses:Gl(b),columnClasses:$(b),showedLabel:P(b.label||b.field)}))),i=e.computed(()=>[`vgrid-${r.displayType}`,`vgrid-${r.dataType}`]),y=()=>{T.value=t.columns.filter(b=>b.type!=="hidden").filter(b=>!b.hidden).map(b=>b.field)},$=b=>b.order!==!1&&b.type!=="custom"&&b.field===E.order.by?"ordering":"",A=e.computed(()=>{let b=!1;return Object.keys(E.where).forEach(O=>{b=b||!!E.where[O]}),b}),et=()=>{if(l.debug&&console.log("vgrid - start get data ",E.searchKeyword),!n){console.log("vgrid - Your grid is not config any data provider");return}E.isLoading=!0,n.getData(E.currentPage,E.limit,E.searchKeyword,E.where,E.order).then(({items:b,total:O,meta:W,query:J})=>{B.records=b,B.total=O,B.meta=W,E.query=J}).catch(b=>{b&&(E.query=b.query),console.log("vgrid error",b)}).then(()=>{setTimeout(()=>{E.isLoading=!1,o("data-changed",B.records)},250)})},ql=b=>{const O=t.columns.find(W=>W.field===b);O&&O.order&&O.type!=="custom"&&(E.order.by===b?E.hasSortType&&(E.order=Z(F({},E.order),{type:E.order.type==="desc"?"asc":"desc"})):E.order={by:b,type:"desc"})},Gl=b=>{const O=[];return b.order&&b.type!=="custom"&&(O.push("orderable"),b.field===E.order.by&&O.push(`${E.order.type}`)),O},Kl=()=>{E.currentPage=V},tt=()=>{E.currentPage=V,E.limit=t.perPage?t.perPage:l.perPage,E.searchKeyword="",E.order={by:t.sortBy,type:t.sortType},E.gridstate=new Date().getTime(),E.where={}};return e.watch(()=>t.columns,()=>{T.value=t.columns.filter(b=>b.type!=="hidden").filter(b=>!b.hidden).map(b=>b.field)}),e.watch([()=>E.where,()=>E.searchKeyword,()=>E.limit],()=>{Kl()},{deep:!0}),e.watch(()=>g.value,b=>{et(),s(d.value)},{deep:!0}),e.watch(()=>f.value,(b,O)=>{O&&!b&&tt()}),{hasColumnFilter:m,hasColumnOrder:c,cardColumnClasses:p,dataState:B,hasRecord:x,columnVisibility:T,isEmptyData:N,visibleCols:u,gridClasses:i,setColumnVisibility:y,gridState:E,isFiltered:A,getData:et,setOrder:ql,resetGrid:tt}}class pe{constructor(o){v(this,"options");this.options=o}getData(o,n,r,l,a){return new Promise((s,f)=>{s({items:[],total:0})})}applySearch(o){return this}applyFilter(o){return this}applyOrder(o){return this}applyPagination(o){return this}}class rt extends pe{constructor(n,r){super(r);v(this,"data");this.data=n}updateData(n){this.data=n}getData(n,r,l,a,s){return new Promise(f=>{let m=[...this.data];m=this.getSearchedData(m,l),m=this.getFilteredData(m,a),m=this.getSortedData(m,s);const c=m.length;let p=m;this.options.pagination&&m.length>r&&(p=m.slice(r*n,r*(n+1))),f({items:p,total:c,query:{page:n,limit:r,searchKeyword:l,filter:a,order:s}})})}getSearchedData(n,r){let l=n.filter(a=>a);if(r){const a=new RegExp(r,"gi");l=l.filter(s=>{let f=!1;return this.options.columns.forEach(m=>{a.test(`${s[m.field]}`)&&(f=!0)}),f})}return l}getFilteredData(n,r){let l=n;return r&&Object.keys(r).map(a=>{const s=new RegExp(r[a],"gi");l=l.filter(f=>s.test(f[a]))}),l}getSortedData(n,r){let l=n;if(r){const a=this.options.columns.find(s=>s.field===r.by);a&&(l=l.sort((s,f)=>{let m=f[a.field],c=s[a.field];return r.type==="desc"&&(m=s[a.field],c=f[a.field]),a.type==="number"?m-c:typeof m=="string"?m.localeCompare(c):0}))}return l}}class lt extends pe{constructor(n,r){super(r);v(this,"resource");v(this,"cancelRequest");this.resource=n,this.cancelRequest=null}getData(n,r,l,a,s){let f=n;this.options.cursorPagination||this.options.getPageIndex&&(f=this.options.getPageIndex(n));const m={};if(this.options.pageKey&&(m[this.options.pageKey]=f),this.options.perPageKey&&(m[this.options.perPageKey]=r),this.options.orderable&&s&&this.options.sortKey&&s.by&&(m[this.options.sortKey]=s.by,this.options.sortTypeKey&&s.type&&(m[this.options.sortTypeKey]=s.type)),this.options.searchable&&this.options.searchField&&l&&(m[this.options.searchField]=l),a){const p=F({},a);Object.keys(p).forEach(C=>{m[C]=p[C]})}if(!this.options.fetchData)return Promise.reject(new Error("no fetch data option"));let c=null;if(this.options.cancelToken){this.cancelRequest&&this.cancelRequest("Operation canceled due to new request.");const p=this.options.cancelToken;c=new p(C=>{this.cancelRequest=C})}return this.options.fetchData(this.resource,{params:m,cancelToken:c}).then(p=>{let C=[],B=0,k=null;if(this.options.extractData){const V=this.options.extractData(p);C=V.items,B=V.total,k=V.meta}return{items:C,total:B,meta:k,query:m}}).finally(()=>{this.cancelRequest=null})}}var ae=function(){return ae=Object.assign||function(o){for(var n,r=1,l=arguments.length;r<l;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(o[a]=n[a])}return o},ae.apply(this,arguments)};function he(t,o){if(!Boolean(t))throw new Error(o)}function at(t){return typeof t=="object"&&t!==null}function st(t,o){if(!Boolean(t))throw new Error(o!=null?o:"Unexpected invariant triggered.")}const it=/\r\n|[\n\r]/g;function ge(t,o){let n=0,r=1;for(const l of t.body.matchAll(it)){if(typeof l.index=="number"||st(!1),l.index>=o)break;n=l.index+l[0].length,r+=1}return{line:r,column:o+1-n}}function ct(t){return xe(t.source,ge(t.source,t.start))}function xe(t,o){const n=t.locationOffset.column-1,r="".padStart(n)+t.body,l=o.line-1,a=t.locationOffset.line-1,s=o.line+a,f=o.line===1?n:0,m=o.column+f,c=`${t.name}:${s}:${m}
`,p=r.split(/\r\n|[\n\r]/g),C=p[l];if(C.length>120){const B=Math.floor(m/80),k=m%80,V=[];for(let E=0;E<C.length;E+=80)V.push(C.slice(E,E+80));return c+Fe([[`${s} |`,V[0]],...V.slice(1,B+1).map(E=>["|",E]),["|","^".padStart(k)],["|",V[B+1]]])}return c+Fe([[`${s-1} |`,p[l-1]],[`${s} |`,C],["|","^".padStart(m)],[`${s+1} |`,p[l+1]]])}function Fe(t){const o=t.filter(([r,l])=>l!==void 0),n=Math.max(...o.map(([r])=>r.length));return o.map(([r,l])=>r.padStart(n)+(l?" "+l:"")).join(`
`)}function dt(t){const o=t[0];return o==null||"kind"in o||"length"in o?{nodes:o,source:t[1],positions:t[2],path:t[3],originalError:t[4],extensions:t[5]}:o}class ye extends Error{constructor(o,...n){var r,l,a;const{nodes:s,source:f,positions:m,path:c,originalError:p,extensions:C}=dt(n);super(o),this.name="GraphQLError",this.path=c!=null?c:void 0,this.originalError=p!=null?p:void 0,this.nodes=Oe(Array.isArray(s)?s:s?[s]:void 0);const B=Oe((r=this.nodes)===null||r===void 0?void 0:r.map(V=>V.loc).filter(V=>V!=null));this.source=f!=null?f:B==null||(l=B[0])===null||l===void 0?void 0:l.source,this.positions=m!=null?m:B==null?void 0:B.map(V=>V.start),this.locations=m&&f?m.map(V=>ge(f,V)):B==null?void 0:B.map(V=>ge(V.source,V.start));const k=at(p==null?void 0:p.extensions)?p==null?void 0:p.extensions:void 0;this.extensions=(a=C!=null?C:k)!==null&&a!==void 0?a:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),p!=null&&p.stack?Object.defineProperty(this,"stack",{value:p.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,ye):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let o=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(o+=`

`+ct(n.loc));else if(this.source&&this.locations)for(const n of this.locations)o+=`

`+xe(this.source,n);return o}toJSON(){const o={message:this.message};return this.locations!=null&&(o.locations=this.locations),this.path!=null&&(o.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(o.extensions=this.extensions),o}}function Oe(t){return t===void 0||t.length===0?void 0:t}function w(t,o,n){return new ye(`Syntax Error: ${n}`,{source:t,positions:[o]})}class mt{constructor(o,n,r){this.start=o.start,this.end=n.end,this.startToken=o,this.endToken=n,this.source=r}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class Ie{constructor(o,n,r,l,a,s){this.kind=o,this.start=n,this.end=r,this.line=l,this.column=a,this.value=s,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}let ee;(function(t){t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription"})(ee||(ee={}));let ke;(function(t){t.QUERY="QUERY",t.MUTATION="MUTATION",t.SUBSCRIPTION="SUBSCRIPTION",t.FIELD="FIELD",t.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",t.FRAGMENT_SPREAD="FRAGMENT_SPREAD",t.INLINE_FRAGMENT="INLINE_FRAGMENT",t.VARIABLE_DEFINITION="VARIABLE_DEFINITION",t.SCHEMA="SCHEMA",t.SCALAR="SCALAR",t.OBJECT="OBJECT",t.FIELD_DEFINITION="FIELD_DEFINITION",t.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",t.INTERFACE="INTERFACE",t.UNION="UNION",t.ENUM="ENUM",t.ENUM_VALUE="ENUM_VALUE",t.INPUT_OBJECT="INPUT_OBJECT",t.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(ke||(ke={}));let S;(function(t){t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(S||(S={}));function ft(t){return t===9||t===32}function oe(t){return t>=48&&t<=57}function we(t){return t>=97&&t<=122||t>=65&&t<=90}function Pe(t){return we(t)||t===95}function ut(t){return we(t)||oe(t)||t===95}function pt(t){var o;let n=Number.MAX_SAFE_INTEGER,r=null,l=-1;for(let s=0;s<t.length;++s){var a;const f=t[s],m=ht(f);m!==f.length&&(r=(a=r)!==null&&a!==void 0?a:s,l=s,s!==0&&m<n&&(n=m))}return t.map((s,f)=>f===0?s:s.slice(n)).slice((o=r)!==null&&o!==void 0?o:0,l+1)}function ht(t){let o=0;for(;o<t.length&&ft(t.charCodeAt(o));)++o;return o}let h;(function(t){t.SOF="<SOF>",t.EOF="<EOF>",t.BANG="!",t.DOLLAR="$",t.AMP="&",t.PAREN_L="(",t.PAREN_R=")",t.SPREAD="...",t.COLON=":",t.EQUALS="=",t.AT="@",t.BRACKET_L="[",t.BRACKET_R="]",t.BRACE_L="{",t.PIPE="|",t.BRACE_R="}",t.NAME="Name",t.INT="Int",t.FLOAT="Float",t.STRING="String",t.BLOCK_STRING="BlockString",t.COMMENT="Comment"})(h||(h={}));class gt{constructor(o){const n=new Ie(h.SOF,0,0,0,0);this.source=o,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let o=this.token;if(o.kind!==h.EOF)do if(o.next)o=o.next;else{const n=kt(this,o.end);o.next=n,n.prev=o,o=n}while(o.kind===h.COMMENT);return o}}function yt(t){return t===h.BANG||t===h.DOLLAR||t===h.AMP||t===h.PAREN_L||t===h.PAREN_R||t===h.SPREAD||t===h.COLON||t===h.EQUALS||t===h.AT||t===h.BRACKET_L||t===h.BRACKET_R||t===h.BRACE_L||t===h.PIPE||t===h.BRACE_R}function te(t){return t>=0&&t<=55295||t>=57344&&t<=1114111}function se(t,o){return Ae(t.charCodeAt(o))&&Le(t.charCodeAt(o+1))}function Ae(t){return t>=55296&&t<=56319}function Le(t){return t>=56320&&t<=57343}function H(t,o){const n=t.source.body.codePointAt(o);if(n===void 0)return h.EOF;if(n>=32&&n<=126){const r=String.fromCodePoint(n);return r==='"'?`'"'`:`"${r}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function I(t,o,n,r,l){const a=t.line,s=1+n-t.lineStart;return new Ie(o,n,r,a,s,l)}function kt(t,o){const n=t.source.body,r=n.length;let l=o;for(;l<r;){const a=n.charCodeAt(l);switch(a){case 65279:case 9:case 32:case 44:++l;continue;case 10:++l,++t.line,t.lineStart=l;continue;case 13:n.charCodeAt(l+1)===10?l+=2:++l,++t.line,t.lineStart=l;continue;case 35:return Et(t,l);case 33:return I(t,h.BANG,l,l+1);case 36:return I(t,h.DOLLAR,l,l+1);case 38:return I(t,h.AMP,l,l+1);case 40:return I(t,h.PAREN_L,l,l+1);case 41:return I(t,h.PAREN_R,l,l+1);case 46:if(n.charCodeAt(l+1)===46&&n.charCodeAt(l+2)===46)return I(t,h.SPREAD,l,l+3);break;case 58:return I(t,h.COLON,l,l+1);case 61:return I(t,h.EQUALS,l,l+1);case 64:return I(t,h.AT,l,l+1);case 91:return I(t,h.BRACKET_L,l,l+1);case 93:return I(t,h.BRACKET_R,l,l+1);case 123:return I(t,h.BRACE_L,l,l+1);case 124:return I(t,h.PIPE,l,l+1);case 125:return I(t,h.BRACE_R,l,l+1);case 34:return n.charCodeAt(l+1)===34&&n.charCodeAt(l+2)===34?St(t,l):Vt(t,l)}if(oe(a)||a===45)return Bt(t,l,a);if(Pe(a))return $t(t,l);throw w(t.source,l,a===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:te(a)||se(n,l)?`Unexpected character: ${H(t,l)}.`:`Invalid character: ${H(t,l)}.`)}return I(t,h.EOF,r,r)}function Et(t,o){const n=t.source.body,r=n.length;let l=o+1;for(;l<r;){const a=n.charCodeAt(l);if(a===10||a===13)break;if(te(a))++l;else if(se(n,l))l+=2;else break}return I(t,h.COMMENT,o,l,n.slice(o+1,l))}function Bt(t,o,n){const r=t.source.body;let l=o,a=n,s=!1;if(a===45&&(a=r.charCodeAt(++l)),a===48){if(a=r.charCodeAt(++l),oe(a))throw w(t.source,l,`Invalid number, unexpected digit after 0: ${H(t,l)}.`)}else l=Ee(t,l,a),a=r.charCodeAt(l);if(a===46&&(s=!0,a=r.charCodeAt(++l),l=Ee(t,l,a),a=r.charCodeAt(l)),(a===69||a===101)&&(s=!0,a=r.charCodeAt(++l),(a===43||a===45)&&(a=r.charCodeAt(++l)),l=Ee(t,l,a),a=r.charCodeAt(l)),a===46||Pe(a))throw w(t.source,l,`Invalid number, expected digit but got: ${H(t,l)}.`);return I(t,s?h.FLOAT:h.INT,o,l,r.slice(o,l))}function Ee(t,o,n){if(!oe(n))throw w(t.source,o,`Invalid number, expected digit but got: ${H(t,o)}.`);const r=t.source.body;let l=o+1;for(;oe(r.charCodeAt(l));)++l;return l}function Vt(t,o){const n=t.source.body,r=n.length;let l=o+1,a=l,s="";for(;l<r;){const f=n.charCodeAt(l);if(f===34)return s+=n.slice(a,l),I(t,h.STRING,o,l+1,s);if(f===92){s+=n.slice(a,l);const m=n.charCodeAt(l+1)===117?n.charCodeAt(l+2)===123?Nt(t,l):Ct(t,l):bt(t,l);s+=m.value,l+=m.size,a=l;continue}if(f===10||f===13)break;if(te(f))++l;else if(se(n,l))l+=2;else throw w(t.source,l,`Invalid character within String: ${H(t,l)}.`)}throw w(t.source,l,"Unterminated string.")}function Nt(t,o){const n=t.source.body;let r=0,l=3;for(;l<12;){const a=n.charCodeAt(o+l++);if(a===125){if(l<5||!te(r))break;return{value:String.fromCodePoint(r),size:l}}if(r=r<<4|re(a),r<0)break}throw w(t.source,o,`Invalid Unicode escape sequence: "${n.slice(o,o+l)}".`)}function Ct(t,o){const n=t.source.body,r=Re(n,o+2);if(te(r))return{value:String.fromCodePoint(r),size:6};if(Ae(r)&&n.charCodeAt(o+6)===92&&n.charCodeAt(o+7)===117){const l=Re(n,o+8);if(Le(l))return{value:String.fromCodePoint(r,l),size:12}}throw w(t.source,o,`Invalid Unicode escape sequence: "${n.slice(o,o+6)}".`)}function Re(t,o){return re(t.charCodeAt(o))<<12|re(t.charCodeAt(o+1))<<8|re(t.charCodeAt(o+2))<<4|re(t.charCodeAt(o+3))}function re(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function bt(t,o){const n=t.source.body;switch(n.charCodeAt(o+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw w(t.source,o,`Invalid character escape sequence: "${n.slice(o,o+2)}".`)}function St(t,o){const n=t.source.body,r=n.length;let l=t.lineStart,a=o+3,s=a,f="";const m=[];for(;a<r;){const c=n.charCodeAt(a);if(c===34&&n.charCodeAt(a+1)===34&&n.charCodeAt(a+2)===34){f+=n.slice(s,a),m.push(f);const p=I(t,h.BLOCK_STRING,o,a+3,pt(m).join(`
`));return t.line+=m.length-1,t.lineStart=l,p}if(c===92&&n.charCodeAt(a+1)===34&&n.charCodeAt(a+2)===34&&n.charCodeAt(a+3)===34){f+=n.slice(s,a),s=a+1,a+=4;continue}if(c===10||c===13){f+=n.slice(s,a),m.push(f),c===13&&n.charCodeAt(a+1)===10?a+=2:++a,f="",s=a,l=a;continue}if(te(c))++a;else if(se(n,a))a+=2;else throw w(t.source,a,`Invalid character within String: ${H(t,a)}.`)}throw w(t.source,a,"Unterminated string.")}function $t(t,o){const n=t.source.body,r=n.length;let l=o+1;for(;l<r;){const a=n.charCodeAt(l);if(ut(a))++l;else break}return I(t,h.NAME,o,l,n.slice(o,l))}const Tt=10,_e=2;function Dt(t){return ie(t,[])}function ie(t,o){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return xt(t,o);default:return String(t)}}function xt(t,o){if(t===null)return"null";if(o.includes(t))return"[Circular]";const n=[...o,t];if(Ft(t)){const r=t.toJSON();if(r!==t)return typeof r=="string"?r:ie(r,n)}else if(Array.isArray(t))return It(t,n);return Ot(t,n)}function Ft(t){return typeof t.toJSON=="function"}function Ot(t,o){const n=Object.entries(t);if(n.length===0)return"{}";if(o.length>_e)return"["+wt(t)+"]";const r=n.map(([l,a])=>l+": "+ie(a,o));return"{ "+r.join(", ")+" }"}function It(t,o){if(t.length===0)return"[]";if(o.length>_e)return"[Array]";const n=Math.min(Tt,t.length),r=t.length-n,l=[];for(let a=0;a<n;++a)l.push(ie(t[a],o));return r===1?l.push("... 1 more item"):r>1&&l.push(`... ${r} more items`),"["+l.join(", ")+"]"}function wt(t){const o=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(o==="Object"&&typeof t.constructor=="function"){const n=t.constructor.name;if(typeof n=="string"&&n!=="")return n}return o}const Pt=function(o,n){return o instanceof n};class Ue{constructor(o,n="GraphQL request",r={line:1,column:1}){typeof o=="string"||he(!1,`Body must be a string. Received: ${Dt(o)}.`),this.body=o,this.name=n,this.locationOffset=r,this.locationOffset.line>0||he(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||he(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function At(t){return Pt(t,Ue)}function Lt(t,o){return new Rt(t,o).parseDocument()}class Rt{constructor(o,n){const r=At(o)?o:new Ue(o);this._lexer=new gt(r),this._options=n}parseName(){const o=this.expectToken(h.NAME);return this.node(o,{kind:S.NAME,value:o.value})}parseDocument(){return this.node(this._lexer.token,{kind:S.DOCUMENT,definitions:this.many(h.SOF,this.parseDefinition,h.EOF)})}parseDefinition(){if(this.peek(h.BRACE_L))return this.parseOperationDefinition();const o=this.peekDescription(),n=o?this._lexer.lookahead():this._lexer.token;if(n.kind===h.NAME){switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(o)throw w(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(n.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(n)}parseOperationDefinition(){const o=this._lexer.token;if(this.peek(h.BRACE_L))return this.node(o,{kind:S.OPERATION_DEFINITION,operation:ee.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const n=this.parseOperationType();let r;return this.peek(h.NAME)&&(r=this.parseName()),this.node(o,{kind:S.OPERATION_DEFINITION,operation:n,name:r,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const o=this.expectToken(h.NAME);switch(o.value){case"query":return ee.QUERY;case"mutation":return ee.MUTATION;case"subscription":return ee.SUBSCRIPTION}throw this.unexpected(o)}parseVariableDefinitions(){return this.optionalMany(h.PAREN_L,this.parseVariableDefinition,h.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:S.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(h.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(h.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const o=this._lexer.token;return this.expectToken(h.DOLLAR),this.node(o,{kind:S.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:S.SELECTION_SET,selections:this.many(h.BRACE_L,this.parseSelection,h.BRACE_R)})}parseSelection(){return this.peek(h.SPREAD)?this.parseFragment():this.parseField()}parseField(){const o=this._lexer.token,n=this.parseName();let r,l;return this.expectOptionalToken(h.COLON)?(r=n,l=this.parseName()):l=n,this.node(o,{kind:S.FIELD,alias:r,name:l,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(h.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(o){const n=o?this.parseConstArgument:this.parseArgument;return this.optionalMany(h.PAREN_L,n,h.PAREN_R)}parseArgument(o=!1){const n=this._lexer.token,r=this.parseName();return this.expectToken(h.COLON),this.node(n,{kind:S.ARGUMENT,name:r,value:this.parseValueLiteral(o)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const o=this._lexer.token;this.expectToken(h.SPREAD);const n=this.expectOptionalKeyword("on");return!n&&this.peek(h.NAME)?this.node(o,{kind:S.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(o,{kind:S.INLINE_FRAGMENT,typeCondition:n?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){var o;const n=this._lexer.token;return this.expectKeyword("fragment"),((o=this._options)===null||o===void 0?void 0:o.allowLegacyFragmentVariables)===!0?this.node(n,{kind:S.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(n,{kind:S.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(o){const n=this._lexer.token;switch(n.kind){case h.BRACKET_L:return this.parseList(o);case h.BRACE_L:return this.parseObject(o);case h.INT:return this._lexer.advance(),this.node(n,{kind:S.INT,value:n.value});case h.FLOAT:return this._lexer.advance(),this.node(n,{kind:S.FLOAT,value:n.value});case h.STRING:case h.BLOCK_STRING:return this.parseStringLiteral();case h.NAME:switch(this._lexer.advance(),n.value){case"true":return this.node(n,{kind:S.BOOLEAN,value:!0});case"false":return this.node(n,{kind:S.BOOLEAN,value:!1});case"null":return this.node(n,{kind:S.NULL});default:return this.node(n,{kind:S.ENUM,value:n.value})}case h.DOLLAR:if(o)if(this.expectToken(h.DOLLAR),this._lexer.token.kind===h.NAME){const r=this._lexer.token.value;throw w(this._lexer.source,n.start,`Unexpected variable "$${r}" in constant value.`)}else throw this.unexpected(n);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const o=this._lexer.token;return this._lexer.advance(),this.node(o,{kind:S.STRING,value:o.value,block:o.kind===h.BLOCK_STRING})}parseList(o){const n=()=>this.parseValueLiteral(o);return this.node(this._lexer.token,{kind:S.LIST,values:this.any(h.BRACKET_L,n,h.BRACKET_R)})}parseObject(o){const n=()=>this.parseObjectField(o);return this.node(this._lexer.token,{kind:S.OBJECT,fields:this.any(h.BRACE_L,n,h.BRACE_R)})}parseObjectField(o){const n=this._lexer.token,r=this.parseName();return this.expectToken(h.COLON),this.node(n,{kind:S.OBJECT_FIELD,name:r,value:this.parseValueLiteral(o)})}parseDirectives(o){const n=[];for(;this.peek(h.AT);)n.push(this.parseDirective(o));return n}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(o){const n=this._lexer.token;return this.expectToken(h.AT),this.node(n,{kind:S.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(o)})}parseTypeReference(){const o=this._lexer.token;let n;if(this.expectOptionalToken(h.BRACKET_L)){const r=this.parseTypeReference();this.expectToken(h.BRACKET_R),n=this.node(o,{kind:S.LIST_TYPE,type:r})}else n=this.parseNamedType();return this.expectOptionalToken(h.BANG)?this.node(o,{kind:S.NON_NULL_TYPE,type:n}):n}parseNamedType(){return this.node(this._lexer.token,{kind:S.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(h.STRING)||this.peek(h.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const o=this._lexer.token,n=this.parseDescription();this.expectKeyword("schema");const r=this.parseConstDirectives(),l=this.many(h.BRACE_L,this.parseOperationTypeDefinition,h.BRACE_R);return this.node(o,{kind:S.SCHEMA_DEFINITION,description:n,directives:r,operationTypes:l})}parseOperationTypeDefinition(){const o=this._lexer.token,n=this.parseOperationType();this.expectToken(h.COLON);const r=this.parseNamedType();return this.node(o,{kind:S.OPERATION_TYPE_DEFINITION,operation:n,type:r})}parseScalarTypeDefinition(){const o=this._lexer.token,n=this.parseDescription();this.expectKeyword("scalar");const r=this.parseName(),l=this.parseConstDirectives();return this.node(o,{kind:S.SCALAR_TYPE_DEFINITION,description:n,name:r,directives:l})}parseObjectTypeDefinition(){const o=this._lexer.token,n=this.parseDescription();this.expectKeyword("type");const r=this.parseName(),l=this.parseImplementsInterfaces(),a=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(o,{kind:S.OBJECT_TYPE_DEFINITION,description:n,name:r,interfaces:l,directives:a,fields:s})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(h.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(h.BRACE_L,this.parseFieldDefinition,h.BRACE_R)}parseFieldDefinition(){const o=this._lexer.token,n=this.parseDescription(),r=this.parseName(),l=this.parseArgumentDefs();this.expectToken(h.COLON);const a=this.parseTypeReference(),s=this.parseConstDirectives();return this.node(o,{kind:S.FIELD_DEFINITION,description:n,name:r,arguments:l,type:a,directives:s})}parseArgumentDefs(){return this.optionalMany(h.PAREN_L,this.parseInputValueDef,h.PAREN_R)}parseInputValueDef(){const o=this._lexer.token,n=this.parseDescription(),r=this.parseName();this.expectToken(h.COLON);const l=this.parseTypeReference();let a;this.expectOptionalToken(h.EQUALS)&&(a=this.parseConstValueLiteral());const s=this.parseConstDirectives();return this.node(o,{kind:S.INPUT_VALUE_DEFINITION,description:n,name:r,type:l,defaultValue:a,directives:s})}parseInterfaceTypeDefinition(){const o=this._lexer.token,n=this.parseDescription();this.expectKeyword("interface");const r=this.parseName(),l=this.parseImplementsInterfaces(),a=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(o,{kind:S.INTERFACE_TYPE_DEFINITION,description:n,name:r,interfaces:l,directives:a,fields:s})}parseUnionTypeDefinition(){const o=this._lexer.token,n=this.parseDescription();this.expectKeyword("union");const r=this.parseName(),l=this.parseConstDirectives(),a=this.parseUnionMemberTypes();return this.node(o,{kind:S.UNION_TYPE_DEFINITION,description:n,name:r,directives:l,types:a})}parseUnionMemberTypes(){return this.expectOptionalToken(h.EQUALS)?this.delimitedMany(h.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const o=this._lexer.token,n=this.parseDescription();this.expectKeyword("enum");const r=this.parseName(),l=this.parseConstDirectives(),a=this.parseEnumValuesDefinition();return this.node(o,{kind:S.ENUM_TYPE_DEFINITION,description:n,name:r,directives:l,values:a})}parseEnumValuesDefinition(){return this.optionalMany(h.BRACE_L,this.parseEnumValueDefinition,h.BRACE_R)}parseEnumValueDefinition(){const o=this._lexer.token,n=this.parseDescription(),r=this.parseEnumValueName(),l=this.parseConstDirectives();return this.node(o,{kind:S.ENUM_VALUE_DEFINITION,description:n,name:r,directives:l})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw w(this._lexer.source,this._lexer.token.start,`${ce(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const o=this._lexer.token,n=this.parseDescription();this.expectKeyword("input");const r=this.parseName(),l=this.parseConstDirectives(),a=this.parseInputFieldsDefinition();return this.node(o,{kind:S.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:r,directives:l,fields:a})}parseInputFieldsDefinition(){return this.optionalMany(h.BRACE_L,this.parseInputValueDef,h.BRACE_R)}parseTypeSystemExtension(){const o=this._lexer.lookahead();if(o.kind===h.NAME)switch(o.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(o)}parseSchemaExtension(){const o=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const n=this.parseConstDirectives(),r=this.optionalMany(h.BRACE_L,this.parseOperationTypeDefinition,h.BRACE_R);if(n.length===0&&r.length===0)throw this.unexpected();return this.node(o,{kind:S.SCHEMA_EXTENSION,directives:n,operationTypes:r})}parseScalarTypeExtension(){const o=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const n=this.parseName(),r=this.parseConstDirectives();if(r.length===0)throw this.unexpected();return this.node(o,{kind:S.SCALAR_TYPE_EXTENSION,name:n,directives:r})}parseObjectTypeExtension(){const o=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const n=this.parseName(),r=this.parseImplementsInterfaces(),l=this.parseConstDirectives(),a=this.parseFieldsDefinition();if(r.length===0&&l.length===0&&a.length===0)throw this.unexpected();return this.node(o,{kind:S.OBJECT_TYPE_EXTENSION,name:n,interfaces:r,directives:l,fields:a})}parseInterfaceTypeExtension(){const o=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const n=this.parseName(),r=this.parseImplementsInterfaces(),l=this.parseConstDirectives(),a=this.parseFieldsDefinition();if(r.length===0&&l.length===0&&a.length===0)throw this.unexpected();return this.node(o,{kind:S.INTERFACE_TYPE_EXTENSION,name:n,interfaces:r,directives:l,fields:a})}parseUnionTypeExtension(){const o=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const n=this.parseName(),r=this.parseConstDirectives(),l=this.parseUnionMemberTypes();if(r.length===0&&l.length===0)throw this.unexpected();return this.node(o,{kind:S.UNION_TYPE_EXTENSION,name:n,directives:r,types:l})}parseEnumTypeExtension(){const o=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const n=this.parseName(),r=this.parseConstDirectives(),l=this.parseEnumValuesDefinition();if(r.length===0&&l.length===0)throw this.unexpected();return this.node(o,{kind:S.ENUM_TYPE_EXTENSION,name:n,directives:r,values:l})}parseInputObjectTypeExtension(){const o=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const n=this.parseName(),r=this.parseConstDirectives(),l=this.parseInputFieldsDefinition();if(r.length===0&&l.length===0)throw this.unexpected();return this.node(o,{kind:S.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:r,fields:l})}parseDirectiveDefinition(){const o=this._lexer.token,n=this.parseDescription();this.expectKeyword("directive"),this.expectToken(h.AT);const r=this.parseName(),l=this.parseArgumentDefs(),a=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const s=this.parseDirectiveLocations();return this.node(o,{kind:S.DIRECTIVE_DEFINITION,description:n,name:r,arguments:l,repeatable:a,locations:s})}parseDirectiveLocations(){return this.delimitedMany(h.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const o=this._lexer.token,n=this.parseName();if(Object.prototype.hasOwnProperty.call(ke,n.value))return n;throw this.unexpected(o)}node(o,n){var r;return((r=this._options)===null||r===void 0?void 0:r.noLocation)!==!0&&(n.loc=new mt(o,this._lexer.lastToken,this._lexer.source)),n}peek(o){return this._lexer.token.kind===o}expectToken(o){const n=this._lexer.token;if(n.kind===o)return this._lexer.advance(),n;throw w(this._lexer.source,n.start,`Expected ${Me(o)}, found ${ce(n)}.`)}expectOptionalToken(o){return this._lexer.token.kind===o?(this._lexer.advance(),!0):!1}expectKeyword(o){const n=this._lexer.token;if(n.kind===h.NAME&&n.value===o)this._lexer.advance();else throw w(this._lexer.source,n.start,`Expected "${o}", found ${ce(n)}.`)}expectOptionalKeyword(o){const n=this._lexer.token;return n.kind===h.NAME&&n.value===o?(this._lexer.advance(),!0):!1}unexpected(o){const n=o!=null?o:this._lexer.token;return w(this._lexer.source,n.start,`Unexpected ${ce(n)}.`)}any(o,n,r){this.expectToken(o);const l=[];for(;!this.expectOptionalToken(r);)l.push(n.call(this));return l}optionalMany(o,n,r){if(this.expectOptionalToken(o)){const l=[];do l.push(n.call(this));while(!this.expectOptionalToken(r));return l}return[]}many(o,n,r){this.expectToken(o);const l=[];do l.push(n.call(this));while(!this.expectOptionalToken(r));return l}delimitedMany(o,n){this.expectOptionalToken(o);const r=[];do r.push(n.call(this));while(this.expectOptionalToken(o));return r}}function ce(t){const o=t.value;return Me(t.kind)+(o!=null?` "${o}"`:"")}function Me(t){return yt(t)?`"${t}"`:t}var de=new Map,Be=new Map,ze=!0,me=!1;function je(t){return t.replace(/[\s,]+/g," ").trim()}function _t(t){return je(t.source.body.substring(t.start,t.end))}function Ut(t){var o=new Set,n=[];return t.definitions.forEach(function(r){if(r.kind==="FragmentDefinition"){var l=r.name.value,a=_t(r.loc),s=Be.get(l);s&&!s.has(a)?ze&&console.warn("Warning: fragment with name "+l+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):s||Be.set(l,s=new Set),s.add(a),o.has(a)||(o.add(a),n.push(r))}else n.push(r)}),ae(ae({},t),{definitions:n})}function Mt(t){var o=new Set(t.definitions);o.forEach(function(r){r.loc&&delete r.loc,Object.keys(r).forEach(function(l){var a=r[l];a&&typeof a=="object"&&o.add(a)})});var n=t.loc;return n&&(delete n.startToken,delete n.endToken),t}function zt(t){var o=je(t);if(!de.has(o)){var n=Lt(t,{experimentalFragmentVariables:me,allowLegacyFragmentVariables:me});if(!n||n.kind!=="Document")throw new Error("Not a valid GraphQL document.");de.set(o,Mt(Ut(n)))}return de.get(o)}function ne(t){for(var o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];typeof t=="string"&&(t=[t]);var r=t[0];return o.forEach(function(l,a){l&&l.kind==="Document"?r+=l.loc.source.body:r+=l,r+=t[a+1]}),zt(r)}function jt(){de.clear(),Be.clear()}function qt(){ze=!1}function Gt(){me=!0}function Kt(){me=!1}var le={gql:ne,resetCaches:jt,disableFragmentWarnings:qt,enableExperimentalFragmentVariables:Gt,disableExperimentalFragmentVariables:Kt};(function(t){t.gql=le.gql,t.resetCaches=le.resetCaches,t.disableFragmentWarnings=le.disableFragmentWarnings,t.enableExperimentalFragmentVariables=le.enableExperimentalFragmentVariables,t.disableExperimentalFragmentVariables=le.disableExperimentalFragmentVariables})(ne||(ne={})),ne.default=ne;var Qt=ne;class Yt extends pe{constructor(n,r,l){super(l);v(this,"apolloClient");v(this,"resource");this.apolloClient=n,this.resource=r}getData(n,r,l,a,s){return new Promise((f,m)=>{const c=this.getQuery(n,r,a,s),p={offset:r*n,limit:r},C=Qt`${c}`;this.apolloClient.query({fetchPolicy:"no-cache",query:C,variables:p}).then(B=>{if(!B.loading){if(B.error){const V={name:"graphql query from vue-ui-grid",query:c,error:B.error,message:B.error};return m(V)}const k=B.data;if(k&&k[this.resource]){let V=k[this.resource].length;this.options.graphqlDataCounter&&this.options.resourceMeta&&(V=this.options.graphqlDataCounter(k[this.options.resourceMeta]));const E={query:c,items:k[this.resource],total:V};f(E)}}})})}getGraphColumn(){const n=this.options.columns.filter(f=>!["custom","query"].includes(f.type)),r=n.filter(f=>!f.field.match(/\./)),l=n.filter(f=>f.field.match(/\./)),a=r.filter(f=>!f.field.match(/\./)).map(f=>f.field).join(`
`),s=this.getRefQuery(l);return`
    ${a}
    ${s}
    `}getSearchQuery(n){let r=[];if(n){const l=F({},n),a=Object.keys(l).filter(p=>!p.match(/\./)),s=Object.keys(l).filter(p=>p.match(/\./)),f=a.map(p=>{const C=this.getFilter(p,l[p]);return l[p]?`${C}`:""}).filter(p=>p).join(""),m=s.map(p=>({key:p,value:l[p]})),c=this.getRefFilter(m);r=[f,c]}return r.join(`
`)}getOrderQuery(n){return this.options.graphqlOrder&&n&&n.by?this.options.graphqlOrder(n.by,n.type):""}getQuery(n,r,l,a){const s=this.getOrderQuery(a),f=this.getSearchQuery(l),m=this.getGraphColumn();return`
      query getData($offset: Int!, $limit: Int!) {
        ${this.resource}_aggregate (
          ${this.options.filterKey}: {
            ${this.options.refFilter}
            ${f}
          }
          ${s}
        ) {
          ${this.options.aggregateQuery}
        }
        ${this.resource} (
          ${this.options.offsetKey}: $offset,
          ${this.options.limitKey}: $limit,
          ${this.options.filterKey}: {
            ${this.options.refFilter}
            ${f}
          }
          ${s}
        ) {
          ${m}
        }
      }
    `}getFilter(n,r){let l=r;typeof r=="string"&&(l=r.replace(/\\/g,"\\\\").replace(/"/g,'\\"'));const a=this.options.columns.find(s=>s.field===n);return this.options.graphqlFilter&&a&&l?this.options.graphqlFilter(a.field,a.field_type,l,a.filter_type):""}getRefQuery(n){const r=n.map(a=>a.field).map(a=>a.split(".")),l={};return r.forEach(a=>{a.reduce((s,f)=>(s[f]||(s[f]={}),s[f]),l)}),this.getRefQueryByNode(l,!0)}getRefQueryByNode(n,r=!1){const l=Object.keys(n);if(l.length){const a=l.map(s=>`
          ${s} ${this.getRefQueryByNode(n[s])}
        `).join(`
`);return r?a:`{ ${a} }`}return""}getRefFilter(n){if(!n||!n.length)return"";const r={};return n.forEach(l=>{const a=this.options.columns.find(m=>m.field===l.key),s=l.key.split("."),f=s.length;s.reduce((m,c,p)=>{let C={};return p===f-1&&(C=l.value,this.options.graphqlFilter&&a&&l.value&&(C=this.options.graphqlFilter(c,a.field_type,l.value,a.filter_type))),m[c]||(m[c]=C),m[c]},r)}),this.getRefFilterByNode(r,!0)}getRefFilterByNode(n,r=!1){if(typeof n=="object"){const l=Object.keys(n);if(l.length){const a=l.map(s=>typeof n[s]=="object"?`
              ${s}: ${this.getRefFilterByNode(n[s])}
            `:this.getRefFilterByNode(n[s])).join(`
`);return r?a:`{ ${a} }`}}return n}}function Ve(t){return{debug:e.inject("$vgrid",{debug:!1}).debug,searchable:t.searchable,orderable:t.orderable,filterable:t.filterable,columnFilterable:t.columnFilterable,columnVisible:t.columnVisible,statusable:t.statusable,pagination:t.pagination,exportable:t.exportable,columns:t.columns}}function Ne(t,o,n){const r=e.reactive(F(F({},Ve(t)),o)),l=new rt(t.data,r),a=()=>{l.updateData(t.data),n()};return e.watch(()=>t.data,()=>{a()}),{dataProvider:l,gridOption:r,setDataCollections:a}}function L(t,o){return e.computed({get:()=>t.modelValue,set:n=>{o("update:modelValue",n)}})}const Xt={key:0,class:"vgrid-pagination"},Jt=["onClick","innerHTML"],_=e.defineComponent({name:"Pagination",props:{modelValue:null,limit:{default:10},total:{default:0}},emits:["update:modelValue"],setup(t,{emit:o}){const n=t,r=L(n,o),l=e.computed(()=>n.total%n.limit?Math.floor(n.total/n.limit)+1:n.total/n.limit),a=e.computed(()=>{const f=[-2,-1,0,1,2].map(c=>c+r.value),m=[{label:"&laquo;",page:r.value-1,disable:r.value===0}];for(const c of f)c>=0&&c<l.value&&(c===0?m.push({label:"1",page:0}):c===r.value?m.push({label:c+1,page:c}):m.push({label:c+1,page:c}));return m.push({label:"&raquo;",page:r.value+1,disable:r.value===l.value-1}),l.value>5&&(r.value>2&&m.splice(1,0,{label:"1..",page:0}),r.value<l.value-3&&m.splice(m.length-1,0,{label:`..${l.value}`,page:l.value-1})),m}),s=f=>{r.value=f};return(f,m)=>e.unref(l)>1?(e.openBlock(),e.createElementBlock("nav",Xt,[e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(a),(c,p)=>(e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass({active:c.page===e.unref(r),disabled:c.disable}),key:p},[e.createElementVNode("a",{href:"javascript:;",onClick:C=>s(c.page),innerHTML:c.label},null,8,Jt)],2))),128))])])):e.createCommentVNode("",!0)}}),Ht={key:0,class:"vgrid-pagination vgrid-pagination--cursor"},Wt=["onClick","innerHTML","title"],M=e.defineComponent({name:"CursorPagination",props:{modelValue:null,meta:{default:{}}},emits:["update:modelValue"],setup(t,{emit:o}){const n=t,r=L(n,o),l=e.computed(()=>{var s,f,m,c;return[{label:"&lsaquo;",page:(s=n.meta)==null?void 0:s.prev_cursor,disable:!((f=n.meta)!=null&&f.prev_cursor),title:"Previous"},{label:"&rsaquo;",page:(m=n.meta)==null?void 0:m.next_cursor,disable:!((c=n.meta)!=null&&c.next_cursor),title:"Next"}]}),a=s=>{r.value=s};return(s,f)=>t.meta?(e.openBlock(),e.createElementBlock("nav",Ht,[e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(l),(m,c)=>(e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass({disabled:m.disable}),key:c},[e.createElementVNode("a",{href:"javascript:;",onClick:p=>a(m.page),innerHTML:m.label,title:m.title},null,8,Wt)],2))),128))])])):e.createCommentVNode("",!0)}});function Ce(t,o){if(!o)return"";const n=t.split("."),r=n.reduce((l,a,s)=>l[a]||(s<n.length-1?{}:null),o);return r||""}function fe(t){const o=e.computed(()=>t.column.format?typeof t.column.format=="function"?t.column.format(t.data):t.column.format.replace(/\{(\w*)\}/g,(r,l)=>Ce(l,t.data)):Ce(t.column.field,t.data)),n=e.computed(()=>{const r=t.column.type||"text",{field:l}=t.column,a=[`vgrid-column-type--${r}`,`vgrid-column-data--${l}`];return t.resize&&t.column.width&&a.push(`vgrid-field--${t.column.width}`),t.column.class&&a.push(t.column.class),a});return{text:o,classes:n}}const Zt=["innerHTML"],vt=e.defineComponent({name:"Basic",props:{column:null,data:null,resize:{type:Boolean,default:!1}},setup(t){const o=t,{text:n,classes:r}=fe(o);return(l,a)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-field",e.unref(r)])},[e.renderSlot(l.$slots,"default",{},()=>[e.createElementVNode("span",{innerHTML:e.unref(n)},null,8,Zt)])],2))}}),en=e.defineComponent({name:"DateTime",props:{column:null,data:null,resize:{type:Boolean,default:!1}},setup(t){const o=t,{text:n,classes:r}=fe(o),l=e.computed(()=>n.value);return(a,s)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-field",e.unref(r)])},[e.renderSlot(a.$slots,"default",{},()=>[e.createElementVNode("span",null,e.toDisplayString(e.unref(l)),1)])],2))}}),tn=e.defineComponent({name:"Timestamp",props:{column:null,data:null,resize:{type:Boolean,default:!1}},setup(t){const o=t,{text:n,classes:r}=fe(o),l=e.computed(()=>n.value);return(a,s)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-field",e.unref(r)])},[e.renderSlot(a.$slots,"default",{},()=>[e.createElementVNode("span",null,e.toDisplayString(e.unref(l)),1)])],2))}}),nn=["innerHTML"],on=e.defineComponent({name:"Custom",props:{column:null,data:null,resize:{type:Boolean,default:!1}},setup(t){const o=t,{text:n,classes:r}=fe(o);return(l,a)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-field",e.unref(r)])},[e.renderSlot(l.$slots,"default",{},()=>[e.createElementVNode("span",{innerHTML:e.unref(n)},null,8,nn)])],2))}}),z=e.defineComponent({name:"ColumnType",props:{column:null,data:null,resize:{type:Boolean}},setup(t){const o=n=>{let r=vt;switch(n){case"datetime":r=en;break;case"timestamp":r=tn;break;case"custom":r=on;break}return r};return(n,r)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(o(t.column.type)),{column:t.column,data:t.data,resize:t.resize},{default:e.withCtx(()=>[e.renderSlot(n.$slots,"default")]),_:3},8,["column","data","resize"]))}});function qe(t){return{classes:e.computed(()=>{const n=t.column.type||"text",{field:r}=t.column;return[`vgrid-column-type--${n}`,`vgrid-column-data--${r}`]})}}const rn={class:"vgrid-text-input"},ln=["value","placeholder"],be=e.defineComponent({name:"TextInput",props:{modelValue:{default:""},placeholder:{default:""},clearable:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(t,{expose:o,emit:n}){const r=t,l=L(r,n),a=e.ref(null),s=e.ref(!1),f=e.ref(null),m=e.computed(()=>r.clearable&&r.modelValue),c=()=>{l.value=""},p=B=>{s.value=!0,f.value&&clearTimeout(f.value),f.value=setTimeout(()=>{const k=B.target.value;l.value=k,s.value=!1},500)};return o({focus:async()=>{await e.nextTick(()=>{a.value&&a.value.focus()})}}),(B,k)=>(e.openBlock(),e.createElementBlock("div",rn,[e.createElementVNode("input",{class:e.normalizeClass(["vgrid-input",{"vgrid-input--active":e.unref(l)}]),ref_key:"input",ref:a,type:"text",value:e.unref(l),placeholder:t.placeholder,onInput:p},null,42,ln),e.unref(m)?(e.openBlock(),e.createElementBlock("a",{key:0,class:"vgrid-input-clear",href:"javascript:;",onClick:c},"\xD7")):e.createCommentVNode("",!0)]))}}),an=e.defineComponent({name:"Basic",props:{modelValue:null,column:null},emits:["update:modelValue"],setup(t,{emit:o}){const n=t,r=L(n,o),{classes:l}=qe(n);return(a,s)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-column-filter",e.unref(l)])},[e.createVNode(be,{modelValue:e.unref(r),"onUpdate:modelValue":s[0]||(s[0]=f=>e.isRef(r)?r.value=f:null)},null,8,["modelValue"])],2))}}),sn=e.createElementVNode("option",{value:""},"Clear selected",-1),cn=["value"],dn=e.defineComponent({name:"Dropdown",props:{modelValue:null,column:null},emits:["update:modelValue"],setup(t,{emit:o}){const n=t,r=L(n,o),{classes:l}=qe(n);return(a,s)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-column-filter",e.unref(l)])},[e.withDirectives(e.createElementVNode("select",{class:"vgrid-input",ref:"input","onUpdate:modelValue":s[0]||(s[0]=f=>e.isRef(r)?r.value=f:null)},[sn,(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.column.filter_value,f=>(e.openBlock(),e.createElementBlock("option",{value:f.id+""},e.toDisplayString(f.label),9,cn))),256))],512),[[e.vModelSelect,e.unref(r)]])],2))}}),Se=e.defineComponent({name:"ColumnFilter",props:{column:null},setup(t){const o=n=>{let r=an;switch(n){case"dropdown":r=dn;break}return r};return(n,r)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(o(t.column.filter_type)),{column:t.column},null,8,["column"]))}});function ue(t,o,n={}){const r=e.ref(!1),l=()=>({}),a=e.computed(()=>{const p=t.column.type||"text",{field:C}=t.column,B=[`vgrid-column-type--${p}`,`vgrid-column-data--${C}`];return o.value&&B.push("active"),B}),s=e.computed(()=>`Find ${t.column.label}`),f=()=>{document.dispatchEvent(new Event("vgrid-filter-editor")),r.value=!0,n&&n.value&&setTimeout(()=>{n.value.focus()},100)},m=()=>{r.value=!1},c=()=>{r.value=!1};return e.onMounted(()=>{document.body.addEventListener("click",c),document.addEventListener("vgrid-filter-editor",c)}),e.onBeforeUnmount(()=>{document.body.removeEventListener("click",c),document.removeEventListener("vgrid-filter-editor",c)}),{isEditor:r,stopClick:l,classes:a,placeholder:s,showEditor:f,onEnter:m}}const mn={class:"vgrid-filter-value"},fn={class:"vgrid-label--prefix"},un={class:"vgrid-filter-editor"},pn={class:"vgrid-filter-label"},hn=e.defineComponent({name:"Basic",props:{modelValue:null,column:null},emits:["update:modelValue"],setup(t,{emit:o}){const n=t,r=L(n,o),l=e.ref(),{isEditor:a,stopClick:s,classes:f,placeholder:m,showEditor:c,onEnter:p}=ue(n,r,l),C=e.computed(()=>r.value||"Any");return(B,k)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-filter-item",e.unref(f)]),onClick:k[2]||(k[2]=e.withModifiers((...V)=>e.unref(s)&&e.unref(s)(...V),["stop"]))},[e.createElementVNode("div",{class:e.normalizeClass(["vgrid-filter-handle",{active:e.unref(a),"vgrid-input--active":e.unref(r)}]),onClick:k[0]||(k[0]=(...V)=>e.unref(c)&&e.unref(c)(...V))},[e.createElementVNode("span",mn,[e.createElementVNode("span",fn,e.toDisplayString(t.column.label)+":\xA0",1),e.createElementVNode("strong",null,e.toDisplayString(e.unref(C)),1)])],2),e.withDirectives(e.createElementVNode("div",un,[e.createElementVNode("span",pn,e.toDisplayString(t.column.label)+":",1),e.createVNode(be,{class:"vgrid-input-sm",ref_key:"input",ref:l,placeholder:e.unref(m),modelValue:e.unref(r),"onUpdate:modelValue":k[1]||(k[1]=V=>e.isRef(r)?r.value=V:null),onEnter:e.unref(p)},null,8,["placeholder","modelValue","onEnter"])],512),[[e.vShow,e.unref(a)]])],2))}}),gn={class:"vgrid-filter-value"},yn={class:"vgrid-label--prefix"},kn={class:"vgrid-filter-editor"},En={class:"vgrid-filter-label"},Bn=e.createElementVNode("option",{value:""},"Select a value",-1),Vn=["value"],Nn=e.defineComponent({name:"Dropdown",props:{modelValue:null,column:null},emits:["update:modelValue"],setup(t,{emit:o}){const n=t,r=L(n,o),l=e.ref(null),{isEditor:a,stopClick:s,classes:f,placeholder:m,showEditor:c,onEnter:p}=ue(n,r,l),C=e.computed(()=>{if(r.value){const B=n.column.filter_value.find(k=>k.id==r.value);return B?B.label:r.value}return"Any"});return(B,k)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-filter-item",e.unref(f)]),onClick:k[2]||(k[2]=e.withModifiers((...V)=>e.unref(s)&&e.unref(s)(...V),["stop"]))},[e.createElementVNode("div",{class:e.normalizeClass(["vgrid-filter-handle",{active:e.unref(a),"vgrid-input--active":e.unref(r)}]),onClick:k[0]||(k[0]=(...V)=>e.unref(c)&&e.unref(c)(...V))},[e.createElementVNode("span",gn,[e.createElementVNode("span",yn,e.toDisplayString(t.column.label)+":\xA0",1),e.createElementVNode("strong",null,e.toDisplayString(e.unref(C)),1)])],2),e.withDirectives(e.createElementVNode("div",kn,[e.createElementVNode("span",En,e.toDisplayString(t.column.label)+":",1),e.withDirectives(e.createElementVNode("select",{class:"vgrid-input","onUpdate:modelValue":k[1]||(k[1]=V=>e.isRef(r)?r.value=V:null)},[Bn,(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.column.filter_value,V=>(e.openBlock(),e.createElementBlock("option",{value:V.id+""},e.toDisplayString(V.label),9,Vn))),256))],512),[[e.vModelSelect,e.unref(r)]])],512),[[e.vShow,e.unref(a)]])],2))}});function Ge(t){const o=t?`${t}`:"vgrid",n=Math.floor(1e5+Math.random()*9e5);return`${o}-${n}`}const Cn={class:"vgrid-filter-value"},bn={class:"vgrid-label--prefix"},Sn={class:"vgrid-filter-editor"},$n={class:"vgrid-filter-label"},Tn={class:"form-check"},Dn=["value","id"],xn=["for"],Fn=e.defineComponent({name:"Checkbox",props:{modelValue:null,column:null},emits:["update:modelValue"],setup(t,{emit:o}){const n=t,r=L(n,o);e.computed(()=>Ge("vgrid-checkbox-"));const{isEditor:l,stopClick:a,classes:s,placeholder:f,showEditor:m,onEnter:c}=ue(n,r),p=e.computed(()=>r.value&&r.value.length?n.column.filter_value.filter(B=>r.value.indexOf(B.id.toString())!==-1).map(B=>B.label).join(", "):"Any");return(C,B)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-filter-item",e.unref(s)]),onClick:B[2]||(B[2]=e.withModifiers((...k)=>e.unref(a)&&e.unref(a)(...k),["stop"]))},[e.createElementVNode("div",{class:e.normalizeClass(["vgrid-filter-handle",{active:e.unref(l),"vgrid-input--active":e.unref(r)}]),onClick:B[0]||(B[0]=(...k)=>e.unref(m)&&e.unref(m)(...k))},[e.createElementVNode("span",Cn,[e.createElementVNode("span",bn,e.toDisplayString(t.column.label)+":\xA0",1),e.createElementVNode("strong",null,e.toDisplayString(e.unref(p)),1)])],2),e.withDirectives(e.createElementVNode("div",Sn,[e.createElementVNode("span",$n,e.toDisplayString(t.column.label)+":",1),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.column.filter_value,k=>(e.openBlock(),e.createElementBlock("div",Tn,[e.withDirectives(e.createElementVNode("input",{class:"form-check-input","onUpdate:modelValue":B[1]||(B[1]=V=>e.isRef(r)?r.value=V:null),value:k.id+"",id:t.column.field+"-"+k.id,type:"checkbox"},null,8,Dn),[[e.vModelCheckbox,e.unref(r)]]),e.createElementVNode("label",{class:"form-check-label",for:t.column.field+"-"+k.id},e.toDisplayString(k.label),9,xn)]))),256))],512),[[e.vShow,e.unref(l)]])],2))}}),On={class:"vgrid-filter-value"},In={class:"vgrid-label--prefix"},wn={class:"vgrid-filter-editor"},Pn={class:"vgrid-filter-label"},An={class:"form-check"},Ln=["name","value","id"],Rn=["for"],_n=e.defineComponent({name:"Radio",props:{modelValue:null,column:null},emits:["update:modelValue"],setup(t,{emit:o}){const n=t,r=L(n,o),l=e.ref(null),a=e.computed(()=>Ge("vgrid-radio-")),{isEditor:s,stopClick:f,classes:m,placeholder:c,showEditor:p,onEnter:C}=ue(n,r,l),B=e.computed(()=>{if(r.value){const V=n.column.filter_value.find(E=>E.id==r.value);return V?V.label:r.value}return"Any"}),k=()=>{r.value=""};return(V,E)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-filter-item",e.unref(m)]),onClick:E[2]||(E[2]=e.withModifiers((...d)=>e.unref(f)&&e.unref(f)(...d),["stop"]))},[e.createElementVNode("div",{class:e.normalizeClass(["vgrid-filter-handle",{active:e.unref(s),"vgrid-input--active":e.unref(r)}]),onClick:E[0]||(E[0]=(...d)=>e.unref(p)&&e.unref(p)(...d))},[e.createElementVNode("span",On,[e.createElementVNode("span",In,e.toDisplayString(t.column.label)+":\xA0",1),e.createElementVNode("strong",null,e.toDisplayString(e.unref(B)),1)])],2),e.withDirectives(e.createElementVNode("div",wn,[e.createElementVNode("span",Pn,e.toDisplayString(t.column.label)+":",1),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.column.filter_value,d=>(e.openBlock(),e.createElementBlock("div",An,[e.withDirectives(e.createElementVNode("input",{class:"form-check-input",name:e.unref(a),"onUpdate:modelValue":E[1]||(E[1]=g=>e.isRef(r)?r.value=g:null),value:d.id+"",id:t.column.field+"-"+d.id,type:"radio"},null,8,Ln),[[e.vModelRadio,e.unref(r)]]),e.createElementVNode("label",{class:"form-check-label",for:t.column.field+"-"+d.id},e.toDisplayString(d.label),9,Rn)]))),256)),e.createElementVNode("div",{class:"text-center mt-2"},[e.createElementVNode("button",{class:"btn btn-sm",type:"button",onClick:k},"Clear")])],512),[[e.vShow,e.unref(s)]])],2))}}),Un={class:"vgrid-filter"},j=e.defineComponent({name:"Filter",props:{modelValue:{default:{}},columns:{default:()=>[]}},emits:["update:modelValue"],setup(t,{emit:o}){const r=L(t,o),l=a=>{let s=hn;switch(a){case"dropdown":s=Nn;break;case"checkbox":s=Fn;break;case"radio":s=_n;break}return s};return(a,s)=>(e.openBlock(),e.createElementBlock("div",Un,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.columns,f=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:f.id},[f.filter?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(l(f.filter_type)),{key:0,column:f,modelValue:e.unref(r)[f.field],"onUpdate:modelValue":m=>e.unref(r)[f.field]=m},null,8,["column","modelValue","onUpdate:modelValue"])):e.createCommentVNode("",!0)],64))),128))]))}}),Mn={class:"vgrid-order"},zn={class:"vgrid-select"},jn=["value"],qn=e.createElementVNode("span",{class:"vgrid-label--prefix"},"Sort:",-1),Gn=["onClick"],q=e.defineComponent({name:"Order",props:{modelValue:{default:()=>({by:"",type:"desc"})},columns:{default:()=>[]},hasSortType:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(t,{emit:o}){const n=t,r=e.computed({get:()=>({by:n.modelValue?n.modelValue.by:"",type:n.modelValue?n.modelValue.type:"desc"}),set:m=>{o("update:modelValue",m)}}),l=e.computed({get:()=>r.value.by,set:m=>{r.value=Z(F({},r.value),{by:m})}}),a=e.computed(()=>n.columns?n.columns.find(m=>m.field===r.value.by)||{}:null),s=e.computed(()=>n.columns.filter(m=>m.order)),f=()=>{r.value=Z(F({},r.value),{type:r.value.type==="desc"?"asc":"desc"})};return(m,c)=>(e.openBlock(),e.createElementBlock("div",Mn,[e.createElementVNode("div",zn,[e.withDirectives(e.createElementVNode("select",{class:"vgrid-input","onUpdate:modelValue":c[0]||(c[0]=p=>e.isRef(l)?l.value=p:null)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(s),p=>(e.openBlock(),e.createElementBlock("option",{value:p.field},e.toDisplayString(p.label),9,jn))),256))],512),[[e.vModelSelect,e.unref(l)]]),e.createElementVNode("label",null,[qn,e.createElementVNode("strong",null,e.toDisplayString(e.unref(a).label),1)])]),t.hasSortType?(e.openBlock(),e.createElementBlock("button",{key:0,class:"vgrid-order-type",onClick:e.withModifiers(f,["stop"])},e.toDisplayString(e.unref(r).type),9,Gn)):e.createCommentVNode("",!0)]))}}),Kn={class:"vgrid-size"},Qn=e.createElementVNode("span",null,"Show",-1),Yn=["value"],Xn=e.createElementVNode("span",null,"entries",-1),G=e.defineComponent({name:"PageSize",props:{modelValue:null,sizes:{default:()=>[5,10,20,50,100]}},emits:["update:modelValue"],setup(t,{emit:o}){const r=L(t,o);return(l,a)=>(e.openBlock(),e.createElementBlock("div",Kn,[Qn,e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":a[0]||(a[0]=s=>e.isRef(r)?r.value=s:null)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.sizes,(s,f)=>(e.openBlock(),e.createElementBlock("option",{value:s,key:f},e.toDisplayString(s),9,Yn))),128))],512),[[e.vModelSelect,e.unref(r)]]),Xn]))}}),Jn=["onClick"],Hn=[e.createElementVNode("span",null,"Columns visibility",-1)],Wn={class:"vgrid-visibility-body"},Zn=["id","value"],vn=["for"],eo=["onClick"],to=["onClick"],K=e.defineComponent({name:"ColumnsVisibility",props:{modelValue:{default:()=>({})},columns:{default:()=>[]}},emits:["update:modelValue"],setup(t,{emit:o}){const n=t,r=L(n,o),l=e.ref(!1),a=e.ref([]),s=e.ref([]);e.watch(()=>a.value,()=>{m()});const f=()=>{l.value=!l.value},m=()=>{r.value=k()},c=()=>({}),p=()=>{s.value=[...n.columns],a.value=r.value},C=E=>{if(E<n.columns.length-1){const d=E,g=E+1;s.value.splice(g,0,s.value.splice(d,1)[0]),m()}},B=E=>{if(E>0){const d=E,g=E-1;s.value.splice(g,0,s.value.splice(d,1)[0]),m()}},k=()=>s.value.filter(E=>a.value.includes(E.field)).map(E=>E.field),V=()=>{l.value=!1};return e.onMounted(()=>{document.body.addEventListener("click",V),p()}),e.onBeforeUnmount(()=>{document.body.removeEventListener("click",V)}),(E,d)=>(e.openBlock(),e.createElementBlock("div",{class:"vgrid-visibility",onClick:e.withModifiers(c,["stop"])},[e.createElementVNode("button",{class:"vgrid-visibility-button",type:"button",onClick:f},Hn),e.withDirectives(e.createElementVNode("div",Wn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.value,(g,x)=>e.withDirectives((e.openBlock(),e.createElementBlock("div",{class:"vgrid-visibility-column",key:g.field},[e.withDirectives(e.createElementVNode("input",{type:"checkbox",id:"grid-column-"+g.field,"onUpdate:modelValue":d[0]||(d[0]=T=>a.value=T),value:g.field},null,8,Zn),[[e.vModelCheckbox,a.value]]),e.createElementVNode("label",{for:"grid-column-"+g.field},e.toDisplayString(e.unref(P)(g.label||g.field)),9,vn),e.createElementVNode("button",{class:"vgrid-visibility-down",onClick:T=>B(x)},"\xA0",8,eo),e.createElementVNode("button",{class:"vgrid-visibility-up",onClick:T=>C(x)},"\xA0",8,to)])),[[e.vShow,g.type!=="hidden"]])),128))],512),[[e.vShow,l.value]])],8,Jn))}}),no=["onSubmit"],Q=e.defineComponent({name:"Search",props:{modelValue:{default:""},placeholder:{default:"Search"}},emits:["update:modelValue"],setup(t,{emit:o}){const r=L(t,o),l=()=>({});return(a,s)=>(e.openBlock(),e.createElementBlock("form",{class:"vgrid-search",onSubmit:e.withModifiers(l,["prevent"])},[e.createVNode(be,{placeholder:t.placeholder,modelValue:e.unref(r),"onUpdate:modelValue":s[0]||(s[0]=f=>e.isRef(r)?r.value=f:null)},null,8,["placeholder","modelValue"])],40,no))}}),oo={class:"vgrid-status"},Y=e.defineComponent({name:"Status",props:{limit:{default:10},currentPage:{default:0},total:{default:0},showed:{default:10}},setup(t){const o=t,n=e.computed(()=>{const r=o.limit*o.currentPage,l=r+o.showed;return`Showing ${r+1} to ${l} of ${o.total} entries`});return(r,l)=>(e.openBlock(),e.createElementBlock("div",oo,e.toDisplayString(e.unref(n)),1))}}),ro={class:"vgrid-export-button"},X=e.defineComponent({name:"ExportButton",props:{data:{default:()=>[]},columns:{default:()=>[]},fileName:{default:new Date().toISOString()}},setup(t){const o=t,n=e.computed(()=>o.columns.filter(l=>l.type!=="custom")),r=()=>{const l=n.value.map(c=>c.label).join(","),a=o.data.map(c=>n.value.map(p=>Ce(p.field,c)).map(p=>`"${p}"`).join(",")).join(`
`),s=`data:text/csv;charset=utf-8,${l}
${a}`,f=encodeURI(s),m=document.createElement("a");m.setAttribute("href",f),m.setAttribute("download",`${o.fileName}.csv`),document.body.appendChild(m),m.click()};return(l,a)=>(e.openBlock(),e.createElementBlock("div",ro,[e.createElementVNode("button",{onClick:r},"Export")]))}}),lo={class:"vgrid-header"},ao={class:"vgrid-body"},so={key:0,class:"vgrid-nodata"},io={key:0},co={key:1},mo={class:"vgrid-responsive"},fo={class:"vgrid-table"},uo=["onClick"],po={class:"vgrid-field-header-content"},ho={key:0,class:"vgrid-table-filter"},go={key:1},yo=["colspan"],ko={key:0},Eo={key:1},Bo={key:2,class:"vgrid-loader"},Vo=[e.createElementVNode("span",{class:"vgrid-sr-only"},"Loading..",-1)],No={class:"vgrid-footer"},Co={key:0,class:"vgrid-devbar"},bo={class:"vgrid-col-9"},So={class:"vgrid-col-3 vgrid-align-right"},$o={key:0},Ke=e.defineComponent({name:"BasicGrid",props:{data:{default:()=>[]},columns:{default:()=>[]},perPage:null,filterable:{type:Boolean,default:!0},columnFilterable:{type:Boolean,default:!1},columnVisible:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},searchPlaceholder:null,orderable:{type:Boolean,default:!1},sortBy:null,sortType:{default:"desc"},statusable:{type:Boolean,default:!0},pagable:{type:Boolean,default:!0},pagination:{type:Boolean,default:!0},strEmptyFilteredData:{default:"No data matched"},strEmptyData:{default:"Empty data"},exportable:{type:Boolean,default:!1},exportFileName:null,colMd:{default:6},colLg:{default:4},colXl:{default:3},routeState:{type:Boolean,default:!1},cursorPagination:{type:Boolean,default:!1}},emits:["data-changed"],setup(t,{expose:o,emit:n}){const r=t,{gridOption:l,dataProvider:a,setDataCollections:s}=Ne(r,{displayType:"grid",dataType:"json"},()=>{T()}),{hasColumnFilter:f,hasColumnOrder:m,cardColumnClasses:c,dataState:p,hasRecord:C,columnVisibility:B,isEmptyData:k,visibleCols:V,gridClasses:E,setColumnVisibility:d,gridState:g,isFiltered:x,getData:T,setOrder:R,resetGrid:N}=U(r,n,a,l);return d(),T(),o({getData:T}),(u,i)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid",e.unref(E)])},[e.createElementVNode("div",lo,[e.renderSlot(u.$slots,"header",{},()=>[e.renderSlot(u.$slots,"header-start"),t.searchable?(e.openBlock(),e.createBlock(Q,{key:0,modelValue:e.unref(g).searchKeyword,"onUpdate:modelValue":i[0]||(i[0]=y=>e.unref(g).searchKeyword=y),placeholder:t.searchPlaceholder},null,8,["modelValue","placeholder"])):e.createCommentVNode("",!0),t.filterable&&e.unref(f)?(e.openBlock(),e.createBlock(j,{key:1,modelValue:e.unref(g).where,"onUpdate:modelValue":i[1]||(i[1]=y=>e.unref(g).where=y),columns:t.columns},null,8,["modelValue","columns"])):e.createCommentVNode("",!0),t.orderable&&e.unref(m)?(e.openBlock(),e.createBlock(q,{key:2,class:"vgrid-ml-auto",modelValue:e.unref(g).order,"onUpdate:modelValue":i[2]||(i[2]=y=>e.unref(g).order=y),"has-sort-type":e.unref(g).hasSortType,columns:t.columns},null,8,["modelValue","has-sort-type","columns"])):e.createCommentVNode("",!0),t.columnVisible?(e.openBlock(),e.createBlock(K,{key:3,class:"vgrid-ml-auto",columns:t.columns,modelValue:e.unref(B),"onUpdate:modelValue":i[3]||(i[3]=y=>e.isRef(B)?B.value=y:null)},null,8,["columns","modelValue"])):e.createCommentVNode("",!0),t.exportable?(e.openBlock(),e.createBlock(X,{key:4,class:"vgrid-ml-auto",columns:e.unref(V),data:e.unref(p).records,"file-name":t.exportFileName?t.exportFileName:""},null,8,["columns","data","file-name"])):e.createCommentVNode("",!0),e.renderSlot(u.$slots,"header-end")])]),e.createElementVNode("div",ao,[e.unref(C)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",so,[e.unref(x)?(e.openBlock(),e.createElementBlock("span",co,e.toDisplayString(t.strEmptyFilteredData),1)):(e.openBlock(),e.createElementBlock("span",io,e.toDisplayString(t.strEmptyData),1))])),e.unref(k)?e.createCommentVNode("",!0):e.renderSlot(u.$slots,"body",{key:1,entries:e.unref(p).records,visibleCols:e.unref(V)},()=>[e.createElementVNode("div",mo,[e.createElementVNode("table",fo,[e.renderSlot(u.$slots,"table-head",{cols:e.unref(V)},()=>[e.createElementVNode("thead",null,[e.createElementVNode("tr",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(V),y=>(e.openBlock(),e.createElementBlock("th",{class:e.normalizeClass(["vgrid-field-header",y.headerClasses]),onClick:$=>e.unref(R)(y.field),key:y.id},[e.createElementVNode("div",po,[e.renderSlot(u.$slots,"column-header-"+y.field,{col:y},()=>[e.createElementVNode("span",null,e.toDisplayString(y.showedLabel),1),e.createElementVNode("b",{class:e.normalizeClass(y.orderClasses)},null,2)])])],10,uo))),128))])])]),e.renderSlot(u.$slots,"table-body",{entries:e.unref(p).records},()=>[e.createElementVNode("tbody",null,[t.columnFilterable&&e.unref(f)?(e.openBlock(),e.createElementBlock("tr",ho,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(V),y=>(e.openBlock(),e.createElementBlock("td",{key:y.field},[y.filter?(e.openBlock(),e.createBlock(Se,{key:0,column:y,modelValue:e.unref(g).where[y.field],"onUpdate:modelValue":$=>e.unref(g).where[y.field]=$},null,8,["column","modelValue","onUpdate:modelValue"])):e.createCommentVNode("",!0)]))),128))])):e.createCommentVNode("",!0),e.unref(C)?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:2},e.renderList(e.unref(p).records,(y,$)=>(e.openBlock(),e.createElementBlock("tr",null,[e.renderSlot(u.$slots,"default",{entry:y,index:$,visibleCols:e.unref(V)},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(V),A=>(e.openBlock(),e.createElementBlock("td",{key:A.field},[e.createVNode(z,{column:A,data:y,class:e.normalizeClass(A.columnClasses)},{default:e.withCtx(()=>[e.renderSlot(u.$slots,"column-"+A.field,{entry:y,index:$})]),_:2},1032,["column","data","class"])]))),128))])]))),256)):(e.openBlock(),e.createElementBlock("tr",go,[e.createElementVNode("td",{colspan:e.unref(V).length},[e.unref(x)?(e.openBlock(),e.createElementBlock("span",Eo,e.toDisplayString(t.strEmptyFilteredData),1)):(e.openBlock(),e.createElementBlock("span",ko,e.toDisplayString(t.strEmptyData),1))],8,yo)]))])])])])]),e.unref(g).isLoading?(e.openBlock(),e.createElementBlock("div",Bo,Vo)):e.createCommentVNode("",!0)]),e.createElementVNode("div",No,[e.renderSlot(u.$slots,"footer",{},()=>[e.renderSlot(u.$slots,"footer-start"),t.pagable?(e.openBlock(),e.createBlock(G,{key:0,modelValue:e.unref(g).limit,"onUpdate:modelValue":i[4]||(i[4]=y=>e.unref(g).limit=y),sizes:e.unref(g).pageSizes},null,8,["modelValue","sizes"])):e.createCommentVNode("",!0),t.cursorPagination?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[t.statusable?(e.openBlock(),e.createBlock(Y,{key:0,limit:e.unref(g).limit,"current-page":e.unref(g).currentPage,showed:e.unref(p).records.length,total:e.unref(p).total},null,8,["limit","current-page","showed","total"])):e.createCommentVNode("",!0)],64)),t.pagination?e.renderSlot(u.$slots,"pagination",{key:2},()=>[t.cursorPagination?(e.openBlock(),e.createBlock(M,{key:0,modelValue:e.unref(g).currentPage,"onUpdate:modelValue":i[5]||(i[5]=y=>e.unref(g).currentPage=y),meta:e.unref(p).meta},null,8,["modelValue","meta"])):(e.openBlock(),e.createBlock(_,{key:1,modelValue:e.unref(g).currentPage,"onUpdate:modelValue":i[6]||(i[6]=y=>e.unref(g).currentPage=y),limit:e.unref(g).limit,total:e.unref(p).total},null,8,["modelValue","limit","total"]))]):e.createCommentVNode("",!0),e.renderSlot(u.$slots,"footer-end")]),e.unref(l).debug?(e.openBlock(),e.createElementBlock("div",Co,[e.createElementVNode("div",bo,[e.createElementVNode("pre",null,e.toDisplayString(e.unref(g).query),1)]),e.createElementVNode("div",So,[e.unref(g).isLoading?(e.openBlock(),e.createElementBlock("span",$o,"Loading..")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0)])],2))}}),To={class:"vgrid-header"},Do={class:"vgrid-body"},xo={key:0,class:"vgrid-nodata"},Fo={key:0},Oo={key:1},Io={class:"vgrid-row"},wo={class:"vgrid-entry-wrapper"},Po={key:2,class:"vgrid-loader"},Ao=[e.createElementVNode("span",{class:"vgrid-sr-only"},"Loading..",-1)],Lo={class:"vgrid-footer"},Ro={key:0,class:"vgrid-devbar"},_o={class:"vgrid-col-9"},Uo={class:"vgrid-col-3 vgrid-align-right"},Mo={key:0},Qe=e.defineComponent({name:"BasicCards",props:{data:{default:()=>[]},columns:{default:()=>[]},perPage:null,filterable:{type:Boolean,default:!0},columnFilterable:{type:Boolean,default:!1},columnVisible:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},searchPlaceholder:null,orderable:{type:Boolean,default:!1},sortBy:null,sortType:{default:"desc"},statusable:{type:Boolean,default:!0},pagable:{type:Boolean,default:!0},pagination:{type:Boolean,default:!0},strEmptyFilteredData:{default:"No data matched"},strEmptyData:{default:"Empty data"},exportable:{type:Boolean,default:!1},exportFileName:null,colMd:{default:6},colLg:{default:4},colXl:{default:3},routeState:{type:Boolean,default:!1},cursorPagination:{type:Boolean}},emits:["data-changed"],setup(t,{expose:o,emit:n}){const r=t,{gridOption:l,dataProvider:a,setDataCollections:s}=Ne(r,{displayType:"cards",dataType:"json"},()=>{T()}),{hasColumnFilter:f,hasColumnOrder:m,cardColumnClasses:c,dataState:p,hasRecord:C,columnVisibility:B,isEmptyData:k,visibleCols:V,gridClasses:E,setColumnVisibility:d,gridState:g,isFiltered:x,getData:T,setOrder:R,resetGrid:N}=U(r,n,a,l);return d(),T(),o({getData:T}),(u,i)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid",e.unref(E)])},[e.createElementVNode("div",To,[e.renderSlot(u.$slots,"header",{},()=>[e.renderSlot(u.$slots,"header-start"),t.searchable?(e.openBlock(),e.createBlock(Q,{key:0,modelValue:e.unref(g).searchKeyword,"onUpdate:modelValue":i[0]||(i[0]=y=>e.unref(g).searchKeyword=y),placeholder:t.searchPlaceholder},null,8,["modelValue","placeholder"])):e.createCommentVNode("",!0),t.filterable&&e.unref(f)?(e.openBlock(),e.createBlock(j,{key:1,modelValue:e.unref(g).where,"onUpdate:modelValue":i[1]||(i[1]=y=>e.unref(g).where=y),columns:t.columns},null,8,["modelValue","columns"])):e.createCommentVNode("",!0),t.orderable&&e.unref(m)?(e.openBlock(),e.createBlock(q,{key:2,class:"vgrid-ml-auto",modelValue:e.unref(g).order,"onUpdate:modelValue":i[2]||(i[2]=y=>e.unref(g).order=y),"has-sort-type":e.unref(g).hasSortType,columns:t.columns},null,8,["modelValue","has-sort-type","columns"])):e.createCommentVNode("",!0),t.columnVisible?(e.openBlock(),e.createBlock(K,{key:3,class:"vgrid-ml-auto",columns:t.columns,modelValue:e.unref(B),"onUpdate:modelValue":i[3]||(i[3]=y=>e.isRef(B)?B.value=y:null)},null,8,["columns","modelValue"])):e.createCommentVNode("",!0),t.exportable?(e.openBlock(),e.createBlock(X,{key:4,class:"vgrid-ml-auto",columns:e.unref(V),data:e.unref(p).records,"file-name":t.exportFileName?t.exportFileName:""},null,8,["columns","data","file-name"])):e.createCommentVNode("",!0),e.renderSlot(u.$slots,"header-end")])]),e.createElementVNode("div",Do,[e.unref(C)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",xo,[e.unref(x)?(e.openBlock(),e.createElementBlock("span",Oo,e.toDisplayString(t.strEmptyFilteredData),1)):(e.openBlock(),e.createElementBlock("span",Fo,e.toDisplayString(t.strEmptyData),1))])),e.unref(k)?e.createCommentVNode("",!0):e.renderSlot(u.$slots,"body",{key:1,entries:e.unref(p).records,visibleCols:e.unref(V)},()=>[e.createElementVNode("div",Io,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(p).records,(y,$)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-col",e.unref(c)])},[e.renderSlot(u.$slots,"default",{entry:y,index:$,visibleCols:e.unref(V)},()=>[e.createElementVNode("div",wo,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(V),A=>(e.openBlock(),e.createBlock(z,{column:A,data:y,key:A.id,resize:!0,class:e.normalizeClass(A.columnClasses)},{default:e.withCtx(()=>[e.renderSlot(u.$slots,"column-"+A.field,{entry:y,index:$})]),_:2},1032,["column","data","class"]))),128))])])],2))),256))])]),e.unref(g).isLoading?(e.openBlock(),e.createElementBlock("div",Po,Ao)):e.createCommentVNode("",!0)]),e.createElementVNode("div",Lo,[e.renderSlot(u.$slots,"footer",{},()=>[e.renderSlot(u.$slots,"footer-start"),t.pagable?(e.openBlock(),e.createBlock(G,{key:0,modelValue:e.unref(g).limit,"onUpdate:modelValue":i[4]||(i[4]=y=>e.unref(g).limit=y),sizes:e.unref(g).pageSizes},null,8,["modelValue","sizes"])):e.createCommentVNode("",!0),t.cursorPagination?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[t.statusable?(e.openBlock(),e.createBlock(Y,{key:0,limit:e.unref(g).limit,"current-page":e.unref(g).currentPage,showed:e.unref(p).records.length,total:e.unref(p).total},null,8,["limit","current-page","showed","total"])):e.createCommentVNode("",!0)],64)),t.pagination?e.renderSlot(u.$slots,"pagination",{key:2},()=>[t.cursorPagination?(e.openBlock(),e.createBlock(M,{key:0,modelValue:e.unref(g).currentPage,"onUpdate:modelValue":i[5]||(i[5]=y=>e.unref(g).currentPage=y),meta:e.unref(p).meta},null,8,["modelValue","meta"])):(e.openBlock(),e.createBlock(_,{key:1,modelValue:e.unref(g).currentPage,"onUpdate:modelValue":i[6]||(i[6]=y=>e.unref(g).currentPage=y),limit:e.unref(g).limit,total:e.unref(p).total},null,8,["modelValue","limit","total"]))]):e.createCommentVNode("",!0),e.renderSlot(u.$slots,"footer-end")]),e.unref(l).debug?(e.openBlock(),e.createElementBlock("div",Ro,[e.createElementVNode("div",_o,[e.createElementVNode("pre",null,e.toDisplayString(e.unref(g).query),1)]),e.createElementVNode("div",Uo,[e.unref(g).isLoading?(e.openBlock(),e.createElementBlock("span",Mo,"Loading..")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0)])],2))}}),zo={class:"vgrid-header"},jo={class:"vgrid-body"},qo={key:0,class:"vgrid-nodata"},Go={key:0},Ko={key:1},Qo={class:"vgrid-entry-wrapper"},Yo={key:2,class:"vgrid-loader"},Xo=[e.createElementVNode("span",{class:"vgrid-sr-only"},"Loading..",-1)],Jo={class:"vgrid-footer"},Ho={key:0,class:"vgrid-devbar"},Wo={class:"vgrid-col-9"},Zo={class:"vgrid-col-3 vgrid-align-right"},vo={key:0},Ye=e.defineComponent({name:"BasicList",props:{data:{default:()=>[]},columns:{default:()=>[]},perPage:null,filterable:{type:Boolean,default:!0},columnFilterable:{type:Boolean,default:!1},columnVisible:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},searchPlaceholder:null,orderable:{type:Boolean,default:!1},sortBy:null,sortType:{default:"desc"},statusable:{type:Boolean,default:!0},pagable:{type:Boolean,default:!0},pagination:{type:Boolean,default:!0},strEmptyFilteredData:{default:"No data matched"},strEmptyData:{default:"Empty data"},exportable:{type:Boolean,default:!1},exportFileName:null,colMd:{default:6},colLg:{default:4},colXl:{default:3},routeState:{type:Boolean,default:!1},cursorPagination:{type:Boolean}},emits:["data-changed"],setup(t,{expose:o,emit:n}){const r=t,{gridOption:l,dataProvider:a,setDataCollections:s}=Ne(r,{displayType:"list",dataType:"json"},()=>{T()}),{hasColumnFilter:f,hasColumnOrder:m,cardColumnClasses:c,dataState:p,hasRecord:C,columnVisibility:B,isEmptyData:k,visibleCols:V,gridClasses:E,setColumnVisibility:d,gridState:g,isFiltered:x,getData:T,setOrder:R,resetGrid:N}=U(r,n,a,l);return d(),T(),o({getData:T}),(u,i)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid",e.unref(E)])},[e.createElementVNode("div",zo,[e.renderSlot(u.$slots,"header",{},()=>[e.renderSlot(u.$slots,"header-start"),t.searchable?(e.openBlock(),e.createBlock(Q,{key:0,modelValue:e.unref(g).searchKeyword,"onUpdate:modelValue":i[0]||(i[0]=y=>e.unref(g).searchKeyword=y),placeholder:t.searchPlaceholder},null,8,["modelValue","placeholder"])):e.createCommentVNode("",!0),t.filterable&&e.unref(f)?(e.openBlock(),e.createBlock(j,{key:1,modelValue:e.unref(g).where,"onUpdate:modelValue":i[1]||(i[1]=y=>e.unref(g).where=y),columns:t.columns},null,8,["modelValue","columns"])):e.createCommentVNode("",!0),t.orderable&&e.unref(m)?(e.openBlock(),e.createBlock(q,{key:2,class:"vgrid-ml-auto",modelValue:e.unref(g).order,"onUpdate:modelValue":i[2]||(i[2]=y=>e.unref(g).order=y),"has-sort-type":e.unref(g).hasSortType,columns:t.columns},null,8,["modelValue","has-sort-type","columns"])):e.createCommentVNode("",!0),t.columnVisible?(e.openBlock(),e.createBlock(K,{key:3,class:"vgrid-ml-auto",columns:t.columns,modelValue:e.unref(B),"onUpdate:modelValue":i[3]||(i[3]=y=>e.isRef(B)?B.value=y:null)},null,8,["columns","modelValue"])):e.createCommentVNode("",!0),t.exportable?(e.openBlock(),e.createBlock(X,{key:4,class:"vgrid-ml-auto",columns:e.unref(V),data:e.unref(p).records,"file-name":t.exportFileName?t.exportFileName:""},null,8,["columns","data","file-name"])):e.createCommentVNode("",!0),e.renderSlot(u.$slots,"header-end")])]),e.createElementVNode("div",jo,[e.unref(C)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",qo,[e.unref(x)?(e.openBlock(),e.createElementBlock("span",Ko,e.toDisplayString(t.strEmptyFilteredData),1)):(e.openBlock(),e.createElementBlock("span",Go,e.toDisplayString(t.strEmptyData),1))])),e.unref(k)?e.createCommentVNode("",!0):e.renderSlot(u.$slots,"body",{key:1,entries:e.unref(p).records,visibleCols:e.unref(V)},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(p).records,(y,$)=>(e.openBlock(),e.createElementBlock("div",Qo,[e.renderSlot(u.$slots,"default",{entry:y,index:$,visibleCols:e.unref(V)},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(V),A=>(e.openBlock(),e.createBlock(z,{column:A,data:y,key:A.id,resize:!0,class:e.normalizeClass(A.columnClasses)},{default:e.withCtx(()=>[e.renderSlot(u.$slots,"column-"+A.field,{entry:y,index:$})]),_:2},1032,["column","data","class"]))),128))])]))),256))]),e.unref(g).isLoading?(e.openBlock(),e.createElementBlock("div",Yo,Xo)):e.createCommentVNode("",!0)]),e.createElementVNode("div",Jo,[e.renderSlot(u.$slots,"footer",{},()=>[e.renderSlot(u.$slots,"footer-start"),t.pagable?(e.openBlock(),e.createBlock(G,{key:0,modelValue:e.unref(g).limit,"onUpdate:modelValue":i[4]||(i[4]=y=>e.unref(g).limit=y),sizes:e.unref(g).pageSizes},null,8,["modelValue","sizes"])):e.createCommentVNode("",!0),t.cursorPagination?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[t.statusable?(e.openBlock(),e.createBlock(Y,{key:0,limit:e.unref(g).limit,"current-page":e.unref(g).currentPage,showed:e.unref(p).records.length,total:e.unref(p).total},null,8,["limit","current-page","showed","total"])):e.createCommentVNode("",!0)],64)),t.pagination?e.renderSlot(u.$slots,"pagination",{key:2},()=>[t.cursorPagination?(e.openBlock(),e.createBlock(M,{key:0,modelValue:e.unref(g).currentPage,"onUpdate:modelValue":i[5]||(i[5]=y=>e.unref(g).currentPage=y),meta:e.unref(p).meta},null,8,["modelValue","meta"])):(e.openBlock(),e.createBlock(_,{key:1,modelValue:e.unref(g).currentPage,"onUpdate:modelValue":i[6]||(i[6]=y=>e.unref(g).currentPage=y),limit:e.unref(g).limit,total:e.unref(p).total},null,8,["modelValue","limit","total"]))]):e.createCommentVNode("",!0),e.renderSlot(u.$slots,"footer-end")]),e.unref(l).debug?(e.openBlock(),e.createElementBlock("div",Ho,[e.createElementVNode("div",Wo,[e.createElementVNode("pre",null,e.toDisplayString(e.unref(g).query),1)]),e.createElementVNode("div",Zo,[e.unref(g).isLoading?(e.openBlock(),e.createElementBlock("span",vo,"Loading..")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0)])],2))}});function $e(t,o){const n=e.inject("$vgrid",{cursorKey:"cursor",pageKey:"page",hasSortType:!0,sortKey:"sort",sortTypeKey:"sort_type",perPageKey:"limit",fetchData:null,cancelToken:null,getPageIndex:null,extractData:null}),r={resource:t.resource,searchField:t.searchField,pageKey:t.cursorPagination?n.cursorKey:n.pageKey,cursorPagination:t.cursorPagination,perPageKey:n.perPageKey,sortKey:n.sortKey,sortTypeKey:n.sortTypeKey,getPageIndex:n.getPageIndex,extractData:n.extractData,fetchData:n.fetchData,cancelToken:n.cancelToken},l=e.reactive(F(F(F({},Ve(t)),r),o));return{dataProvider:new lt(t.resource,l),gridOption:l}}const er={class:"vgrid-header"},tr={class:"vgrid-body"},nr={key:0,class:"vgrid-nodata"},or={key:0},rr={key:1},lr={class:"vgrid-responsive"},ar={class:"vgrid-table"},sr=["onClick"],ir={class:"vgrid-field-header-content"},cr={key:0,class:"vgrid-table-filter"},dr={key:1},mr=["colspan"],fr={key:0},ur={key:1},pr={key:2,class:"vgrid-loader"},hr=[e.createElementVNode("span",{class:"vgrid-sr-only"},"Loading..",-1)],gr={class:"vgrid-footer"},yr={key:0,class:"vgrid-devbar"},kr={class:"vgrid-col-9"},Er={class:"vgrid-col-3 vgrid-align-right"},Br={key:0},Xe=e.defineComponent({name:"AjaxGrid",props:{resource:{default:""},searchField:{default:""},columns:{default:()=>[]},perPage:null,filterable:{type:Boolean,default:!0},columnFilterable:{type:Boolean,default:!1},columnVisible:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},searchPlaceholder:null,orderable:{type:Boolean,default:!1},sortBy:null,sortType:{default:"desc"},statusable:{type:Boolean,default:!0},pagable:{type:Boolean,default:!0},pagination:{type:Boolean,default:!0},strEmptyFilteredData:{default:"No data matched"},strEmptyData:{default:"Empty data"},exportable:{type:Boolean,default:!1},exportFileName:null,colMd:{default:6},colLg:{default:4},colXl:{default:3},routeState:{type:Boolean,default:!1},cursorPagination:{type:Boolean}},emits:["data-changed"],setup(t,{expose:o,emit:n}){const r=t,{gridOption:l,dataProvider:a}=$e(r,{displayType:"grid",dataType:"ajax"}),{hasColumnFilter:s,hasColumnOrder:f,cardColumnClasses:m,dataState:c,hasRecord:p,columnVisibility:C,isEmptyData:B,visibleCols:k,gridClasses:V,setColumnVisibility:E,gridState:d,isFiltered:g,getData:x,setOrder:T,resetGrid:R}=U(r,n,a,l);return E(),x(),o({getData:x}),(N,u)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid",e.unref(V)])},[e.createElementVNode("div",er,[e.renderSlot(N.$slots,"header",{},()=>[e.renderSlot(N.$slots,"header-start"),t.searchable?(e.openBlock(),e.createBlock(Q,{key:0,modelValue:e.unref(d).searchKeyword,"onUpdate:modelValue":u[0]||(u[0]=i=>e.unref(d).searchKeyword=i),placeholder:t.searchPlaceholder},null,8,["modelValue","placeholder"])):e.createCommentVNode("",!0),t.filterable&&e.unref(s)?(e.openBlock(),e.createBlock(j,{key:1,modelValue:e.unref(d).where,"onUpdate:modelValue":u[1]||(u[1]=i=>e.unref(d).where=i),columns:t.columns},null,8,["modelValue","columns"])):e.createCommentVNode("",!0),t.orderable&&e.unref(f)?(e.openBlock(),e.createBlock(q,{key:2,class:"vgrid-ml-auto",modelValue:e.unref(d).order,"onUpdate:modelValue":u[2]||(u[2]=i=>e.unref(d).order=i),"has-sort-type":e.unref(d).hasSortType,columns:t.columns},null,8,["modelValue","has-sort-type","columns"])):e.createCommentVNode("",!0),t.columnVisible?(e.openBlock(),e.createBlock(K,{key:3,class:"vgrid-ml-auto",columns:t.columns,modelValue:e.unref(C),"onUpdate:modelValue":u[3]||(u[3]=i=>e.isRef(C)?C.value=i:null)},null,8,["columns","modelValue"])):e.createCommentVNode("",!0),t.exportable?(e.openBlock(),e.createBlock(X,{key:4,class:"vgrid-ml-auto",columns:e.unref(k),data:e.unref(c).records,"file-name":t.exportFileName?t.exportFileName:""},null,8,["columns","data","file-name"])):e.createCommentVNode("",!0),e.renderSlot(N.$slots,"header-end")])]),e.createElementVNode("div",tr,[e.unref(p)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",nr,[e.unref(g)?(e.openBlock(),e.createElementBlock("span",rr,e.toDisplayString(t.strEmptyFilteredData),1)):(e.openBlock(),e.createElementBlock("span",or,e.toDisplayString(t.strEmptyData),1))])),e.unref(B)?e.createCommentVNode("",!0):e.renderSlot(N.$slots,"body",{key:1,entries:e.unref(c).records,visibleCols:e.unref(k)},()=>[e.createElementVNode("div",lr,[e.createElementVNode("table",ar,[e.renderSlot(N.$slots,"table-head",{cols:e.unref(k)},()=>[e.createElementVNode("thead",null,[e.createElementVNode("tr",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(k),i=>(e.openBlock(),e.createElementBlock("th",{class:e.normalizeClass(["vgrid-field-header",i.headerClasses]),onClick:y=>e.unref(T)(i.field),key:i.id},[e.createElementVNode("div",ir,[e.renderSlot(N.$slots,"column-header-"+i.field,{col:i},()=>[e.createElementVNode("span",null,e.toDisplayString(i.showedLabel),1),e.createElementVNode("b",{class:e.normalizeClass(i.orderClasses)},null,2)])])],10,sr))),128))])])]),e.renderSlot(N.$slots,"table-body",{entries:e.unref(c).records},()=>[e.createElementVNode("tbody",null,[t.columnFilterable&&e.unref(s)?(e.openBlock(),e.createElementBlock("tr",cr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(k),i=>(e.openBlock(),e.createElementBlock("td",{key:i.field},[i.filter?(e.openBlock(),e.createBlock(Se,{key:0,column:i,modelValue:e.unref(d).where[i.field],"onUpdate:modelValue":y=>e.unref(d).where[i.field]=y},null,8,["column","modelValue","onUpdate:modelValue"])):e.createCommentVNode("",!0)]))),128))])):e.createCommentVNode("",!0),e.unref(p)?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:2},e.renderList(e.unref(c).records,(i,y)=>(e.openBlock(),e.createElementBlock("tr",null,[e.renderSlot(N.$slots,"default",{entry:i,index:y,visibleCols:e.unref(k)},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(k),$=>(e.openBlock(),e.createElementBlock("td",{key:$.field},[e.createVNode(z,{column:$,data:i,class:e.normalizeClass($.columnClasses)},{default:e.withCtx(()=>[e.renderSlot(N.$slots,"column-"+$.field,{entry:i,index:y})]),_:2},1032,["column","data","class"])]))),128))])]))),256)):(e.openBlock(),e.createElementBlock("tr",dr,[e.createElementVNode("td",{colspan:e.unref(k).length},[e.unref(g)?(e.openBlock(),e.createElementBlock("span",ur,e.toDisplayString(t.strEmptyFilteredData),1)):(e.openBlock(),e.createElementBlock("span",fr,e.toDisplayString(t.strEmptyData),1))],8,mr)]))])])])])]),e.unref(d).isLoading?(e.openBlock(),e.createElementBlock("div",pr,hr)):e.createCommentVNode("",!0)]),e.createElementVNode("div",gr,[e.renderSlot(N.$slots,"footer",{},()=>[e.renderSlot(N.$slots,"footer-start"),t.pagable?(e.openBlock(),e.createBlock(G,{key:0,modelValue:e.unref(d).limit,"onUpdate:modelValue":u[4]||(u[4]=i=>e.unref(d).limit=i),sizes:e.unref(d).pageSizes},null,8,["modelValue","sizes"])):e.createCommentVNode("",!0),t.cursorPagination?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[t.statusable?(e.openBlock(),e.createBlock(Y,{key:0,limit:e.unref(d).limit,"current-page":e.unref(d).currentPage,showed:e.unref(c).records.length,total:e.unref(c).total},null,8,["limit","current-page","showed","total"])):e.createCommentVNode("",!0)],64)),t.pagination?e.renderSlot(N.$slots,"pagination",{key:2},()=>[t.cursorPagination?(e.openBlock(),e.createBlock(M,{key:0,modelValue:e.unref(d).currentPage,"onUpdate:modelValue":u[5]||(u[5]=i=>e.unref(d).currentPage=i),meta:e.unref(c).meta},null,8,["modelValue","meta"])):(e.openBlock(),e.createBlock(_,{key:1,modelValue:e.unref(d).currentPage,"onUpdate:modelValue":u[6]||(u[6]=i=>e.unref(d).currentPage=i),limit:e.unref(d).limit,total:e.unref(c).total},null,8,["modelValue","limit","total"]))]):e.createCommentVNode("",!0),e.renderSlot(N.$slots,"footer-end")]),e.unref(l).debug?(e.openBlock(),e.createElementBlock("div",yr,[e.createElementVNode("div",kr,[e.createElementVNode("pre",null,e.toDisplayString(e.unref(d).query),1)]),e.createElementVNode("div",Er,[e.unref(d).isLoading?(e.openBlock(),e.createElementBlock("span",Br,"Loading..")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0)])],2))}}),Vr={class:"vgrid-header"},Nr={class:"vgrid-body"},Cr={key:0,class:"vgrid-nodata"},br={key:0},Sr={key:1},$r={class:"vgrid-entry-wrapper"},Tr={key:2,class:"vgrid-loader"},Dr=[e.createElementVNode("span",{class:"vgrid-sr-only"},"Loading..",-1)],xr={class:"vgrid-footer"},Fr={key:0,class:"vgrid-devbar"},Or={class:"vgrid-col-9"},Ir={class:"vgrid-col-3 vgrid-align-right"},wr={key:0},Je=e.defineComponent({name:"AjaxList",props:{resource:{default:""},searchField:{default:""},columns:{default:()=>[]},perPage:null,filterable:{type:Boolean,default:!0},columnFilterable:{type:Boolean,default:!1},columnVisible:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},searchPlaceholder:null,orderable:{type:Boolean,default:!1},sortBy:null,sortType:{default:"desc"},statusable:{type:Boolean,default:!0},pagable:{type:Boolean,default:!0},pagination:{type:Boolean,default:!0},strEmptyFilteredData:{default:"No data matched"},strEmptyData:{default:"Empty data"},exportable:{type:Boolean,default:!1},exportFileName:null,colMd:{default:6},colLg:{default:4},colXl:{default:3},routeState:{type:Boolean,default:!1},cursorPagination:{type:Boolean}},emits:["data-changed"],setup(t,{expose:o,emit:n}){const r=t,{gridOption:l,dataProvider:a}=$e(r,{displayType:"list",dataType:"ajax"}),{hasColumnFilter:s,hasColumnOrder:f,cardColumnClasses:m,dataState:c,hasRecord:p,columnVisibility:C,isEmptyData:B,visibleCols:k,gridClasses:V,setColumnVisibility:E,gridState:d,isFiltered:g,getData:x,setOrder:T,resetGrid:R}=U(r,n,a,l);return E(),x(),o({getData:x}),(N,u)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid",e.unref(V)])},[e.createElementVNode("div",Vr,[e.renderSlot(N.$slots,"header",{},()=>[e.renderSlot(N.$slots,"header-start"),t.searchable?(e.openBlock(),e.createBlock(Q,{key:0,modelValue:e.unref(d).searchKeyword,"onUpdate:modelValue":u[0]||(u[0]=i=>e.unref(d).searchKeyword=i),placeholder:t.searchPlaceholder},null,8,["modelValue","placeholder"])):e.createCommentVNode("",!0),t.filterable&&e.unref(s)?(e.openBlock(),e.createBlock(j,{key:1,modelValue:e.unref(d).where,"onUpdate:modelValue":u[1]||(u[1]=i=>e.unref(d).where=i),columns:t.columns},null,8,["modelValue","columns"])):e.createCommentVNode("",!0),t.orderable&&e.unref(f)?(e.openBlock(),e.createBlock(q,{key:2,class:"vgrid-ml-auto",modelValue:e.unref(d).order,"onUpdate:modelValue":u[2]||(u[2]=i=>e.unref(d).order=i),"has-sort-type":e.unref(d).hasSortType,columns:t.columns},null,8,["modelValue","has-sort-type","columns"])):e.createCommentVNode("",!0),t.columnVisible?(e.openBlock(),e.createBlock(K,{key:3,class:"vgrid-ml-auto",columns:t.columns,modelValue:e.unref(C),"onUpdate:modelValue":u[3]||(u[3]=i=>e.isRef(C)?C.value=i:null)},null,8,["columns","modelValue"])):e.createCommentVNode("",!0),t.exportable?(e.openBlock(),e.createBlock(X,{key:4,class:"vgrid-ml-auto",columns:e.unref(k),data:e.unref(c).records,"file-name":t.exportFileName?t.exportFileName:""},null,8,["columns","data","file-name"])):e.createCommentVNode("",!0),e.renderSlot(N.$slots,"header-end")])]),e.createElementVNode("div",Nr,[e.unref(p)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Cr,[e.unref(g)?(e.openBlock(),e.createElementBlock("span",Sr,e.toDisplayString(t.strEmptyFilteredData),1)):(e.openBlock(),e.createElementBlock("span",br,e.toDisplayString(t.strEmptyData),1))])),e.unref(B)?e.createCommentVNode("",!0):e.renderSlot(N.$slots,"body",{key:1,entries:e.unref(c).records,visibleCols:e.unref(k)},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(c).records,(i,y)=>(e.openBlock(),e.createElementBlock("div",$r,[e.renderSlot(N.$slots,"default",{entry:i,index:y,visibleCols:e.unref(k)},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(k),$=>(e.openBlock(),e.createBlock(z,{column:$,data:i,key:$.id,resize:!0,class:e.normalizeClass($.columnClasses)},{default:e.withCtx(()=>[e.renderSlot(N.$slots,"column-"+$.field,{entry:i,index:y})]),_:2},1032,["column","data","class"]))),128))])]))),256))]),e.unref(d).isLoading?(e.openBlock(),e.createElementBlock("div",Tr,Dr)):e.createCommentVNode("",!0)]),e.createElementVNode("div",xr,[e.renderSlot(N.$slots,"footer",{},()=>[e.renderSlot(N.$slots,"footer-start"),t.pagable?(e.openBlock(),e.createBlock(G,{key:0,modelValue:e.unref(d).limit,"onUpdate:modelValue":u[4]||(u[4]=i=>e.unref(d).limit=i),sizes:e.unref(d).pageSizes},null,8,["modelValue","sizes"])):e.createCommentVNode("",!0),t.cursorPagination?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[t.statusable?(e.openBlock(),e.createBlock(Y,{key:0,limit:e.unref(d).limit,"current-page":e.unref(d).currentPage,showed:e.unref(c).records.length,total:e.unref(c).total},null,8,["limit","current-page","showed","total"])):e.createCommentVNode("",!0)],64)),t.pagination?e.renderSlot(N.$slots,"pagination",{key:2},()=>[t.cursorPagination?(e.openBlock(),e.createBlock(M,{key:0,modelValue:e.unref(d).currentPage,"onUpdate:modelValue":u[5]||(u[5]=i=>e.unref(d).currentPage=i),meta:e.unref(c).meta},null,8,["modelValue","meta"])):(e.openBlock(),e.createBlock(_,{key:1,modelValue:e.unref(d).currentPage,"onUpdate:modelValue":u[6]||(u[6]=i=>e.unref(d).currentPage=i),limit:e.unref(d).limit,total:e.unref(c).total},null,8,["modelValue","limit","total"]))]):e.createCommentVNode("",!0),e.renderSlot(N.$slots,"footer-end")]),e.unref(l).debug?(e.openBlock(),e.createElementBlock("div",Fr,[e.createElementVNode("div",Or,[e.createElementVNode("pre",null,e.toDisplayString(e.unref(d).query),1)]),e.createElementVNode("div",Ir,[e.unref(d).isLoading?(e.openBlock(),e.createElementBlock("span",wr,"Loading..")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0)])],2))}}),Pr={class:"vgrid-header"},Ar={class:"vgrid-body"},Lr={key:0,class:"vgrid-nodata"},Rr={key:0},_r={key:1},Ur={class:"vgrid-row"},Mr={class:"vgrid-entry-wrapper"},zr={key:2,class:"vgrid-loader"},jr=[e.createElementVNode("span",{class:"vgrid-sr-only"},"Loading..",-1)],qr={class:"vgrid-footer"},Gr={key:0,class:"vgrid-devbar"},Kr={class:"vgrid-col-9"},Qr={class:"vgrid-col-3 vgrid-align-right"},Yr={key:0},He=e.defineComponent({name:"AjaxCards",props:{resource:{default:""},searchField:{default:""},columns:{default:()=>[]},perPage:null,filterable:{type:Boolean,default:!0},columnFilterable:{type:Boolean,default:!1},columnVisible:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},searchPlaceholder:null,orderable:{type:Boolean,default:!1},sortBy:null,sortType:{default:"desc"},statusable:{type:Boolean,default:!0},pagable:{type:Boolean,default:!0},pagination:{type:Boolean,default:!0},strEmptyFilteredData:{default:"No data matched"},strEmptyData:{default:"Empty data"},exportable:{type:Boolean,default:!1},exportFileName:null,colMd:{default:6},colLg:{default:4},colXl:{default:3},routeState:{type:Boolean,default:!1},cursorPagination:{type:Boolean}},emits:["data-changed"],setup(t,{expose:o,emit:n}){const r=t,{gridOption:l,dataProvider:a}=$e(r,{displayType:"cards",dataType:"ajax"}),{hasColumnFilter:s,hasColumnOrder:f,cardColumnClasses:m,dataState:c,hasRecord:p,columnVisibility:C,isEmptyData:B,visibleCols:k,gridClasses:V,setColumnVisibility:E,gridState:d,isFiltered:g,getData:x,setOrder:T,resetGrid:R}=U(r,n,a,l);return E(),x(),o({getData:x}),(N,u)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid",e.unref(V)])},[e.createElementVNode("div",Pr,[e.renderSlot(N.$slots,"header",{},()=>[e.renderSlot(N.$slots,"header-start"),t.searchable?(e.openBlock(),e.createBlock(Q,{key:0,modelValue:e.unref(d).searchKeyword,"onUpdate:modelValue":u[0]||(u[0]=i=>e.unref(d).searchKeyword=i),placeholder:t.searchPlaceholder},null,8,["modelValue","placeholder"])):e.createCommentVNode("",!0),t.filterable&&e.unref(s)?(e.openBlock(),e.createBlock(j,{key:1,modelValue:e.unref(d).where,"onUpdate:modelValue":u[1]||(u[1]=i=>e.unref(d).where=i),columns:t.columns},null,8,["modelValue","columns"])):e.createCommentVNode("",!0),t.orderable&&e.unref(f)?(e.openBlock(),e.createBlock(q,{key:2,class:"vgrid-ml-auto",modelValue:e.unref(d).order,"onUpdate:modelValue":u[2]||(u[2]=i=>e.unref(d).order=i),"has-sort-type":e.unref(d).hasSortType,columns:t.columns},null,8,["modelValue","has-sort-type","columns"])):e.createCommentVNode("",!0),t.columnVisible?(e.openBlock(),e.createBlock(K,{key:3,class:"vgrid-ml-auto",columns:t.columns,modelValue:e.unref(C),"onUpdate:modelValue":u[3]||(u[3]=i=>e.isRef(C)?C.value=i:null)},null,8,["columns","modelValue"])):e.createCommentVNode("",!0),t.exportable?(e.openBlock(),e.createBlock(X,{key:4,class:"vgrid-ml-auto",columns:e.unref(k),data:e.unref(c).records,"file-name":t.exportFileName?t.exportFileName:""},null,8,["columns","data","file-name"])):e.createCommentVNode("",!0),e.renderSlot(N.$slots,"header-end")])]),e.createElementVNode("div",Ar,[e.unref(p)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Lr,[e.unref(g)?(e.openBlock(),e.createElementBlock("span",_r,e.toDisplayString(t.strEmptyFilteredData),1)):(e.openBlock(),e.createElementBlock("span",Rr,e.toDisplayString(t.strEmptyData),1))])),e.unref(B)?e.createCommentVNode("",!0):e.renderSlot(N.$slots,"body",{key:1,entries:e.unref(c).records,visibleCols:e.unref(k)},()=>[e.createElementVNode("div",Ur,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(c).records,(i,y)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-col",e.unref(m)])},[e.renderSlot(N.$slots,"default",{entry:i,index:y,visibleCols:e.unref(k)},()=>[e.createElementVNode("div",Mr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(k),$=>(e.openBlock(),e.createBlock(z,{column:$,data:i,key:$.id,resize:!0,class:e.normalizeClass($.columnClasses)},{default:e.withCtx(()=>[e.renderSlot(N.$slots,"column-"+$.field,{entry:i,index:y})]),_:2},1032,["column","data","class"]))),128))])])],2))),256))])]),e.unref(d).isLoading?(e.openBlock(),e.createElementBlock("div",zr,jr)):e.createCommentVNode("",!0)]),e.createElementVNode("div",qr,[e.renderSlot(N.$slots,"footer",{},()=>[e.renderSlot(N.$slots,"footer-start"),t.pagable?(e.openBlock(),e.createBlock(G,{key:0,modelValue:e.unref(d).limit,"onUpdate:modelValue":u[4]||(u[4]=i=>e.unref(d).limit=i),sizes:e.unref(d).pageSizes},null,8,["modelValue","sizes"])):e.createCommentVNode("",!0),t.cursorPagination?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[t.statusable?(e.openBlock(),e.createBlock(Y,{key:0,limit:e.unref(d).limit,"current-page":e.unref(d).currentPage,showed:e.unref(c).records.length,total:e.unref(c).total},null,8,["limit","current-page","showed","total"])):e.createCommentVNode("",!0)],64)),t.pagination?e.renderSlot(N.$slots,"pagination",{key:2},()=>[t.cursorPagination?(e.openBlock(),e.createBlock(M,{key:0,modelValue:e.unref(d).currentPage,"onUpdate:modelValue":u[5]||(u[5]=i=>e.unref(d).currentPage=i),meta:e.unref(c).meta},null,8,["modelValue","meta"])):(e.openBlock(),e.createBlock(_,{key:1,modelValue:e.unref(d).currentPage,"onUpdate:modelValue":u[6]||(u[6]=i=>e.unref(d).currentPage=i),limit:e.unref(d).limit,total:e.unref(c).total},null,8,["modelValue","limit","total"]))]):e.createCommentVNode("",!0),e.renderSlot(N.$slots,"footer-end")]),e.unref(l).debug?(e.openBlock(),e.createElementBlock("div",Gr,[e.createElementVNode("div",Kr,[e.createElementVNode("pre",null,e.toDisplayString(e.unref(d).query),1)]),e.createElementVNode("div",Qr,[e.unref(d).isLoading?(e.openBlock(),e.createElementBlock("span",Yr,"Loading..")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0)])],2))}});function Te(t,o){const n=e.inject("$vgrid",{filterKey:"where",limitKey:"limit",offsetKey:"offset",aggregateQuery:"aggregate { count }",graphqlFilter:null,graphqlOrder:null,graphqlDataCounter:null}),r=e.inject("$vgridApolloClient",null);if(!r)throw new Error("$vgridApolloClient is not defined");const l={resource:t.resource,resourceMeta:t.resourceMeta,searchField:t.searchField,refFilter:t.refFilter,offsetKey:n.offsetKey,limitKey:n.limitKey,filterKey:n.filterKey,aggregateQuery:n.aggregateQuery,graphqlFilter:n.graphqlFilter,graphqlOrder:n.graphqlOrder,graphqlDataCounter:n.graphqlDataCounter},a=e.reactive(F(F(F({},Ve(t)),l),o)),s=new Yt(r,t.resource,a);return e.watch(()=>t.refFilter,()=>{}),{dataProvider:s,gridOption:a}}const Xr={class:"vgrid-header"},Jr={class:"vgrid-body"},Hr={key:0,class:"vgrid-nodata"},Wr={key:0},Zr={key:1},vr={class:"vgrid-responsive"},el={class:"vgrid-table"},tl=["onClick"],nl={class:"vgrid-field-header-content"},ol={key:0,class:"vgrid-table-filter"},rl={key:1},ll=["colspan"],al={key:0},sl={key:1},il={key:2,class:"vgrid-loader"},cl=[e.createElementVNode("span",{class:"vgrid-sr-only"},"Loading..",-1)],dl={class:"vgrid-footer"},ml={key:0,class:"vgrid-devbar"},fl={class:"vgrid-col-9"},ul={class:"vgrid-col-3 vgrid-align-right"},pl={key:0},We=e.defineComponent({name:"GraphGrid",props:{resource:null,resourceMeta:null,searchField:null,refFilter:{default:""},columns:{default:()=>[]},perPage:null,filterable:{type:Boolean,default:!0},columnFilterable:{type:Boolean,default:!1},columnVisible:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},searchPlaceholder:null,orderable:{type:Boolean,default:!1},sortBy:null,sortType:{default:"desc"},statusable:{type:Boolean,default:!0},pagable:{type:Boolean,default:!0},pagination:{type:Boolean,default:!0},strEmptyFilteredData:{default:"No data matched"},strEmptyData:{default:"Empty data"},exportable:{type:Boolean,default:!1},exportFileName:null,colMd:{default:6},colLg:{default:4},colXl:{default:3},routeState:{type:Boolean,default:!1},cursorPagination:{type:Boolean}},emits:["data-changed"],setup(t,{expose:o,emit:n}){const r=t,{gridOption:l,dataProvider:a}=Te(r,{displayType:"grid",dataType:"graph"}),{hasColumnFilter:s,hasColumnOrder:f,cardColumnClasses:m,dataState:c,hasRecord:p,columnVisibility:C,isEmptyData:B,visibleCols:k,gridClasses:V,setColumnVisibility:E,gridState:d,isFiltered:g,getData:x,setOrder:T,resetGrid:R}=U(r,n,a,l);return E(),x(),o({getData:x}),(N,u)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid",e.unref(V)])},[e.createElementVNode("div",Xr,[e.renderSlot(N.$slots,"header",{},()=>[e.renderSlot(N.$slots,"header-start"),t.searchable?(e.openBlock(),e.createBlock(Q,{key:0,modelValue:e.unref(d).where[t.searchField],"onUpdate:modelValue":u[0]||(u[0]=i=>e.unref(d).where[t.searchField]=i),placeholder:t.searchPlaceholder},null,8,["modelValue","placeholder"])):e.createCommentVNode("",!0),t.filterable&&e.unref(s)?(e.openBlock(),e.createBlock(j,{key:1,modelValue:e.unref(d).where,"onUpdate:modelValue":u[1]||(u[1]=i=>e.unref(d).where=i),columns:t.columns},null,8,["modelValue","columns"])):e.createCommentVNode("",!0),t.orderable&&e.unref(f)?(e.openBlock(),e.createBlock(q,{key:2,class:"vgrid-ml-auto",modelValue:e.unref(d).order,"onUpdate:modelValue":u[2]||(u[2]=i=>e.unref(d).order=i),"has-sort-type":e.unref(d).hasSortType,columns:t.columns},null,8,["modelValue","has-sort-type","columns"])):e.createCommentVNode("",!0),t.columnVisible?(e.openBlock(),e.createBlock(K,{key:3,class:"vgrid-ml-auto",columns:t.columns,modelValue:e.unref(C),"onUpdate:modelValue":u[3]||(u[3]=i=>e.isRef(C)?C.value=i:null)},null,8,["columns","modelValue"])):e.createCommentVNode("",!0),t.exportable?(e.openBlock(),e.createBlock(X,{key:4,class:"vgrid-ml-auto",columns:e.unref(k),data:e.unref(c).records,"file-name":t.exportFileName?t.exportFileName:""},null,8,["columns","data","file-name"])):e.createCommentVNode("",!0),e.renderSlot(N.$slots,"header-end")])]),e.createElementVNode("div",Jr,[e.unref(p)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Hr,[e.unref(g)?(e.openBlock(),e.createElementBlock("span",Zr,e.toDisplayString(t.strEmptyFilteredData),1)):(e.openBlock(),e.createElementBlock("span",Wr,e.toDisplayString(t.strEmptyData),1))])),e.unref(B)?e.createCommentVNode("",!0):e.renderSlot(N.$slots,"body",{key:1,entries:e.unref(c).records,visibleCols:e.unref(k)},()=>[e.createElementVNode("div",vr,[e.createElementVNode("table",el,[e.renderSlot(N.$slots,"table-head",{cols:e.unref(k)},()=>[e.createElementVNode("thead",null,[e.createElementVNode("tr",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(k),i=>(e.openBlock(),e.createElementBlock("th",{class:e.normalizeClass(["vgrid-field-header",i.headerClasses]),onClick:y=>e.unref(T)(i.field),key:i.id},[e.createElementVNode("div",nl,[e.renderSlot(N.$slots,"column-header-"+i.field,{col:i},()=>[e.createElementVNode("span",null,e.toDisplayString(i.showedLabel),1),e.createElementVNode("b",{class:e.normalizeClass(i.orderClasses)},null,2)])])],10,tl))),128))])])]),e.renderSlot(N.$slots,"table-body",{entries:e.unref(c).records},()=>[e.createElementVNode("tbody",null,[t.columnFilterable&&e.unref(s)?(e.openBlock(),e.createElementBlock("tr",ol,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(k),i=>(e.openBlock(),e.createElementBlock("td",{key:i.field},[i.filter?(e.openBlock(),e.createBlock(Se,{key:0,column:i,modelValue:e.unref(d).where[i.field],"onUpdate:modelValue":y=>e.unref(d).where[i.field]=y},null,8,["column","modelValue","onUpdate:modelValue"])):e.createCommentVNode("",!0)]))),128))])):e.createCommentVNode("",!0),e.unref(p)?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:2},e.renderList(e.unref(c).records,(i,y)=>(e.openBlock(),e.createElementBlock("tr",null,[e.renderSlot(N.$slots,"default",{entry:i,index:y,visibleCols:e.unref(k)},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(k),$=>(e.openBlock(),e.createElementBlock("td",{key:$.field},[e.createVNode(z,{column:$,data:i,class:e.normalizeClass($.columnClasses)},{default:e.withCtx(()=>[e.renderSlot(N.$slots,"column-"+$.field,{entry:i,index:y})]),_:2},1032,["column","data","class"])]))),128))])]))),256)):(e.openBlock(),e.createElementBlock("tr",rl,[e.createElementVNode("td",{colspan:e.unref(k).length},[e.unref(g)?(e.openBlock(),e.createElementBlock("span",sl,e.toDisplayString(t.strEmptyFilteredData),1)):(e.openBlock(),e.createElementBlock("span",al,e.toDisplayString(t.strEmptyData),1))],8,ll)]))])])])])]),e.unref(d).isLoading?(e.openBlock(),e.createElementBlock("div",il,cl)):e.createCommentVNode("",!0)]),e.createElementVNode("div",dl,[e.renderSlot(N.$slots,"footer",{},()=>[e.renderSlot(N.$slots,"footer-start"),t.pagable?(e.openBlock(),e.createBlock(G,{key:0,modelValue:e.unref(d).limit,"onUpdate:modelValue":u[4]||(u[4]=i=>e.unref(d).limit=i),sizes:e.unref(d).pageSizes},null,8,["modelValue","sizes"])):e.createCommentVNode("",!0),t.cursorPagination?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[t.statusable?(e.openBlock(),e.createBlock(Y,{key:0,limit:e.unref(d).limit,"current-page":e.unref(d).currentPage,showed:e.unref(c).records.length,total:e.unref(c).total},null,8,["limit","current-page","showed","total"])):e.createCommentVNode("",!0)],64)),t.pagination?e.renderSlot(N.$slots,"pagination",{key:2},()=>[t.cursorPagination?(e.openBlock(),e.createBlock(M,{key:0,modelValue:e.unref(d).currentPage,"onUpdate:modelValue":u[5]||(u[5]=i=>e.unref(d).currentPage=i),meta:e.unref(c).meta},null,8,["modelValue","meta"])):(e.openBlock(),e.createBlock(_,{key:1,modelValue:e.unref(d).currentPage,"onUpdate:modelValue":u[6]||(u[6]=i=>e.unref(d).currentPage=i),limit:e.unref(d).limit,total:e.unref(c).total},null,8,["modelValue","limit","total"]))]):e.createCommentVNode("",!0),e.renderSlot(N.$slots,"footer-end")]),e.unref(l).debug?(e.openBlock(),e.createElementBlock("div",ml,[e.createElementVNode("div",fl,[e.createElementVNode("pre",null,e.toDisplayString(e.unref(d).query),1)]),e.createElementVNode("div",ul,[e.unref(d).isLoading?(e.openBlock(),e.createElementBlock("span",pl,"Loading..")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0)])],2))}}),hl={class:"vgrid-header"},gl={class:"vgrid-body"},yl={key:0,class:"vgrid-nodata"},kl={key:0},El={key:1},Bl={class:"vgrid-entry-wrapper"},Vl={key:2,class:"vgrid-loader"},Nl=[e.createElementVNode("span",{class:"vgrid-sr-only"},"Loading..",-1)],Cl={class:"vgrid-footer"},bl={key:0,class:"vgrid-devbar"},Sl={class:"vgrid-col-9"},$l={class:"vgrid-col-3 vgrid-align-right"},Tl={key:0},Ze=e.defineComponent({name:"GraphList",props:{resource:null,resourceMeta:null,searchField:null,refFilter:{default:""},columns:{default:()=>[]},perPage:null,filterable:{type:Boolean,default:!0},columnFilterable:{type:Boolean,default:!1},columnVisible:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},searchPlaceholder:null,orderable:{type:Boolean,default:!1},sortBy:null,sortType:{default:"desc"},statusable:{type:Boolean,default:!0},pagable:{type:Boolean,default:!0},pagination:{type:Boolean,default:!0},strEmptyFilteredData:{default:"No data matched"},strEmptyData:{default:"Empty data"},exportable:{type:Boolean,default:!1},exportFileName:null,colMd:{default:6},colLg:{default:4},colXl:{default:3},routeState:{type:Boolean,default:!1},cursorPagination:{type:Boolean}},emits:["data-changed"],setup(t,{expose:o,emit:n}){const r=t,{gridOption:l,dataProvider:a}=Te(r,{displayType:"list",dataType:"graph"}),{hasColumnFilter:s,hasColumnOrder:f,cardColumnClasses:m,dataState:c,hasRecord:p,columnVisibility:C,isEmptyData:B,visibleCols:k,gridClasses:V,setColumnVisibility:E,gridState:d,isFiltered:g,getData:x,setOrder:T,resetGrid:R}=U(r,n,a,l);return E(),x(),o({getData:x}),(N,u)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid",e.unref(V)])},[e.createElementVNode("div",hl,[e.renderSlot(N.$slots,"header",{},()=>[e.renderSlot(N.$slots,"header-start"),t.searchable?(e.openBlock(),e.createBlock(Q,{key:0,modelValue:e.unref(d).where[t.searchField],"onUpdate:modelValue":u[0]||(u[0]=i=>e.unref(d).where[t.searchField]=i),placeholder:t.searchPlaceholder},null,8,["modelValue","placeholder"])):e.createCommentVNode("",!0),t.filterable&&e.unref(s)?(e.openBlock(),e.createBlock(j,{key:1,modelValue:e.unref(d).where,"onUpdate:modelValue":u[1]||(u[1]=i=>e.unref(d).where=i),columns:t.columns},null,8,["modelValue","columns"])):e.createCommentVNode("",!0),t.orderable&&e.unref(f)?(e.openBlock(),e.createBlock(q,{key:2,class:"vgrid-ml-auto",modelValue:e.unref(d).order,"onUpdate:modelValue":u[2]||(u[2]=i=>e.unref(d).order=i),"has-sort-type":e.unref(d).hasSortType,columns:t.columns},null,8,["modelValue","has-sort-type","columns"])):e.createCommentVNode("",!0),t.columnVisible?(e.openBlock(),e.createBlock(K,{key:3,class:"vgrid-ml-auto",columns:t.columns,modelValue:e.unref(C),"onUpdate:modelValue":u[3]||(u[3]=i=>e.isRef(C)?C.value=i:null)},null,8,["columns","modelValue"])):e.createCommentVNode("",!0),t.exportable?(e.openBlock(),e.createBlock(X,{key:4,class:"vgrid-ml-auto",columns:e.unref(k),data:e.unref(c).records,"file-name":t.exportFileName?t.exportFileName:""},null,8,["columns","data","file-name"])):e.createCommentVNode("",!0),e.renderSlot(N.$slots,"header-end")])]),e.createElementVNode("div",gl,[e.unref(p)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",yl,[e.unref(g)?(e.openBlock(),e.createElementBlock("span",El,e.toDisplayString(t.strEmptyFilteredData),1)):(e.openBlock(),e.createElementBlock("span",kl,e.toDisplayString(t.strEmptyData),1))])),e.unref(B)?e.createCommentVNode("",!0):e.renderSlot(N.$slots,"body",{key:1,entries:e.unref(c).records,visibleCols:e.unref(k)},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(c).records,(i,y)=>(e.openBlock(),e.createElementBlock("div",Bl,[e.renderSlot(N.$slots,"default",{entry:i,index:y,visibleCols:e.unref(k)},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(k),$=>(e.openBlock(),e.createBlock(z,{column:$,data:i,key:$.id,resize:!0,class:e.normalizeClass($.columnClasses)},{default:e.withCtx(()=>[e.renderSlot(N.$slots,"column-"+$.field,{entry:i,index:y})]),_:2},1032,["column","data","class"]))),128))])]))),256))]),e.unref(d).isLoading?(e.openBlock(),e.createElementBlock("div",Vl,Nl)):e.createCommentVNode("",!0)]),e.createElementVNode("div",Cl,[e.renderSlot(N.$slots,"footer",{},()=>[e.renderSlot(N.$slots,"footer-start"),t.pagable?(e.openBlock(),e.createBlock(G,{key:0,modelValue:e.unref(d).limit,"onUpdate:modelValue":u[4]||(u[4]=i=>e.unref(d).limit=i),sizes:e.unref(d).pageSizes},null,8,["modelValue","sizes"])):e.createCommentVNode("",!0),t.cursorPagination?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[t.statusable?(e.openBlock(),e.createBlock(Y,{key:0,limit:e.unref(d).limit,"current-page":e.unref(d).currentPage,showed:e.unref(c).records.length,total:e.unref(c).total},null,8,["limit","current-page","showed","total"])):e.createCommentVNode("",!0)],64)),t.pagination?e.renderSlot(N.$slots,"pagination",{key:2},()=>[t.cursorPagination?(e.openBlock(),e.createBlock(M,{key:0,modelValue:e.unref(d).currentPage,"onUpdate:modelValue":u[5]||(u[5]=i=>e.unref(d).currentPage=i),meta:e.unref(c).meta},null,8,["modelValue","meta"])):(e.openBlock(),e.createBlock(_,{key:1,modelValue:e.unref(d).currentPage,"onUpdate:modelValue":u[6]||(u[6]=i=>e.unref(d).currentPage=i),limit:e.unref(d).limit,total:e.unref(c).total},null,8,["modelValue","limit","total"]))]):e.createCommentVNode("",!0),e.renderSlot(N.$slots,"footer-end")]),e.unref(l).debug?(e.openBlock(),e.createElementBlock("div",bl,[e.createElementVNode("div",Sl,[e.createElementVNode("pre",null,e.toDisplayString(e.unref(d).query),1)]),e.createElementVNode("div",$l,[e.unref(d).isLoading?(e.openBlock(),e.createElementBlock("span",Tl,"Loading..")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0)])],2))}}),Dl={class:"vgrid-header"},xl={class:"vgrid-body"},Fl={key:0,class:"vgrid-nodata"},Ol={key:0},Il={key:1},wl={class:"vgrid-row"},Pl={class:"vgrid-entry-wrapper"},Al={key:2,class:"vgrid-loader"},Ll=[e.createElementVNode("span",{class:"vgrid-sr-only"},"Loading..",-1)],Rl={class:"vgrid-footer"},_l={key:0,class:"vgrid-devbar"},Ul={class:"vgrid-col-9"},Ml={class:"vgrid-col-3 vgrid-align-right"},zl={key:0},ve=e.defineComponent({name:"GraphCards",props:{resource:null,resourceMeta:null,searchField:null,refFilter:{default:""},columns:{default:()=>[]},perPage:null,filterable:{type:Boolean,default:!0},columnFilterable:{type:Boolean,default:!1},columnVisible:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},searchPlaceholder:null,orderable:{type:Boolean,default:!1},sortBy:null,sortType:{default:"desc"},statusable:{type:Boolean,default:!0},pagable:{type:Boolean,default:!0},pagination:{type:Boolean,default:!0},strEmptyFilteredData:{default:"No data matched"},strEmptyData:{default:"Empty data"},exportable:{type:Boolean,default:!1},exportFileName:null,colMd:{default:6},colLg:{default:4},colXl:{default:3},routeState:{type:Boolean,default:!1},cursorPagination:{type:Boolean}},emits:["data-changed"],setup(t,{expose:o,emit:n}){const r=t,{gridOption:l,dataProvider:a}=Te(r,{displayType:"cards",dataType:"graph"}),{hasColumnFilter:s,hasColumnOrder:f,cardColumnClasses:m,dataState:c,hasRecord:p,columnVisibility:C,isEmptyData:B,visibleCols:k,gridClasses:V,setColumnVisibility:E,gridState:d,isFiltered:g,getData:x,setOrder:T,resetGrid:R}=U(r,n,a,l);return E(),x(),o({getData:x}),(N,u)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid",e.unref(V)])},[e.createElementVNode("div",Dl,[e.renderSlot(N.$slots,"header",{},()=>[e.renderSlot(N.$slots,"header-start"),t.searchable?(e.openBlock(),e.createBlock(Q,{key:0,modelValue:e.unref(d).where[t.searchField],"onUpdate:modelValue":u[0]||(u[0]=i=>e.unref(d).where[t.searchField]=i),placeholder:t.searchPlaceholder},null,8,["modelValue","placeholder"])):e.createCommentVNode("",!0),t.filterable&&e.unref(s)?(e.openBlock(),e.createBlock(j,{key:1,modelValue:e.unref(d).where,"onUpdate:modelValue":u[1]||(u[1]=i=>e.unref(d).where=i),columns:t.columns},null,8,["modelValue","columns"])):e.createCommentVNode("",!0),t.orderable&&e.unref(f)?(e.openBlock(),e.createBlock(q,{key:2,class:"vgrid-ml-auto",modelValue:e.unref(d).order,"onUpdate:modelValue":u[2]||(u[2]=i=>e.unref(d).order=i),"has-sort-type":e.unref(d).hasSortType,columns:t.columns},null,8,["modelValue","has-sort-type","columns"])):e.createCommentVNode("",!0),t.columnVisible?(e.openBlock(),e.createBlock(K,{key:3,class:"vgrid-ml-auto",columns:t.columns,modelValue:e.unref(C),"onUpdate:modelValue":u[3]||(u[3]=i=>e.isRef(C)?C.value=i:null)},null,8,["columns","modelValue"])):e.createCommentVNode("",!0),t.exportable?(e.openBlock(),e.createBlock(X,{key:4,class:"vgrid-ml-auto",columns:e.unref(k),data:e.unref(c).records,"file-name":t.exportFileName?t.exportFileName:""},null,8,["columns","data","file-name"])):e.createCommentVNode("",!0),e.renderSlot(N.$slots,"header-end")])]),e.createElementVNode("div",xl,[e.unref(p)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Fl,[e.unref(g)?(e.openBlock(),e.createElementBlock("span",Il,e.toDisplayString(t.strEmptyFilteredData),1)):(e.openBlock(),e.createElementBlock("span",Ol,e.toDisplayString(t.strEmptyData),1))])),e.unref(B)?e.createCommentVNode("",!0):e.renderSlot(N.$slots,"body",{key:1,entries:e.unref(c).records,visibleCols:e.unref(k)},()=>[e.createElementVNode("div",wl,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(c).records,(i,y)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-col",e.unref(m)])},[e.renderSlot(N.$slots,"default",{entry:i,index:y,visibleCols:e.unref(k)},()=>[e.createElementVNode("div",Pl,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(k),$=>(e.openBlock(),e.createBlock(z,{column:$,data:i,key:$.id,resize:!0,class:e.normalizeClass($.columnClasses)},{default:e.withCtx(()=>[e.renderSlot(N.$slots,"column-"+$.field,{entry:i,index:y})]),_:2},1032,["column","data","class"]))),128))])])],2))),256))])]),e.unref(d).isLoading?(e.openBlock(),e.createElementBlock("div",Al,Ll)):e.createCommentVNode("",!0)]),e.createElementVNode("div",Rl,[e.renderSlot(N.$slots,"footer",{},()=>[e.renderSlot(N.$slots,"footer-start"),t.pagable?(e.openBlock(),e.createBlock(G,{key:0,modelValue:e.unref(d).limit,"onUpdate:modelValue":u[4]||(u[4]=i=>e.unref(d).limit=i),sizes:e.unref(d).pageSizes},null,8,["modelValue","sizes"])):e.createCommentVNode("",!0),t.cursorPagination?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[t.statusable?(e.openBlock(),e.createBlock(Y,{key:0,limit:e.unref(d).limit,"current-page":e.unref(d).currentPage,showed:e.unref(c).records.length,total:e.unref(c).total},null,8,["limit","current-page","showed","total"])):e.createCommentVNode("",!0)],64)),t.pagination?e.renderSlot(N.$slots,"pagination",{key:2},()=>[t.cursorPagination?(e.openBlock(),e.createBlock(M,{key:0,modelValue:e.unref(d).currentPage,"onUpdate:modelValue":u[5]||(u[5]=i=>e.unref(d).currentPage=i),meta:e.unref(c).meta},null,8,["modelValue","meta"])):(e.openBlock(),e.createBlock(_,{key:1,modelValue:e.unref(d).currentPage,"onUpdate:modelValue":u[6]||(u[6]=i=>e.unref(d).currentPage=i),limit:e.unref(d).limit,total:e.unref(c).total},null,8,["modelValue","limit","total"]))]):e.createCommentVNode("",!0),e.renderSlot(N.$slots,"footer-end")]),e.unref(l).debug?(e.openBlock(),e.createElementBlock("div",_l,[e.createElementVNode("div",Ul,[e.createElementVNode("pre",null,e.toDisplayString(e.unref(d).query),1)]),e.createElementVNode("div",Ml,[e.unref(d).isLoading?(e.openBlock(),e.createElementBlock("span",zl,"Loading..")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0)])],2))}});var sa="";const jl={install(t,o={}){t.component("VGrid",Ke),t.component("VList",Ye),t.component("VCards",Qe);const n={debug:o.debug,perPage:o.perPage||10,pageSizes:o.pageSizes||[5,10,20,50,100],routerKey:o.routerKey};let r={},l={};o.graphql&&(t.component("VGraphGrid",We),t.component("VGraphList",Ze),t.component("VGraphCards",ve),r={filterKey:o.filterKey||"where",limitKey:o.limitKey||"limit",offsetKey:o.offsetKey||"offset",aggregateQuery:o.aggregateQuery||"aggregate { count }",graphqlFilter:o.graphqlFilter,graphqlOrder:o.graphqlOrder,graphqlDataCounter:o.graphqlDataCounter}),o.ajax&&(t.component("VAjaxGrid",Xe),t.component("VAjaxList",Je),t.component("VAjaxCards",He),l={pageKey:o.pageKey||"page",cursorKey:o.cursorKey||"cursor",hasSortType:o.hasSortType||!0,sortKey:o.sortKey||"sort",sortTypeKey:o.sortTypeKey||"sort_type",perPageKey:o.perPageKey||"limit",fetchData:o.fetchData,cancelToken:o.cancelToken,extractData:o.extractData,getPageIndex:o.getPageIndex});const a=F(F(F({},n),l),r);t.provide("$vgrid",a)}};D.Pagination=_,D.VAjaxCards=He,D.VAjaxGrid=Xe,D.VAjaxList=Je,D.VCards=Qe,D.VGraphCards=ve,D.VGraphGrid=We,D.VGraphList=Ze,D.VGrid=Ke,D.VList=Ye,D.default=jl,Object.defineProperties(D,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
