(function(T,e){typeof exports=="object"&&typeof module!="undefined"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(T=typeof globalThis!="undefined"?globalThis:T||self,e(T.VueGrid={},T.Vue))})(this,function(T,e){"use strict";var Hl=Object.defineProperty,Wl=Object.defineProperties;var Zl=Object.getOwnPropertyDescriptors;var rt=Object.getOwnPropertySymbols;var vl=Object.prototype.hasOwnProperty,ea=Object.prototype.propertyIsEnumerable;var Oe=(T,e,L)=>e in T?Hl(T,e,{enumerable:!0,configurable:!0,writable:!0,value:L}):T[e]=L,F=(T,e)=>{for(var L in e||(e={}))vl.call(e,L)&&Oe(T,L,e[L]);if(rt)for(var L of rt(e))ea.call(e,L)&&Oe(T,L,e[L]);return T},W=(T,e)=>Wl(T,Zl(e));var ee=(T,e,L)=>(Oe(T,typeof e!="symbol"?e+"":e,L),L);function L(t){return t&&(t.charAt(0).toUpperCase()+t.slice(1)).replace(/_/," ")}function ot(t,r){const n=t.currentRoute,o=n.value.name,l=()=>{const f={},d=n.value.query||{};d.gridstate?f.gridstate=d.gridstate:f.gridstate=new Date().getTime(),r.searchField&&d[r.searchField]&&(f[r.searchField]=d[r.searchField]),r.cursorPagination?d.cursor&&(f.currentPage=d.cursor):d.page&&(f.currentPage=parseInt(d.page,10)),d.limit&&(f.limit=parseInt(d.limit,10)),d.order&&(f.order={by:d.order,type:d.order_type||"desc"});const p={};return r.searchField&&d[r.searchField]&&(p[r.searchField]=d[r.searchField]),Object.keys(d).forEach(V=>{const N=r.columns.find(y=>y.field===V);N&&(N.filter||N.field===r.searchField)&&(p[V]=d[V])}),f.where=p,f},a=f=>{const{currentRoute:d}=t;if(d.value.name!==o)return;const p=F(F({},n.value.query),f);t.replace({query:p})},i=l();return{queryGridState:e.computed(()=>{const{currentRoute:f}=t,{query:d}=f.value;return d&&d.gridstate?d.gridstate:null}),routeGridParams:i,updateRouteIfNeeded:a}}function z(t,r,n,o,l=[]){const a=e.inject("$vgrid",{debug:!1,routerKey:null,perPage:10,pageSizes:[5,10,20,50,100],hasSortType:!0});let i={},u=C=>({}),f=e.computed(()=>({}));if(t.routeState&&a.routerKey){const C=e.inject(a.routerKey),O=ot(C,t);i=O.routeGridParams,u=O.updateRouteIfNeeded,f=O.queryGridState}const d=e.computed(()=>t.columns.some(C=>C.filter)),p=e.computed(()=>t.columns.some(C=>C.order)),V=e.computed(()=>[`vgrid-col-md-${t.colMd}`,`vgrid-col-lg-${t.colLg}`,`vgrid-col-xl-${t.colXl}`]),N={records:[],total:0},y=e.reactive(N),B="",b=t.cursorPagination?"":0,s=e.reactive(F({isLoading:!1,searchKeyword:"",currentPage:b,limit:t.perPage?t.perPage:a.perPage,pageSizes:a.pageSizes,order:{by:t.sortBy||"",type:t.sortType},where:{},hasSortType:a.hasSortType,gridstate:new Date().getTime(),query:B},i)),k=e.computed(()=>{let C={[o.value.searchField]:s.searchKeyword,limit:s.limit};o.value.pageKey&&(C[o.value.pageKey]=s.currentPage),t.orderable&&s.order&&s.order.by&&(C.order=s.order.by,C.order_type=s.order.type);const O=Object.keys(s.where).reduce((v,H)=>W(F({},v),{[H]:s.where[H]}),{});return C=W(F(F({},C),O),{gridstate:s.gridstate}),C}),D=e.computed(()=>JSON.stringify(k.value)),I=e.computed(()=>y.records.length>0),w=e.ref([]),P=C=>{const O=C.type||"text",{field:v}=C,H=[`vgrid-column-type--${O}`,`vgrid-column-data--${v}`];return C.width&&H.push(`vgrid-field--${C.width}`),C.class&&H.push(C.class),H},h=e.computed(()=>!y.records.length),m=e.computed(()=>t.columns.filter(C=>w.value.includes(C.field)).sort((C,O)=>w.value.indexOf(C.field)-w.value.indexOf(O.field)).map(C=>W(F({},C),{headerClasses:P(C),orderClasses:Yl(C),columnClasses:$(C),showedLabel:L(C.label||C.field)}))),c=e.computed(()=>[`vgrid-${o.value.displayType}`,`vgrid-${o.value.dataType}`]),E=()=>{w.value=t.columns.filter(C=>C.type!=="hidden").filter(C=>!C.hidden).map(C=>C.field)},$=C=>C.order!==!1&&C.type!=="custom"&&C.field===s.order.by?"ordering":"",R=e.computed(()=>{let C=!1;return Object.keys(s.where).forEach(O=>{C=C||!!s.where[O]}),C}),nt=()=>{if(a.debug&&console.log("vgrid - start get data ",s.searchKeyword),!n){console.log("vgrid - Your grid is not config any data provider");return}s.isLoading=!0,n.getData(s.currentPage,s.limit,s.searchKeyword,s.where,s.order).then(({items:C,total:O,meta:v,query:H})=>{y.records=C,y.total=O,y.meta=v,s.query=H}).catch(C=>{C&&(s.query=C.query),console.log("vgrid error",C)}).then(()=>{setTimeout(()=>{s.isLoading=!1,r("data-changed",y.records)},250)})},Kl=C=>{const O=t.columns.find(v=>v.field===C);O&&O.order&&O.type!=="custom"&&(s.order.by===C?s.hasSortType&&(s.order=W(F({},s.order),{type:s.order.type==="desc"?"asc":"desc"})):s.order={by:C,type:"desc"})},Ql=C=>{s.where=F(F({},s.where),C)},Yl=C=>{const O=[];return C.order&&C.type!=="custom"&&(O.push("orderable"),C.field===s.order.by&&O.push(`${s.order.type}`)),O},Xl=()=>{s.currentPage=b},Fe=()=>{s.currentPage=b,s.limit=t.perPage?t.perPage:a.perPage,s.searchKeyword="",s.order={by:t.sortBy,type:t.sortType},s.gridstate=new Date().getTime(),s.where={}},Jl=e.computed(()=>l.reduce((C,O)=>W(F({},C),{[O]:t[O]}),{}));return e.watch(()=>Jl.value,()=>{n.setOptions(o.value),Fe()}),e.watch(()=>t.columns,()=>{w.value=t.columns.filter(C=>C.type!=="hidden").filter(C=>!C.hidden).map(C=>C.field)}),e.watch([()=>s.where,()=>s.searchKeyword,()=>s.limit],()=>{Xl()},{deep:!0}),e.watch(()=>D.value,C=>{nt(),u(k.value)}),e.watch(()=>f.value,(C,O)=>{O&&!C&&Fe()}),{hasColumnFilter:d,hasColumnOrder:p,cardColumnClasses:V,dataState:y,hasRecord:I,columnVisibility:w,isEmptyData:h,visibleCols:m,gridClasses:c,setColumnVisibility:E,gridState:s,isFiltered:R,getData:nt,setOrder:Kl,setFilter:Ql,resetGrid:Fe}}class he{constructor(r){ee(this,"options");this.options=r}getData(r,n,o,l,a){return new Promise((i,u)=>{i({items:[],total:0})})}applySearch(r){return this}applyFilter(r){return this}applyOrder(r){return this}applyPagination(r){return this}setOptions(r){this.options=r}}class lt extends he{constructor(n,o){super(o);ee(this,"data");this.data=n}updateData(n){this.data=n}getData(n,o,l,a,i){return new Promise(u=>{let f=[...this.data];f=this.getSearchedData(f,l),f=this.getFilteredData(f,a),f=this.getSortedData(f,i);const d=f.length;let p=f;this.options.pagination&&f.length>o&&(p=f.slice(o*n,o*(n+1))),u({items:p,total:d,query:{page:n,limit:o,searchKeyword:l,filter:a,order:i}})})}getSearchedData(n,o){let l=n.filter(a=>a);if(o){const a=new RegExp(o,"gi");l=l.filter(i=>{let u=!1;return this.options.columns.forEach(f=>{a.test(`${i[f.field]}`)&&(u=!0)}),u})}return l}getFilteredData(n,o){let l=n;return o&&Object.keys(o).map(a=>{const i=new RegExp(o[a],"gi");l=l.filter(u=>i.test(u[a]))}),l}getSortedData(n,o){let l=n;if(o){const a=this.options.columns.find(i=>i.field===o.by);a&&(l=l.sort((i,u)=>{let f=u[a.field],d=i[a.field];return o.type==="desc"&&(f=i[a.field],d=u[a.field]),a.type==="number"?f-d:typeof f=="string"?f.localeCompare(d):0}))}return l}}class at extends he{constructor(n,o){super(o);ee(this,"resource");ee(this,"cancelRequest");this.resource=n,this.cancelRequest=null}getData(n,o,l,a,i){let u=n;this.options.cursorPagination||this.options.getPageIndex&&(u=this.options.getPageIndex(n));const f={};if(this.options.pageKey&&(f[this.options.pageKey]=u),this.options.perPageKey&&(f[this.options.perPageKey]=o),this.options.orderable&&i&&this.options.sortKey&&i.by&&(f[this.options.sortKey]=i.by,this.options.sortTypeKey&&i.type&&(f[this.options.sortTypeKey]=i.type)),this.options.searchable&&this.options.searchField&&l&&(f[this.options.searchField]=l),a){const p=F({},a);Object.keys(p).forEach(V=>{f[V]=p[V]})}if(!this.options.fetchData)return Promise.reject(new Error("no fetch data option"));let d=null;if(this.options.cancelToken){this.cancelRequest&&this.cancelRequest("Operation canceled due to new request.");const p=this.options.cancelToken;d=new p(V=>{this.cancelRequest=V})}return this.options.fetchData(this.resource,{params:f,cancelToken:d}).then(p=>{let V=[],N=0,y=null;if(this.options.extractData){const B=this.options.extractData(p);V=B.items,N=B.total,y=B.meta}return{items:V,total:N,meta:y,query:f}}).finally(()=>{this.cancelRequest=null})}}var se=function(){return se=Object.assign||function(r){for(var n,o=1,l=arguments.length;o<l;o++){n=arguments[o];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},se.apply(this,arguments)};function ge(t,r){if(!Boolean(t))throw new Error(r)}function st(t){return typeof t=="object"&&t!==null}function it(t,r){if(!Boolean(t))throw new Error(r!=null?r:"Unexpected invariant triggered.")}const ct=/\r\n|[\n\r]/g;function ye(t,r){let n=0,o=1;for(const l of t.body.matchAll(ct)){if(typeof l.index=="number"||it(!1),l.index>=r)break;n=l.index+l[0].length,o+=1}return{line:o,column:r+1-n}}function dt(t){return Ie(t.source,ye(t.source,t.start))}function Ie(t,r){const n=t.locationOffset.column-1,o="".padStart(n)+t.body,l=r.line-1,a=t.locationOffset.line-1,i=r.line+a,u=r.line===1?n:0,f=r.column+u,d=`${t.name}:${i}:${f}
`,p=o.split(/\r\n|[\n\r]/g),V=p[l];if(V.length>120){const N=Math.floor(f/80),y=f%80,B=[];for(let b=0;b<V.length;b+=80)B.push(V.slice(b,b+80));return d+we([[`${i} |`,B[0]],...B.slice(1,N+1).map(b=>["|",b]),["|","^".padStart(y)],["|",B[N+1]]])}return d+we([[`${i-1} |`,p[l-1]],[`${i} |`,V],["|","^".padStart(f)],[`${i+1} |`,p[l+1]]])}function we(t){const r=t.filter(([o,l])=>l!==void 0),n=Math.max(...r.map(([o])=>o.length));return r.map(([o,l])=>o.padStart(n)+(l?" "+l:"")).join(`
`)}function mt(t){const r=t[0];return r==null||"kind"in r||"length"in r?{nodes:r,source:t[1],positions:t[2],path:t[3],originalError:t[4],extensions:t[5]}:r}class ke extends Error{constructor(r,...n){var o,l,a;const{nodes:i,source:u,positions:f,path:d,originalError:p,extensions:V}=mt(n);super(r),this.name="GraphQLError",this.path=d!=null?d:void 0,this.originalError=p!=null?p:void 0,this.nodes=xe(Array.isArray(i)?i:i?[i]:void 0);const N=xe((o=this.nodes)===null||o===void 0?void 0:o.map(B=>B.loc).filter(B=>B!=null));this.source=u!=null?u:N==null||(l=N[0])===null||l===void 0?void 0:l.source,this.positions=f!=null?f:N==null?void 0:N.map(B=>B.start),this.locations=f&&u?f.map(B=>ye(u,B)):N==null?void 0:N.map(B=>ye(B.source,B.start));const y=st(p==null?void 0:p.extensions)?p==null?void 0:p.extensions:void 0;this.extensions=(a=V!=null?V:y)!==null&&a!==void 0?a:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),p!=null&&p.stack?Object.defineProperty(this,"stack",{value:p.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,ke):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let r=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(r+=`

`+dt(n.loc));else if(this.source&&this.locations)for(const n of this.locations)r+=`

`+Ie(this.source,n);return r}toJSON(){const r={message:this.message};return this.locations!=null&&(r.locations=this.locations),this.path!=null&&(r.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(r.extensions=this.extensions),r}}function xe(t){return t===void 0||t.length===0?void 0:t}function A(t,r,n){return new ke(`Syntax Error: ${n}`,{source:t,positions:[r]})}class ft{constructor(r,n,o){this.start=r.start,this.end=n.end,this.startToken=r,this.endToken=n,this.source=o}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class Pe{constructor(r,n,o,l,a,i){this.kind=r,this.start=n,this.end=o,this.line=l,this.column=a,this.value=i,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}let te;(function(t){t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription"})(te||(te={}));let Ee;(function(t){t.QUERY="QUERY",t.MUTATION="MUTATION",t.SUBSCRIPTION="SUBSCRIPTION",t.FIELD="FIELD",t.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",t.FRAGMENT_SPREAD="FRAGMENT_SPREAD",t.INLINE_FRAGMENT="INLINE_FRAGMENT",t.VARIABLE_DEFINITION="VARIABLE_DEFINITION",t.SCHEMA="SCHEMA",t.SCALAR="SCALAR",t.OBJECT="OBJECT",t.FIELD_DEFINITION="FIELD_DEFINITION",t.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",t.INTERFACE="INTERFACE",t.UNION="UNION",t.ENUM="ENUM",t.ENUM_VALUE="ENUM_VALUE",t.INPUT_OBJECT="INPUT_OBJECT",t.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(Ee||(Ee={}));let S;(function(t){t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(S||(S={}));function ut(t){return t===9||t===32}function oe(t){return t>=48&&t<=57}function Ae(t){return t>=97&&t<=122||t>=65&&t<=90}function Le(t){return Ae(t)||t===95}function pt(t){return Ae(t)||oe(t)||t===95}function ht(t){var r;let n=Number.MAX_SAFE_INTEGER,o=null,l=-1;for(let i=0;i<t.length;++i){var a;const u=t[i],f=gt(u);f!==u.length&&(o=(a=o)!==null&&a!==void 0?a:i,l=i,i!==0&&f<n&&(n=f))}return t.map((i,u)=>u===0?i:i.slice(n)).slice((r=o)!==null&&r!==void 0?r:0,l+1)}function gt(t){let r=0;for(;r<t.length&&ut(t.charCodeAt(r));)++r;return r}let g;(function(t){t.SOF="<SOF>",t.EOF="<EOF>",t.BANG="!",t.DOLLAR="$",t.AMP="&",t.PAREN_L="(",t.PAREN_R=")",t.SPREAD="...",t.COLON=":",t.EQUALS="=",t.AT="@",t.BRACKET_L="[",t.BRACKET_R="]",t.BRACE_L="{",t.PIPE="|",t.BRACE_R="}",t.NAME="Name",t.INT="Int",t.FLOAT="Float",t.STRING="String",t.BLOCK_STRING="BlockString",t.COMMENT="Comment"})(g||(g={}));class yt{constructor(r){const n=new Pe(g.SOF,0,0,0,0);this.source=r,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let r=this.token;if(r.kind!==g.EOF)do if(r.next)r=r.next;else{const n=Et(this,r.end);r.next=n,n.prev=r,r=n}while(r.kind===g.COMMENT);return r}}function kt(t){return t===g.BANG||t===g.DOLLAR||t===g.AMP||t===g.PAREN_L||t===g.PAREN_R||t===g.SPREAD||t===g.COLON||t===g.EQUALS||t===g.AT||t===g.BRACKET_L||t===g.BRACKET_R||t===g.BRACE_L||t===g.PIPE||t===g.BRACE_R}function ne(t){return t>=0&&t<=55295||t>=57344&&t<=1114111}function ie(t,r){return Re(t.charCodeAt(r))&&Ue(t.charCodeAt(r+1))}function Re(t){return t>=55296&&t<=56319}function Ue(t){return t>=56320&&t<=57343}function Z(t,r){const n=t.source.body.codePointAt(r);if(n===void 0)return g.EOF;if(n>=32&&n<=126){const o=String.fromCodePoint(n);return o==='"'?`'"'`:`"${o}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function x(t,r,n,o,l){const a=t.line,i=1+n-t.lineStart;return new Pe(r,n,o,a,i,l)}function Et(t,r){const n=t.source.body,o=n.length;let l=r;for(;l<o;){const a=n.charCodeAt(l);switch(a){case 65279:case 9:case 32:case 44:++l;continue;case 10:++l,++t.line,t.lineStart=l;continue;case 13:n.charCodeAt(l+1)===10?l+=2:++l,++t.line,t.lineStart=l;continue;case 35:return Bt(t,l);case 33:return x(t,g.BANG,l,l+1);case 36:return x(t,g.DOLLAR,l,l+1);case 38:return x(t,g.AMP,l,l+1);case 40:return x(t,g.PAREN_L,l,l+1);case 41:return x(t,g.PAREN_R,l,l+1);case 46:if(n.charCodeAt(l+1)===46&&n.charCodeAt(l+2)===46)return x(t,g.SPREAD,l,l+3);break;case 58:return x(t,g.COLON,l,l+1);case 61:return x(t,g.EQUALS,l,l+1);case 64:return x(t,g.AT,l,l+1);case 91:return x(t,g.BRACKET_L,l,l+1);case 93:return x(t,g.BRACKET_R,l,l+1);case 123:return x(t,g.BRACE_L,l,l+1);case 124:return x(t,g.PIPE,l,l+1);case 125:return x(t,g.BRACE_R,l,l+1);case 34:return n.charCodeAt(l+1)===34&&n.charCodeAt(l+2)===34?$t(t,l):Nt(t,l)}if(oe(a)||a===45)return Vt(t,l,a);if(Le(a))return Tt(t,l);throw A(t.source,l,a===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:ne(a)||ie(n,l)?`Unexpected character: ${Z(t,l)}.`:`Invalid character: ${Z(t,l)}.`)}return x(t,g.EOF,o,o)}function Bt(t,r){const n=t.source.body,o=n.length;let l=r+1;for(;l<o;){const a=n.charCodeAt(l);if(a===10||a===13)break;if(ne(a))++l;else if(ie(n,l))l+=2;else break}return x(t,g.COMMENT,r,l,n.slice(r+1,l))}function Vt(t,r,n){const o=t.source.body;let l=r,a=n,i=!1;if(a===45&&(a=o.charCodeAt(++l)),a===48){if(a=o.charCodeAt(++l),oe(a))throw A(t.source,l,`Invalid number, unexpected digit after 0: ${Z(t,l)}.`)}else l=Be(t,l,a),a=o.charCodeAt(l);if(a===46&&(i=!0,a=o.charCodeAt(++l),l=Be(t,l,a),a=o.charCodeAt(l)),(a===69||a===101)&&(i=!0,a=o.charCodeAt(++l),(a===43||a===45)&&(a=o.charCodeAt(++l)),l=Be(t,l,a),a=o.charCodeAt(l)),a===46||Le(a))throw A(t.source,l,`Invalid number, expected digit but got: ${Z(t,l)}.`);return x(t,i?g.FLOAT:g.INT,r,l,o.slice(r,l))}function Be(t,r,n){if(!oe(n))throw A(t.source,r,`Invalid number, expected digit but got: ${Z(t,r)}.`);const o=t.source.body;let l=r+1;for(;oe(o.charCodeAt(l));)++l;return l}function Nt(t,r){const n=t.source.body,o=n.length;let l=r+1,a=l,i="";for(;l<o;){const u=n.charCodeAt(l);if(u===34)return i+=n.slice(a,l),x(t,g.STRING,r,l+1,i);if(u===92){i+=n.slice(a,l);const f=n.charCodeAt(l+1)===117?n.charCodeAt(l+2)===123?Ct(t,l):bt(t,l):St(t,l);i+=f.value,l+=f.size,a=l;continue}if(u===10||u===13)break;if(ne(u))++l;else if(ie(n,l))l+=2;else throw A(t.source,l,`Invalid character within String: ${Z(t,l)}.`)}throw A(t.source,l,"Unterminated string.")}function Ct(t,r){const n=t.source.body;let o=0,l=3;for(;l<12;){const a=n.charCodeAt(r+l++);if(a===125){if(l<5||!ne(o))break;return{value:String.fromCodePoint(o),size:l}}if(o=o<<4|le(a),o<0)break}throw A(t.source,r,`Invalid Unicode escape sequence: "${n.slice(r,r+l)}".`)}function bt(t,r){const n=t.source.body,o=Me(n,r+2);if(ne(o))return{value:String.fromCodePoint(o),size:6};if(Re(o)&&n.charCodeAt(r+6)===92&&n.charCodeAt(r+7)===117){const l=Me(n,r+8);if(Ue(l))return{value:String.fromCodePoint(o,l),size:12}}throw A(t.source,r,`Invalid Unicode escape sequence: "${n.slice(r,r+6)}".`)}function Me(t,r){return le(t.charCodeAt(r))<<12|le(t.charCodeAt(r+1))<<8|le(t.charCodeAt(r+2))<<4|le(t.charCodeAt(r+3))}function le(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function St(t,r){const n=t.source.body;switch(n.charCodeAt(r+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw A(t.source,r,`Invalid character escape sequence: "${n.slice(r,r+2)}".`)}function $t(t,r){const n=t.source.body,o=n.length;let l=t.lineStart,a=r+3,i=a,u="";const f=[];for(;a<o;){const d=n.charCodeAt(a);if(d===34&&n.charCodeAt(a+1)===34&&n.charCodeAt(a+2)===34){u+=n.slice(i,a),f.push(u);const p=x(t,g.BLOCK_STRING,r,a+3,ht(f).join(`
`));return t.line+=f.length-1,t.lineStart=l,p}if(d===92&&n.charCodeAt(a+1)===34&&n.charCodeAt(a+2)===34&&n.charCodeAt(a+3)===34){u+=n.slice(i,a),i=a+1,a+=4;continue}if(d===10||d===13){u+=n.slice(i,a),f.push(u),d===13&&n.charCodeAt(a+1)===10?a+=2:++a,u="",i=a,l=a;continue}if(ne(d))++a;else if(ie(n,a))a+=2;else throw A(t.source,a,`Invalid character within String: ${Z(t,a)}.`)}throw A(t.source,a,"Unterminated string.")}function Tt(t,r){const n=t.source.body,o=n.length;let l=r+1;for(;l<o;){const a=n.charCodeAt(l);if(pt(a))++l;else break}return x(t,g.NAME,r,l,n.slice(r,l))}const Dt=10,ze=2;function Ft(t){return ce(t,[])}function ce(t,r){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return Ot(t,r);default:return String(t)}}function Ot(t,r){if(t===null)return"null";if(r.includes(t))return"[Circular]";const n=[...r,t];if(It(t)){const o=t.toJSON();if(o!==t)return typeof o=="string"?o:ce(o,n)}else if(Array.isArray(t))return xt(t,n);return wt(t,n)}function It(t){return typeof t.toJSON=="function"}function wt(t,r){const n=Object.entries(t);if(n.length===0)return"{}";if(r.length>ze)return"["+Pt(t)+"]";const o=n.map(([l,a])=>l+": "+ce(a,r));return"{ "+o.join(", ")+" }"}function xt(t,r){if(t.length===0)return"[]";if(r.length>ze)return"[Array]";const n=Math.min(Dt,t.length),o=t.length-n,l=[];for(let a=0;a<n;++a)l.push(ce(t[a],r));return o===1?l.push("... 1 more item"):o>1&&l.push(`... ${o} more items`),"["+l.join(", ")+"]"}function Pt(t){const r=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(r==="Object"&&typeof t.constructor=="function"){const n=t.constructor.name;if(typeof n=="string"&&n!=="")return n}return r}const At=function(r,n){return r instanceof n};class _e{constructor(r,n="GraphQL request",o={line:1,column:1}){typeof r=="string"||ge(!1,`Body must be a string. Received: ${Ft(r)}.`),this.body=r,this.name=n,this.locationOffset=o,this.locationOffset.line>0||ge(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||ge(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function Lt(t){return At(t,_e)}function Rt(t,r){return new Ut(t,r).parseDocument()}class Ut{constructor(r,n){const o=Lt(r)?r:new _e(r);this._lexer=new yt(o),this._options=n}parseName(){const r=this.expectToken(g.NAME);return this.node(r,{kind:S.NAME,value:r.value})}parseDocument(){return this.node(this._lexer.token,{kind:S.DOCUMENT,definitions:this.many(g.SOF,this.parseDefinition,g.EOF)})}parseDefinition(){if(this.peek(g.BRACE_L))return this.parseOperationDefinition();const r=this.peekDescription(),n=r?this._lexer.lookahead():this._lexer.token;if(n.kind===g.NAME){switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(r)throw A(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(n.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(n)}parseOperationDefinition(){const r=this._lexer.token;if(this.peek(g.BRACE_L))return this.node(r,{kind:S.OPERATION_DEFINITION,operation:te.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const n=this.parseOperationType();let o;return this.peek(g.NAME)&&(o=this.parseName()),this.node(r,{kind:S.OPERATION_DEFINITION,operation:n,name:o,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const r=this.expectToken(g.NAME);switch(r.value){case"query":return te.QUERY;case"mutation":return te.MUTATION;case"subscription":return te.SUBSCRIPTION}throw this.unexpected(r)}parseVariableDefinitions(){return this.optionalMany(g.PAREN_L,this.parseVariableDefinition,g.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:S.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(g.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(g.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const r=this._lexer.token;return this.expectToken(g.DOLLAR),this.node(r,{kind:S.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:S.SELECTION_SET,selections:this.many(g.BRACE_L,this.parseSelection,g.BRACE_R)})}parseSelection(){return this.peek(g.SPREAD)?this.parseFragment():this.parseField()}parseField(){const r=this._lexer.token,n=this.parseName();let o,l;return this.expectOptionalToken(g.COLON)?(o=n,l=this.parseName()):l=n,this.node(r,{kind:S.FIELD,alias:o,name:l,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(g.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(r){const n=r?this.parseConstArgument:this.parseArgument;return this.optionalMany(g.PAREN_L,n,g.PAREN_R)}parseArgument(r=!1){const n=this._lexer.token,o=this.parseName();return this.expectToken(g.COLON),this.node(n,{kind:S.ARGUMENT,name:o,value:this.parseValueLiteral(r)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const r=this._lexer.token;this.expectToken(g.SPREAD);const n=this.expectOptionalKeyword("on");return!n&&this.peek(g.NAME)?this.node(r,{kind:S.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(r,{kind:S.INLINE_FRAGMENT,typeCondition:n?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){var r;const n=this._lexer.token;return this.expectKeyword("fragment"),((r=this._options)===null||r===void 0?void 0:r.allowLegacyFragmentVariables)===!0?this.node(n,{kind:S.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(n,{kind:S.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(r){const n=this._lexer.token;switch(n.kind){case g.BRACKET_L:return this.parseList(r);case g.BRACE_L:return this.parseObject(r);case g.INT:return this._lexer.advance(),this.node(n,{kind:S.INT,value:n.value});case g.FLOAT:return this._lexer.advance(),this.node(n,{kind:S.FLOAT,value:n.value});case g.STRING:case g.BLOCK_STRING:return this.parseStringLiteral();case g.NAME:switch(this._lexer.advance(),n.value){case"true":return this.node(n,{kind:S.BOOLEAN,value:!0});case"false":return this.node(n,{kind:S.BOOLEAN,value:!1});case"null":return this.node(n,{kind:S.NULL});default:return this.node(n,{kind:S.ENUM,value:n.value})}case g.DOLLAR:if(r)if(this.expectToken(g.DOLLAR),this._lexer.token.kind===g.NAME){const o=this._lexer.token.value;throw A(this._lexer.source,n.start,`Unexpected variable "$${o}" in constant value.`)}else throw this.unexpected(n);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const r=this._lexer.token;return this._lexer.advance(),this.node(r,{kind:S.STRING,value:r.value,block:r.kind===g.BLOCK_STRING})}parseList(r){const n=()=>this.parseValueLiteral(r);return this.node(this._lexer.token,{kind:S.LIST,values:this.any(g.BRACKET_L,n,g.BRACKET_R)})}parseObject(r){const n=()=>this.parseObjectField(r);return this.node(this._lexer.token,{kind:S.OBJECT,fields:this.any(g.BRACE_L,n,g.BRACE_R)})}parseObjectField(r){const n=this._lexer.token,o=this.parseName();return this.expectToken(g.COLON),this.node(n,{kind:S.OBJECT_FIELD,name:o,value:this.parseValueLiteral(r)})}parseDirectives(r){const n=[];for(;this.peek(g.AT);)n.push(this.parseDirective(r));return n}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(r){const n=this._lexer.token;return this.expectToken(g.AT),this.node(n,{kind:S.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(r)})}parseTypeReference(){const r=this._lexer.token;let n;if(this.expectOptionalToken(g.BRACKET_L)){const o=this.parseTypeReference();this.expectToken(g.BRACKET_R),n=this.node(r,{kind:S.LIST_TYPE,type:o})}else n=this.parseNamedType();return this.expectOptionalToken(g.BANG)?this.node(r,{kind:S.NON_NULL_TYPE,type:n}):n}parseNamedType(){return this.node(this._lexer.token,{kind:S.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(g.STRING)||this.peek(g.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const r=this._lexer.token,n=this.parseDescription();this.expectKeyword("schema");const o=this.parseConstDirectives(),l=this.many(g.BRACE_L,this.parseOperationTypeDefinition,g.BRACE_R);return this.node(r,{kind:S.SCHEMA_DEFINITION,description:n,directives:o,operationTypes:l})}parseOperationTypeDefinition(){const r=this._lexer.token,n=this.parseOperationType();this.expectToken(g.COLON);const o=this.parseNamedType();return this.node(r,{kind:S.OPERATION_TYPE_DEFINITION,operation:n,type:o})}parseScalarTypeDefinition(){const r=this._lexer.token,n=this.parseDescription();this.expectKeyword("scalar");const o=this.parseName(),l=this.parseConstDirectives();return this.node(r,{kind:S.SCALAR_TYPE_DEFINITION,description:n,name:o,directives:l})}parseObjectTypeDefinition(){const r=this._lexer.token,n=this.parseDescription();this.expectKeyword("type");const o=this.parseName(),l=this.parseImplementsInterfaces(),a=this.parseConstDirectives(),i=this.parseFieldsDefinition();return this.node(r,{kind:S.OBJECT_TYPE_DEFINITION,description:n,name:o,interfaces:l,directives:a,fields:i})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(g.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(g.BRACE_L,this.parseFieldDefinition,g.BRACE_R)}parseFieldDefinition(){const r=this._lexer.token,n=this.parseDescription(),o=this.parseName(),l=this.parseArgumentDefs();this.expectToken(g.COLON);const a=this.parseTypeReference(),i=this.parseConstDirectives();return this.node(r,{kind:S.FIELD_DEFINITION,description:n,name:o,arguments:l,type:a,directives:i})}parseArgumentDefs(){return this.optionalMany(g.PAREN_L,this.parseInputValueDef,g.PAREN_R)}parseInputValueDef(){const r=this._lexer.token,n=this.parseDescription(),o=this.parseName();this.expectToken(g.COLON);const l=this.parseTypeReference();let a;this.expectOptionalToken(g.EQUALS)&&(a=this.parseConstValueLiteral());const i=this.parseConstDirectives();return this.node(r,{kind:S.INPUT_VALUE_DEFINITION,description:n,name:o,type:l,defaultValue:a,directives:i})}parseInterfaceTypeDefinition(){const r=this._lexer.token,n=this.parseDescription();this.expectKeyword("interface");const o=this.parseName(),l=this.parseImplementsInterfaces(),a=this.parseConstDirectives(),i=this.parseFieldsDefinition();return this.node(r,{kind:S.INTERFACE_TYPE_DEFINITION,description:n,name:o,interfaces:l,directives:a,fields:i})}parseUnionTypeDefinition(){const r=this._lexer.token,n=this.parseDescription();this.expectKeyword("union");const o=this.parseName(),l=this.parseConstDirectives(),a=this.parseUnionMemberTypes();return this.node(r,{kind:S.UNION_TYPE_DEFINITION,description:n,name:o,directives:l,types:a})}parseUnionMemberTypes(){return this.expectOptionalToken(g.EQUALS)?this.delimitedMany(g.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const r=this._lexer.token,n=this.parseDescription();this.expectKeyword("enum");const o=this.parseName(),l=this.parseConstDirectives(),a=this.parseEnumValuesDefinition();return this.node(r,{kind:S.ENUM_TYPE_DEFINITION,description:n,name:o,directives:l,values:a})}parseEnumValuesDefinition(){return this.optionalMany(g.BRACE_L,this.parseEnumValueDefinition,g.BRACE_R)}parseEnumValueDefinition(){const r=this._lexer.token,n=this.parseDescription(),o=this.parseEnumValueName(),l=this.parseConstDirectives();return this.node(r,{kind:S.ENUM_VALUE_DEFINITION,description:n,name:o,directives:l})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw A(this._lexer.source,this._lexer.token.start,`${de(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const r=this._lexer.token,n=this.parseDescription();this.expectKeyword("input");const o=this.parseName(),l=this.parseConstDirectives(),a=this.parseInputFieldsDefinition();return this.node(r,{kind:S.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:o,directives:l,fields:a})}parseInputFieldsDefinition(){return this.optionalMany(g.BRACE_L,this.parseInputValueDef,g.BRACE_R)}parseTypeSystemExtension(){const r=this._lexer.lookahead();if(r.kind===g.NAME)switch(r.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(r)}parseSchemaExtension(){const r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const n=this.parseConstDirectives(),o=this.optionalMany(g.BRACE_L,this.parseOperationTypeDefinition,g.BRACE_R);if(n.length===0&&o.length===0)throw this.unexpected();return this.node(r,{kind:S.SCHEMA_EXTENSION,directives:n,operationTypes:o})}parseScalarTypeExtension(){const r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const n=this.parseName(),o=this.parseConstDirectives();if(o.length===0)throw this.unexpected();return this.node(r,{kind:S.SCALAR_TYPE_EXTENSION,name:n,directives:o})}parseObjectTypeExtension(){const r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const n=this.parseName(),o=this.parseImplementsInterfaces(),l=this.parseConstDirectives(),a=this.parseFieldsDefinition();if(o.length===0&&l.length===0&&a.length===0)throw this.unexpected();return this.node(r,{kind:S.OBJECT_TYPE_EXTENSION,name:n,interfaces:o,directives:l,fields:a})}parseInterfaceTypeExtension(){const r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const n=this.parseName(),o=this.parseImplementsInterfaces(),l=this.parseConstDirectives(),a=this.parseFieldsDefinition();if(o.length===0&&l.length===0&&a.length===0)throw this.unexpected();return this.node(r,{kind:S.INTERFACE_TYPE_EXTENSION,name:n,interfaces:o,directives:l,fields:a})}parseUnionTypeExtension(){const r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const n=this.parseName(),o=this.parseConstDirectives(),l=this.parseUnionMemberTypes();if(o.length===0&&l.length===0)throw this.unexpected();return this.node(r,{kind:S.UNION_TYPE_EXTENSION,name:n,directives:o,types:l})}parseEnumTypeExtension(){const r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const n=this.parseName(),o=this.parseConstDirectives(),l=this.parseEnumValuesDefinition();if(o.length===0&&l.length===0)throw this.unexpected();return this.node(r,{kind:S.ENUM_TYPE_EXTENSION,name:n,directives:o,values:l})}parseInputObjectTypeExtension(){const r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const n=this.parseName(),o=this.parseConstDirectives(),l=this.parseInputFieldsDefinition();if(o.length===0&&l.length===0)throw this.unexpected();return this.node(r,{kind:S.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:o,fields:l})}parseDirectiveDefinition(){const r=this._lexer.token,n=this.parseDescription();this.expectKeyword("directive"),this.expectToken(g.AT);const o=this.parseName(),l=this.parseArgumentDefs(),a=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const i=this.parseDirectiveLocations();return this.node(r,{kind:S.DIRECTIVE_DEFINITION,description:n,name:o,arguments:l,repeatable:a,locations:i})}parseDirectiveLocations(){return this.delimitedMany(g.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const r=this._lexer.token,n=this.parseName();if(Object.prototype.hasOwnProperty.call(Ee,n.value))return n;throw this.unexpected(r)}node(r,n){var o;return((o=this._options)===null||o===void 0?void 0:o.noLocation)!==!0&&(n.loc=new ft(r,this._lexer.lastToken,this._lexer.source)),n}peek(r){return this._lexer.token.kind===r}expectToken(r){const n=this._lexer.token;if(n.kind===r)return this._lexer.advance(),n;throw A(this._lexer.source,n.start,`Expected ${je(r)}, found ${de(n)}.`)}expectOptionalToken(r){return this._lexer.token.kind===r?(this._lexer.advance(),!0):!1}expectKeyword(r){const n=this._lexer.token;if(n.kind===g.NAME&&n.value===r)this._lexer.advance();else throw A(this._lexer.source,n.start,`Expected "${r}", found ${de(n)}.`)}expectOptionalKeyword(r){const n=this._lexer.token;return n.kind===g.NAME&&n.value===r?(this._lexer.advance(),!0):!1}unexpected(r){const n=r!=null?r:this._lexer.token;return A(this._lexer.source,n.start,`Unexpected ${de(n)}.`)}any(r,n,o){this.expectToken(r);const l=[];for(;!this.expectOptionalToken(o);)l.push(n.call(this));return l}optionalMany(r,n,o){if(this.expectOptionalToken(r)){const l=[];do l.push(n.call(this));while(!this.expectOptionalToken(o));return l}return[]}many(r,n,o){this.expectToken(r);const l=[];do l.push(n.call(this));while(!this.expectOptionalToken(o));return l}delimitedMany(r,n){this.expectOptionalToken(r);const o=[];do o.push(n.call(this));while(this.expectOptionalToken(r));return o}}function de(t){const r=t.value;return je(t.kind)+(r!=null?` "${r}"`:"")}function je(t){return kt(t)?`"${t}"`:t}var me=new Map,Ve=new Map,qe=!0,fe=!1;function Ge(t){return t.replace(/[\s,]+/g," ").trim()}function Mt(t){return Ge(t.source.body.substring(t.start,t.end))}function zt(t){var r=new Set,n=[];return t.definitions.forEach(function(o){if(o.kind==="FragmentDefinition"){var l=o.name.value,a=Mt(o.loc),i=Ve.get(l);i&&!i.has(a)?qe&&console.warn("Warning: fragment with name "+l+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):i||Ve.set(l,i=new Set),i.add(a),r.has(a)||(r.add(a),n.push(o))}else n.push(o)}),se(se({},t),{definitions:n})}function _t(t){var r=new Set(t.definitions);r.forEach(function(o){o.loc&&delete o.loc,Object.keys(o).forEach(function(l){var a=o[l];a&&typeof a=="object"&&r.add(a)})});var n=t.loc;return n&&(delete n.startToken,delete n.endToken),t}function jt(t){var r=Ge(t);if(!me.has(r)){var n=Rt(t,{experimentalFragmentVariables:fe,allowLegacyFragmentVariables:fe});if(!n||n.kind!=="Document")throw new Error("Not a valid GraphQL document.");me.set(r,_t(zt(n)))}return me.get(r)}function re(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];typeof t=="string"&&(t=[t]);var o=t[0];return r.forEach(function(l,a){l&&l.kind==="Document"?o+=l.loc.source.body:o+=l,o+=t[a+1]}),jt(o)}function qt(){me.clear(),Ve.clear()}function Gt(){qe=!1}function Kt(){fe=!0}function Qt(){fe=!1}var ae={gql:re,resetCaches:qt,disableFragmentWarnings:Gt,enableExperimentalFragmentVariables:Kt,disableExperimentalFragmentVariables:Qt};(function(t){t.gql=ae.gql,t.resetCaches=ae.resetCaches,t.disableFragmentWarnings=ae.disableFragmentWarnings,t.enableExperimentalFragmentVariables=ae.enableExperimentalFragmentVariables,t.disableExperimentalFragmentVariables=ae.disableExperimentalFragmentVariables})(re||(re={})),re.default=re;var Yt=re;class Xt extends he{constructor(n,o,l){super(l);ee(this,"apolloClient");ee(this,"resource");this.apolloClient=n,this.resource=o}getData(n,o,l,a,i){return new Promise((u,f)=>{const d=this.getQuery(n,o,a,i),p={offset:o*n,limit:o},V=Yt`${d}`;this.apolloClient.query({fetchPolicy:"no-cache",query:V,variables:p}).then(N=>{if(!N.loading){if(N.error){const B={name:"graphql query from vue-ui-grid",query:d,error:N.error,message:N.error};return f(B)}const y=N.data;if(y&&y[this.resource]){let B=y[this.resource].length;this.options.graphqlDataCounter&&this.options.resourceMeta&&(B=this.options.graphqlDataCounter(y[this.options.resourceMeta]));const b={query:d,items:y[this.resource],total:B};u(b)}}})})}getGraphColumn(){const n=this.options.columns.filter(u=>!["custom","query"].includes(u.type)),o=n.filter(u=>!u.field.match(/\./)),l=n.filter(u=>u.field.match(/\./)),a=o.filter(u=>!u.field.match(/\./)).map(u=>u.field).join(`
`),i=this.getRefQuery(l);return`
    ${a}
    ${i}
    `}getSearchQuery(n){let o=[];if(n){const l=F({},n),a=Object.keys(l).filter(p=>!p.match(/\./)),i=Object.keys(l).filter(p=>p.match(/\./)),u=a.map(p=>{const V=this.getFilter(p,l[p]);return l[p]?`${V}`:""}).filter(p=>p).join(""),f=i.map(p=>({key:p,value:l[p]})),d=this.getRefFilter(f);o=[u,d]}return o.join(`
`)}getOrderQuery(n){return this.options.graphqlOrder&&n&&n.by?this.options.graphqlOrder(n.by,n.type):""}getQuery(n,o,l,a){const i=this.getOrderQuery(a),u=this.getSearchQuery(l),f=this.getGraphColumn();return`
      query getData($offset: Int!, $limit: Int!) {
        ${this.resource}_aggregate (
          ${this.options.filterKey}: {
            ${this.options.refFilter}
            ${u}
          }
          ${i}
        ) {
          ${this.options.aggregateQuery}
        }
        ${this.resource} (
          ${this.options.offsetKey}: $offset,
          ${this.options.limitKey}: $limit,
          ${this.options.filterKey}: {
            ${this.options.refFilter}
            ${u}
          }
          ${i}
        ) {
          ${f}
        }
      }
    `}getFilter(n,o){let l=o;typeof o=="string"&&(l=o.replace(/\\/g,"\\\\").replace(/"/g,'\\"'));const a=this.options.columns.find(i=>i.field===n);return this.options.graphqlFilter&&a&&l?this.options.graphqlFilter(a.field,a.field_type,l,a.filter_type):""}getRefQuery(n){const o=n.map(a=>a.field).map(a=>a.split(".")),l={};return o.forEach(a=>{a.reduce((i,u)=>(i[u]||(i[u]={}),i[u]),l)}),this.getRefQueryByNode(l,!0)}getRefQueryByNode(n,o=!1){const l=Object.keys(n);if(l.length){const a=l.map(i=>`
          ${i} ${this.getRefQueryByNode(n[i])}
        `).join(`
`);return o?a:`{ ${a} }`}return""}getRefFilter(n){if(!n||!n.length)return"";const o={};return n.forEach(l=>{const a=this.options.columns.find(f=>f.field===l.key),i=l.key.split("."),u=i.length;i.reduce((f,d,p)=>{let V={};return p===u-1&&(V=l.value,this.options.graphqlFilter&&a&&l.value&&(V=this.options.graphqlFilter(d,a.field_type,l.value,a.filter_type))),f[d]||(f[d]=V),f[d]},o)}),this.getRefFilterByNode(o,!0)}getRefFilterByNode(n,o=!1){if(typeof n=="object"){const l=Object.keys(n);if(l.length){const a=l.map(i=>typeof n[i]=="object"?`
              ${i}: ${this.getRefFilterByNode(n[i])}
            `:this.getRefFilterByNode(n[i])).join(`
`);return o?a:`{ ${a} }`}}return n}}function Ne(t){const r=e.inject("$vgrid",{debug:!1,pageKey:"page"});return e.computed(()=>({debug:r.debug,pageKey:r.pageKey,searchable:t.searchable,searchField:t.searchField,orderable:t.orderable,filterable:t.filterable,columnFilterable:t.columnFilterable,columnVisible:t.columnVisible,statusable:t.statusable,pagination:t.pagination,exportable:t.exportable,columns:t.columns}))}function Ce(t,r,n){const o=Ne(t),l=e.computed(()=>F(F({},o.value),r)),a=new lt(t.data,l.value),i=()=>{a.updateData(t.data),n()};return e.watch(()=>t.data,()=>{i()}),{dataProvider:a,gridOption:l,setDataCollections:i}}function U(t,r){return e.computed({get:()=>t.modelValue,set:n=>{r("update:modelValue",n)}})}const Jt={key:0,class:"vgrid-pagination"},Ht=["onClick","innerHTML"],M=e.defineComponent({name:"Pagination",props:{modelValue:null,limit:{default:10},total:{default:0}},emits:["update:modelValue"],setup(t,{emit:r}){const n=t,o=U(n,r),l=e.computed(()=>n.total%n.limit?Math.floor(n.total/n.limit)+1:n.total/n.limit),a=e.computed(()=>{const u=[-2,-1,0,1,2].map(d=>d+o.value),f=[{label:"&laquo;",page:o.value-1,disable:o.value===0}];for(const d of u)d>=0&&d<l.value&&(d===0?f.push({label:"1",page:0}):d===o.value?f.push({label:d+1,page:d}):f.push({label:d+1,page:d}));return f.push({label:"&raquo;",page:o.value+1,disable:o.value===l.value-1}),l.value>5&&(o.value>2&&f.splice(1,0,{label:"1..",page:0}),o.value<l.value-3&&f.splice(f.length-1,0,{label:`..${l.value}`,page:l.value-1})),f}),i=u=>{o.value=u};return(u,f)=>e.unref(l)>1?(e.openBlock(),e.createElementBlock("nav",Jt,[e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(a),(d,p)=>(e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass({active:d.page===e.unref(o),disabled:d.disable}),key:p},[e.createElementVNode("a",{href:"javascript:;",onClick:V=>i(d.page),innerHTML:d.label},null,8,Ht)],2))),128))])])):e.createCommentVNode("",!0)}}),Wt={key:0,class:"vgrid-pagination vgrid-pagination--cursor"},Zt=["onClick","innerHTML","title"],_=e.defineComponent({name:"CursorPagination",props:{modelValue:null,meta:{default:{}}},emits:["update:modelValue"],setup(t,{emit:r}){const n=t,o=U(n,r),l=e.computed(()=>{var i,u,f,d;return[{label:"&lsaquo;",page:(i=n.meta)==null?void 0:i.prev_cursor,disable:!((u=n.meta)!=null&&u.prev_cursor),title:"Previous"},{label:"&rsaquo;",page:(f=n.meta)==null?void 0:f.next_cursor,disable:!((d=n.meta)!=null&&d.next_cursor),title:"Next"}]}),a=i=>{o.value=i};return(i,u)=>t.meta?(e.openBlock(),e.createElementBlock("nav",Wt,[e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(l),(f,d)=>(e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass({disabled:f.disable}),key:d},[e.createElementVNode("a",{href:"javascript:;",onClick:p=>a(f.page),innerHTML:f.label,title:f.title},null,8,Zt)],2))),128))])])):e.createCommentVNode("",!0)}});function be(t,r){if(!r)return"";const n=t.split("."),o=n.reduce((l,a,i)=>l[a]||(i<n.length-1?{}:null),r);return o||""}function ue(t){const r=e.computed(()=>t.column.format?typeof t.column.format=="function"?t.column.format(t.data):t.column.format.replace(/\{(\w*)\}/g,(o,l)=>be(l,t.data)):be(t.column.field,t.data)),n=e.computed(()=>{const o=t.column.type||"text",{field:l}=t.column,a=[`vgrid-column-type--${o}`,`vgrid-column-data--${l}`];return t.resize&&t.column.width&&a.push(`vgrid-field--${t.column.width}`),t.column.class&&a.push(t.column.class),a});return{text:r,classes:n}}const vt=["innerHTML"],en=e.defineComponent({name:"Basic",props:{column:null,data:null,resize:{type:Boolean,default:!1}},setup(t){const r=t,{text:n,classes:o}=ue(r);return(l,a)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-field",e.unref(o)])},[e.renderSlot(l.$slots,"default",{},()=>[e.createElementVNode("span",{innerHTML:e.unref(n)},null,8,vt)])],2))}}),tn=e.defineComponent({name:"DateTime",props:{column:null,data:null,resize:{type:Boolean,default:!1}},setup(t){const r=t,{text:n,classes:o}=ue(r),l=e.computed(()=>n.value);return(a,i)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-field",e.unref(o)])},[e.renderSlot(a.$slots,"default",{},()=>[e.createElementVNode("span",null,e.toDisplayString(e.unref(l)),1)])],2))}}),nn=e.defineComponent({name:"Timestamp",props:{column:null,data:null,resize:{type:Boolean,default:!1}},setup(t){const r=t,{text:n,classes:o}=ue(r),l=e.computed(()=>n.value);return(a,i)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-field",e.unref(o)])},[e.renderSlot(a.$slots,"default",{},()=>[e.createElementVNode("span",null,e.toDisplayString(e.unref(l)),1)])],2))}}),rn=["innerHTML"],on=e.defineComponent({name:"Custom",props:{column:null,data:null,resize:{type:Boolean,default:!1}},setup(t){const r=t,{text:n,classes:o}=ue(r);return(l,a)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-field",e.unref(o)])},[e.renderSlot(l.$slots,"default",{},()=>[e.createElementVNode("span",{innerHTML:e.unref(n)},null,8,rn)])],2))}}),j=e.defineComponent({name:"ColumnType",props:{column:null,data:null,resize:{type:Boolean}},setup(t){const r=n=>{let o=en;switch(n){case"datetime":o=tn;break;case"timestamp":o=nn;break;case"custom":o=on;break}return o};return(n,o)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(r(t.column.type)),{column:t.column,data:t.data,resize:t.resize},{default:e.withCtx(()=>[e.renderSlot(n.$slots,"default")]),_:3},8,["column","data","resize"]))}});function Ke(t){return{classes:e.computed(()=>{const n=t.column.type||"text",{field:o}=t.column;return[`vgrid-column-type--${n}`,`vgrid-column-data--${o}`]})}}const ln={class:"vgrid-text-input"},an=["value","placeholder"],Se=e.defineComponent({name:"TextInput",props:{modelValue:{default:""},placeholder:{default:""},clearable:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(t,{expose:r,emit:n}){const o=t,l=U(o,n),a=e.ref(null),i=e.ref(!1),u=e.ref(null),f=e.computed(()=>o.clearable&&o.modelValue),d=()=>{l.value=""},p=N=>{i.value=!0,u.value&&clearTimeout(u.value),u.value=setTimeout(()=>{const y=N.target.value;l.value=y,i.value=!1},500)};return r({focus:async()=>{await e.nextTick(()=>{a.value&&a.value.focus()})}}),(N,y)=>(e.openBlock(),e.createElementBlock("div",ln,[e.createElementVNode("input",{class:e.normalizeClass(["vgrid-input",{"vgrid-input--active":e.unref(l)}]),ref_key:"input",ref:a,type:"text",value:e.unref(l),placeholder:t.placeholder,onInput:p},null,42,an),e.unref(f)?(e.openBlock(),e.createElementBlock("a",{key:0,class:"vgrid-input-clear",href:"javascript:;",onClick:d},"\xD7")):e.createCommentVNode("",!0)]))}}),sn=e.defineComponent({name:"Basic",props:{modelValue:null,column:null},emits:["update:modelValue"],setup(t,{emit:r}){const n=t,o=U(n,r),{classes:l}=Ke(n);return(a,i)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-column-filter",e.unref(l)])},[e.createVNode(Se,{modelValue:e.unref(o),"onUpdate:modelValue":i[0]||(i[0]=u=>e.isRef(o)?o.value=u:null)},null,8,["modelValue"])],2))}}),cn=e.createElementVNode("option",{value:""},"Clear selected",-1),dn=["value"],mn=e.defineComponent({name:"Dropdown",props:{modelValue:null,column:null},emits:["update:modelValue"],setup(t,{emit:r}){const n=t,o=U(n,r),{classes:l}=Ke(n);return(a,i)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-column-filter",e.unref(l)])},[e.withDirectives(e.createElementVNode("select",{class:"vgrid-input",ref:"input","onUpdate:modelValue":i[0]||(i[0]=u=>e.isRef(o)?o.value=u:null)},[cn,(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.column.filter_value,u=>(e.openBlock(),e.createElementBlock("option",{value:u.id+""},e.toDisplayString(u.label),9,dn))),256))],512),[[e.vModelSelect,e.unref(o)]])],2))}}),$e=e.defineComponent({name:"ColumnFilter",props:{column:null},setup(t){const r=n=>{let o=sn;switch(n){case"dropdown":o=mn;break}return o};return(n,o)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(r(t.column.filter_type)),{column:t.column},null,8,["column"]))}});function pe(t,r,n={}){const o=e.ref(!1),l=()=>({}),a=e.computed(()=>{const p=t.column.type||"text",{field:V}=t.column,N=[`vgrid-column-type--${p}`,`vgrid-column-data--${V}`];return r.value&&N.push("active"),N}),i=e.computed(()=>`Find ${t.column.label}`),u=()=>{document.dispatchEvent(new Event("vgrid-filter-editor")),o.value=!0,n&&n.value&&setTimeout(()=>{n.value.focus()},100)},f=()=>{o.value=!1},d=()=>{o.value=!1};return e.onMounted(()=>{document.body.addEventListener("click",d),document.addEventListener("vgrid-filter-editor",d)}),e.onBeforeUnmount(()=>{document.body.removeEventListener("click",d),document.removeEventListener("vgrid-filter-editor",d)}),{isEditor:o,stopClick:l,classes:a,placeholder:i,showEditor:u,onEnter:f}}const fn={class:"vgrid-filter-value"},un={class:"vgrid-label--prefix"},pn={class:"vgrid-filter-editor"},hn={class:"vgrid-filter-label"},gn=e.defineComponent({name:"Basic",props:{modelValue:null,column:null},emits:["update:modelValue"],setup(t,{emit:r}){const n=t,o=U(n,r),l=e.ref(),{isEditor:a,stopClick:i,classes:u,placeholder:f,showEditor:d,onEnter:p}=pe(n,o,l),V=e.computed(()=>o.value||"Any");return(N,y)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-filter-item",e.unref(u)]),onClick:y[2]||(y[2]=e.withModifiers((...B)=>e.unref(i)&&e.unref(i)(...B),["stop"]))},[e.createElementVNode("div",{class:e.normalizeClass(["vgrid-filter-handle",{active:e.unref(a),"vgrid-input--active":e.unref(o)}]),onClick:y[0]||(y[0]=(...B)=>e.unref(d)&&e.unref(d)(...B))},[e.createElementVNode("span",fn,[e.createElementVNode("span",un,e.toDisplayString(t.column.label)+":\xA0",1),e.createElementVNode("strong",null,e.toDisplayString(e.unref(V)),1)])],2),e.withDirectives(e.createElementVNode("div",pn,[e.createElementVNode("span",hn,e.toDisplayString(t.column.label)+":",1),e.createVNode(Se,{class:"vgrid-input-sm",ref_key:"input",ref:l,placeholder:e.unref(f),modelValue:e.unref(o),"onUpdate:modelValue":y[1]||(y[1]=B=>e.isRef(o)?o.value=B:null),onEnter:e.unref(p)},null,8,["placeholder","modelValue","onEnter"])],512),[[e.vShow,e.unref(a)]])],2))}}),yn={class:"vgrid-filter-value"},kn={class:"vgrid-label--prefix"},En={class:"vgrid-filter-editor"},Bn={class:"vgrid-filter-label"},Vn=e.createElementVNode("option",{value:""},"Select a value",-1),Nn=["value"],Cn=e.defineComponent({name:"Dropdown",props:{modelValue:null,column:null},emits:["update:modelValue"],setup(t,{emit:r}){const n=t,o=U(n,r),l=e.ref(null),{isEditor:a,stopClick:i,classes:u,placeholder:f,showEditor:d,onEnter:p}=pe(n,o,l),V=e.computed(()=>{if(o.value){const N=n.column.filter_value.find(y=>y.id==o.value);return N?N.label:o.value}return"Any"});return(N,y)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-filter-item",e.unref(u)]),onClick:y[2]||(y[2]=e.withModifiers((...B)=>e.unref(i)&&e.unref(i)(...B),["stop"]))},[e.createElementVNode("div",{class:e.normalizeClass(["vgrid-filter-handle",{active:e.unref(a),"vgrid-input--active":e.unref(o)}]),onClick:y[0]||(y[0]=(...B)=>e.unref(d)&&e.unref(d)(...B))},[e.createElementVNode("span",yn,[e.createElementVNode("span",kn,e.toDisplayString(t.column.label)+":\xA0",1),e.createElementVNode("strong",null,e.toDisplayString(e.unref(V)),1)])],2),e.withDirectives(e.createElementVNode("div",En,[e.createElementVNode("span",Bn,e.toDisplayString(t.column.label)+":",1),e.withDirectives(e.createElementVNode("select",{class:"vgrid-input","onUpdate:modelValue":y[1]||(y[1]=B=>e.isRef(o)?o.value=B:null)},[Vn,(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.column.filter_value,B=>(e.openBlock(),e.createElementBlock("option",{value:B.id+""},e.toDisplayString(B.label),9,Nn))),256))],512),[[e.vModelSelect,e.unref(o)]])],512),[[e.vShow,e.unref(a)]])],2))}});function Qe(t){const r=t?`${t}`:"vgrid",n=Math.floor(1e5+Math.random()*9e5);return`${r}-${n}`}const bn={class:"vgrid-filter-value"},Sn={class:"vgrid-label--prefix"},$n={class:"vgrid-filter-editor"},Tn={class:"vgrid-filter-label"},Dn={class:"form-check"},Fn=["value","id"],On=["for"],In=e.defineComponent({name:"Checkbox",props:{modelValue:null,column:null},emits:["update:modelValue"],setup(t,{emit:r}){const n=t,o=U(n,r);e.computed(()=>Qe("vgrid-checkbox-"));const{isEditor:l,stopClick:a,classes:i,placeholder:u,showEditor:f,onEnter:d}=pe(n,o),p=e.computed(()=>o.value&&o.value.length?n.column.filter_value.filter(N=>o.value.indexOf(N.id.toString())!==-1).map(N=>N.label).join(", "):"Any");return(V,N)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-filter-item",e.unref(i)]),onClick:N[2]||(N[2]=e.withModifiers((...y)=>e.unref(a)&&e.unref(a)(...y),["stop"]))},[e.createElementVNode("div",{class:e.normalizeClass(["vgrid-filter-handle",{active:e.unref(l),"vgrid-input--active":e.unref(o)}]),onClick:N[0]||(N[0]=(...y)=>e.unref(f)&&e.unref(f)(...y))},[e.createElementVNode("span",bn,[e.createElementVNode("span",Sn,e.toDisplayString(t.column.label)+":\xA0",1),e.createElementVNode("strong",null,e.toDisplayString(e.unref(p)),1)])],2),e.withDirectives(e.createElementVNode("div",$n,[e.createElementVNode("span",Tn,e.toDisplayString(t.column.label)+":",1),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.column.filter_value,y=>(e.openBlock(),e.createElementBlock("div",Dn,[e.withDirectives(e.createElementVNode("input",{class:"form-check-input","onUpdate:modelValue":N[1]||(N[1]=B=>e.isRef(o)?o.value=B:null),value:y.id+"",id:t.column.field+"-"+y.id,type:"checkbox"},null,8,Fn),[[e.vModelCheckbox,e.unref(o)]]),e.createElementVNode("label",{class:"form-check-label",for:t.column.field+"-"+y.id},e.toDisplayString(y.label),9,On)]))),256))],512),[[e.vShow,e.unref(l)]])],2))}}),wn={class:"vgrid-filter-value"},xn={class:"vgrid-label--prefix"},Pn={class:"vgrid-filter-editor"},An={class:"vgrid-filter-label"},Ln={class:"form-check"},Rn=["name","value","id"],Un=["for"],Mn=e.defineComponent({name:"Radio",props:{modelValue:null,column:null},emits:["update:modelValue"],setup(t,{emit:r}){const n=t,o=U(n,r),l=e.ref(null),a=e.computed(()=>Qe("vgrid-radio-")),{isEditor:i,stopClick:u,classes:f,placeholder:d,showEditor:p,onEnter:V}=pe(n,o,l),N=e.computed(()=>{if(o.value){const B=n.column.filter_value.find(b=>b.id==o.value);return B?B.label:o.value}return"Any"}),y=()=>{o.value=""};return(B,b)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-filter-item",e.unref(f)]),onClick:b[2]||(b[2]=e.withModifiers((...s)=>e.unref(u)&&e.unref(u)(...s),["stop"]))},[e.createElementVNode("div",{class:e.normalizeClass(["vgrid-filter-handle",{active:e.unref(i),"vgrid-input--active":e.unref(o)}]),onClick:b[0]||(b[0]=(...s)=>e.unref(p)&&e.unref(p)(...s))},[e.createElementVNode("span",wn,[e.createElementVNode("span",xn,e.toDisplayString(t.column.label)+":\xA0",1),e.createElementVNode("strong",null,e.toDisplayString(e.unref(N)),1)])],2),e.withDirectives(e.createElementVNode("div",Pn,[e.createElementVNode("span",An,e.toDisplayString(t.column.label)+":",1),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.column.filter_value,s=>(e.openBlock(),e.createElementBlock("div",Ln,[e.withDirectives(e.createElementVNode("input",{class:"form-check-input",name:e.unref(a),"onUpdate:modelValue":b[1]||(b[1]=k=>e.isRef(o)?o.value=k:null),value:s.id+"",id:t.column.field+"-"+s.id,type:"radio"},null,8,Rn),[[e.vModelRadio,e.unref(o)]]),e.createElementVNode("label",{class:"form-check-label",for:t.column.field+"-"+s.id},e.toDisplayString(s.label),9,Un)]))),256)),e.createElementVNode("div",{class:"text-center mt-2"},[e.createElementVNode("button",{class:"btn btn-sm",type:"button",onClick:y},"Clear")])],512),[[e.vShow,e.unref(i)]])],2))}}),zn={class:"vgrid-filter"},q=e.defineComponent({name:"Filter",props:{modelValue:{default:{}},columns:{default:()=>[]}},emits:["update:modelValue"],setup(t,{emit:r}){const o=U(t,r),l=a=>{let i=gn;switch(a){case"dropdown":i=Cn;break;case"checkbox":i=In;break;case"radio":i=Mn;break}return i};return(a,i)=>(e.openBlock(),e.createElementBlock("div",zn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.columns,u=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:u.id},[u.filter?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(l(u.filter_type)),{key:0,column:u,modelValue:e.unref(o)[u.field],"onUpdate:modelValue":f=>e.unref(o)[u.field]=f},null,8,["column","modelValue","onUpdate:modelValue"])):e.createCommentVNode("",!0)],64))),128))]))}}),_n={class:"vgrid-order"},jn={class:"vgrid-select"},qn=["value"],Gn=e.createElementVNode("span",{class:"vgrid-label--prefix"},"Sort:",-1),Kn=["onClick"],G=e.defineComponent({name:"Order",props:{modelValue:{default:()=>({by:"",type:"desc"})},columns:{default:()=>[]},hasSortType:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(t,{emit:r}){const n=t,o=e.computed({get:()=>({by:n.modelValue?n.modelValue.by:"",type:n.modelValue?n.modelValue.type:"desc"}),set:f=>{r("update:modelValue",f)}}),l=e.computed({get:()=>o.value.by,set:f=>{o.value=W(F({},o.value),{by:f})}}),a=e.computed(()=>n.columns?n.columns.find(f=>f.field===o.value.by)||{}:null),i=e.computed(()=>n.columns.filter(f=>f.order)),u=()=>{o.value=W(F({},o.value),{type:o.value.type==="desc"?"asc":"desc"})};return(f,d)=>(e.openBlock(),e.createElementBlock("div",_n,[e.createElementVNode("div",jn,[e.withDirectives(e.createElementVNode("select",{class:"vgrid-input","onUpdate:modelValue":d[0]||(d[0]=p=>e.isRef(l)?l.value=p:null)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(i),p=>(e.openBlock(),e.createElementBlock("option",{value:p.field},e.toDisplayString(p.label),9,qn))),256))],512),[[e.vModelSelect,e.unref(l)]]),e.createElementVNode("label",null,[Gn,e.createElementVNode("strong",null,e.toDisplayString(e.unref(a).label),1)])]),t.hasSortType?(e.openBlock(),e.createElementBlock("button",{key:0,class:"vgrid-order-type",onClick:e.withModifiers(u,["stop"])},e.toDisplayString(e.unref(o).type),9,Kn)):e.createCommentVNode("",!0)]))}}),Qn={class:"vgrid-size"},Yn=e.createElementVNode("span",null,"Show",-1),Xn=["value"],Jn=e.createElementVNode("span",null,"entries",-1),K=e.defineComponent({name:"PageSize",props:{modelValue:null,sizes:{default:()=>[5,10,20,50,100]}},emits:["update:modelValue"],setup(t,{emit:r}){const o=U(t,r);return(l,a)=>(e.openBlock(),e.createElementBlock("div",Qn,[Yn,e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":a[0]||(a[0]=i=>e.isRef(o)?o.value=i:null)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.sizes,(i,u)=>(e.openBlock(),e.createElementBlock("option",{value:i,key:u},e.toDisplayString(i),9,Xn))),128))],512),[[e.vModelSelect,e.unref(o)]]),Jn]))}}),Hn=["onClick"],Wn=[e.createElementVNode("span",null,"Columns visibility",-1)],Zn={class:"vgrid-visibility-body"},vn=["id","value"],er=["for"],tr=["onClick"],nr=["onClick"],Q=e.defineComponent({name:"ColumnsVisibility",props:{modelValue:{default:()=>({})},columns:{default:()=>[]}},emits:["update:modelValue"],setup(t,{emit:r}){const n=t,o=U(n,r),l=e.ref(!1),a=e.ref([]),i=e.ref([]);e.watch(()=>a.value,()=>{f()});const u=()=>{l.value=!l.value},f=()=>{o.value=y()},d=()=>({}),p=()=>{i.value=[...n.columns],a.value=o.value},V=b=>{if(b<n.columns.length-1){const s=b,k=b+1;i.value.splice(k,0,i.value.splice(s,1)[0]),f()}},N=b=>{if(b>0){const s=b,k=b-1;i.value.splice(k,0,i.value.splice(s,1)[0]),f()}},y=()=>i.value.filter(b=>a.value.includes(b.field)).map(b=>b.field),B=()=>{l.value=!1};return e.onMounted(()=>{document.body.addEventListener("click",B),p()}),e.onBeforeUnmount(()=>{document.body.removeEventListener("click",B)}),(b,s)=>(e.openBlock(),e.createElementBlock("div",{class:"vgrid-visibility",onClick:e.withModifiers(d,["stop"])},[e.createElementVNode("button",{class:"vgrid-visibility-button",type:"button",onClick:u},Wn),e.withDirectives(e.createElementVNode("div",Zn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.value,(k,D)=>e.withDirectives((e.openBlock(),e.createElementBlock("div",{class:"vgrid-visibility-column",key:k.field},[e.withDirectives(e.createElementVNode("input",{type:"checkbox",id:"grid-column-"+k.field,"onUpdate:modelValue":s[0]||(s[0]=I=>a.value=I),value:k.field},null,8,vn),[[e.vModelCheckbox,a.value]]),e.createElementVNode("label",{for:"grid-column-"+k.field},e.toDisplayString(e.unref(L)(k.label||k.field)),9,er),e.createElementVNode("button",{class:"vgrid-visibility-down",onClick:I=>N(D)},"\xA0",8,tr),e.createElementVNode("button",{class:"vgrid-visibility-up",onClick:I=>V(D)},"\xA0",8,nr)])),[[e.vShow,k.type!=="hidden"]])),128))],512),[[e.vShow,l.value]])],8,Hn))}}),rr=["onSubmit"],Y=e.defineComponent({name:"Search",props:{modelValue:{default:""},placeholder:{default:"Search"}},emits:["update:modelValue"],setup(t,{emit:r}){const o=U(t,r),l=()=>({});return(a,i)=>(e.openBlock(),e.createElementBlock("form",{class:"vgrid-search",onSubmit:e.withModifiers(l,["prevent"])},[e.createVNode(Se,{placeholder:t.placeholder,modelValue:e.unref(o),"onUpdate:modelValue":i[0]||(i[0]=u=>e.isRef(o)?o.value=u:null)},null,8,["placeholder","modelValue"])],40,rr))}}),or={class:"vgrid-status"},X=e.defineComponent({name:"Status",props:{limit:{default:10},currentPage:{default:0},total:{default:0},showed:{default:10}},setup(t){const r=t,n=e.computed(()=>{const o=r.limit*r.currentPage,l=o+r.showed;return`Showing ${o+1} to ${l} of ${r.total} entries`});return(o,l)=>(e.openBlock(),e.createElementBlock("div",or,e.toDisplayString(e.unref(n)),1))}}),lr={class:"vgrid-export-button"},ar=["onClick"],J=e.defineComponent({name:"ExportButton",props:{data:{default:()=>[]},columns:{default:()=>[]},fileName:{default:()=>new Date().toISOString()}},setup(t){const r=t,n=e.computed(()=>r.columns.filter(l=>l.type!=="custom")),o=()=>{const l=r.fileName||new Date().toISOString(),a=n.value.map(p=>p.label).join(","),i=r.data.map(p=>n.value.map(V=>be(V.field,p)).map(V=>`"${V}"`).join(",")).join(`
`),u=`data:text/csv;charset=utf-8,${a}
${i}`,f=encodeURI(u),d=document.createElement("a");d.setAttribute("href",f),d.setAttribute("download",`${l}.csv`),document.body.appendChild(d),d.click()};return(l,a)=>(e.openBlock(),e.createElementBlock("div",lr,[e.createElementVNode("button",{type:"button",onClick:e.withModifiers(o,["stop"])},"Export",8,ar)]))}}),sr={class:"vgrid-header"},ir={class:"vgrid-body"},cr={key:0,class:"vgrid-nodata"},dr={key:0},mr={key:1},fr={class:"vgrid-responsive"},ur={class:"vgrid-table"},pr=["onClick"],hr={class:"vgrid-field-header-content"},gr={key:0,class:"vgrid-table-filter"},yr={key:1},kr=["colspan"],Er={key:0},Br={key:1},Vr={key:2,class:"vgrid-loader"},Nr=[e.createElementVNode("span",{class:"vgrid-sr-only"},"Loading..",-1)],Cr={class:"vgrid-footer"},br={key:0,class:"vgrid-devbar"},Sr={class:"vgrid-col-9"},$r={class:"vgrid-col-3 vgrid-align-right"},Tr={key:0},Ye=e.defineComponent({name:"BasicGrid",props:{data:{default:()=>[]},searchField:{default:"s"},columns:{default:()=>[]},perPage:null,filterable:{type:Boolean,default:!0},columnFilterable:{type:Boolean,default:!1},columnVisible:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},searchPlaceholder:null,orderable:{type:Boolean,default:!1},sortBy:null,sortType:{default:"desc"},statusable:{type:Boolean,default:!0},pagable:{type:Boolean,default:!0},pagination:{type:Boolean,default:!0},strEmptyFilteredData:{default:"No data matched"},strEmptyData:{default:"Empty data"},exportable:{type:Boolean,default:!1},exportFileName:null,colMd:{default:6},colLg:{default:4},colXl:{default:3},routeState:{type:Boolean,default:!1},cursorPagination:{type:Boolean,default:!1}},emits:["data-changed"],setup(t,{expose:r,emit:n}){const o=t,{gridOption:l,dataProvider:a,setDataCollections:i}=Ce(o,{displayType:"grid",dataType:"json"},()=>{I()}),{hasColumnFilter:u,hasColumnOrder:f,cardColumnClasses:d,dataState:p,hasRecord:V,columnVisibility:N,isEmptyData:y,visibleCols:B,gridClasses:b,setColumnVisibility:s,gridState:k,isFiltered:D,getData:I,setOrder:w,setFilter:P,resetGrid:h}=z(o,n,a,l);return s(),I(),r({dataState:p,gridState:k,getData:I,setFilter:P,resetGrid:h}),(m,c)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid",e.unref(b)])},[e.createElementVNode("div",sr,[e.renderSlot(m.$slots,"header",{},()=>[e.renderSlot(m.$slots,"header-start"),e.renderSlot(m.$slots,"header-search",{},()=>[t.searchable?(e.openBlock(),e.createBlock(Y,{key:0,modelValue:e.unref(k).searchKeyword,"onUpdate:modelValue":c[0]||(c[0]=E=>e.unref(k).searchKeyword=E),placeholder:t.searchPlaceholder},null,8,["modelValue","placeholder"])):e.createCommentVNode("",!0)]),e.renderSlot(m.$slots,"header-filter",{},()=>[t.filterable&&e.unref(u)?(e.openBlock(),e.createBlock(q,{key:0,modelValue:e.unref(k).where,"onUpdate:modelValue":c[1]||(c[1]=E=>e.unref(k).where=E),columns:t.columns},null,8,["modelValue","columns"])):e.createCommentVNode("",!0)]),e.renderSlot(m.$slots,"header-order",{},()=>[t.orderable&&e.unref(f)?(e.openBlock(),e.createBlock(G,{key:0,class:"vgrid-ml-auto",modelValue:e.unref(k).order,"onUpdate:modelValue":c[2]||(c[2]=E=>e.unref(k).order=E),"has-sort-type":e.unref(k).hasSortType,columns:t.columns},null,8,["modelValue","has-sort-type","columns"])):e.createCommentVNode("",!0)]),e.renderSlot(m.$slots,"header-column-visibility",{},()=>[t.columnVisible?(e.openBlock(),e.createBlock(Q,{key:0,class:"vgrid-ml-auto",columns:t.columns,modelValue:e.unref(N),"onUpdate:modelValue":c[3]||(c[3]=E=>e.isRef(N)?N.value=E:null)},null,8,["columns","modelValue"])):e.createCommentVNode("",!0)]),e.renderSlot(m.$slots,"header-export",{},()=>[t.exportable?(e.openBlock(),e.createBlock(J,{key:0,class:"vgrid-ml-auto",columns:e.unref(B),data:e.unref(p).records,"file-name":t.exportFileName?t.exportFileName:""},null,8,["columns","data","file-name"])):e.createCommentVNode("",!0)]),e.renderSlot(m.$slots,"header-end")])]),e.createElementVNode("div",ir,[e.unref(V)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",cr,[e.unref(D)?(e.openBlock(),e.createElementBlock("span",mr,e.toDisplayString(t.strEmptyFilteredData),1)):(e.openBlock(),e.createElementBlock("span",dr,e.toDisplayString(t.strEmptyData),1))])),e.unref(y)?e.createCommentVNode("",!0):e.renderSlot(m.$slots,"body",{key:1,entries:e.unref(p).records,visibleCols:e.unref(B)},()=>[e.createElementVNode("div",fr,[e.createElementVNode("table",ur,[e.renderSlot(m.$slots,"table-head",{cols:e.unref(B)},()=>[e.createElementVNode("thead",null,[e.createElementVNode("tr",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(B),E=>(e.openBlock(),e.createElementBlock("th",{class:e.normalizeClass(["vgrid-field-header",E.headerClasses]),onClick:$=>e.unref(w)(E.field),key:E.id},[e.createElementVNode("div",hr,[e.renderSlot(m.$slots,"column-header-"+E.field,{col:E},()=>[e.createElementVNode("span",null,e.toDisplayString(E.showedLabel),1),e.createElementVNode("b",{class:e.normalizeClass(E.orderClasses)},null,2)])])],10,pr))),128))])])]),e.renderSlot(m.$slots,"table-body",{entries:e.unref(p).records},()=>[e.createElementVNode("tbody",null,[t.columnFilterable&&e.unref(u)?(e.openBlock(),e.createElementBlock("tr",gr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(B),E=>(e.openBlock(),e.createElementBlock("td",{key:E.field},[E.filter?(e.openBlock(),e.createBlock($e,{key:0,column:E,modelValue:e.unref(k).where[E.field],"onUpdate:modelValue":$=>e.unref(k).where[E.field]=$},null,8,["column","modelValue","onUpdate:modelValue"])):e.createCommentVNode("",!0)]))),128))])):e.createCommentVNode("",!0),e.unref(V)?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:2},e.renderList(e.unref(p).records,(E,$)=>(e.openBlock(),e.createElementBlock("tr",null,[e.renderSlot(m.$slots,"default",{entry:E,index:$,visibleCols:e.unref(B)},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(B),R=>(e.openBlock(),e.createElementBlock("td",{key:R.field},[e.createVNode(j,{column:R,data:E,class:e.normalizeClass(R.columnClasses)},{default:e.withCtx(()=>[e.renderSlot(m.$slots,"column-"+R.field,{entry:E,index:$})]),_:2},1032,["column","data","class"])]))),128))])]))),256)):(e.openBlock(),e.createElementBlock("tr",yr,[e.createElementVNode("td",{colspan:e.unref(B).length},[e.unref(D)?(e.openBlock(),e.createElementBlock("span",Br,e.toDisplayString(t.strEmptyFilteredData),1)):(e.openBlock(),e.createElementBlock("span",Er,e.toDisplayString(t.strEmptyData),1))],8,kr)]))])])])])]),e.unref(k).isLoading?(e.openBlock(),e.createElementBlock("div",Vr,Nr)):e.createCommentVNode("",!0)]),e.createElementVNode("div",Cr,[e.renderSlot(m.$slots,"footer",{},()=>[e.renderSlot(m.$slots,"footer-start"),e.renderSlot(m.$slots,"pagesize",{},()=>[t.pagable?(e.openBlock(),e.createBlock(K,{key:0,modelValue:e.unref(k).limit,"onUpdate:modelValue":c[4]||(c[4]=E=>e.unref(k).limit=E),sizes:e.unref(k).pageSizes},null,8,["modelValue","sizes"])):e.createCommentVNode("",!0)]),t.cursorPagination?e.createCommentVNode("",!0):e.renderSlot(m.$slots,"grid-status",{key:0},()=>[t.statusable?(e.openBlock(),e.createBlock(X,{key:0,limit:e.unref(k).limit,"current-page":e.unref(k).currentPage,showed:e.unref(p).records.length,total:e.unref(p).total},null,8,["limit","current-page","showed","total"])):e.createCommentVNode("",!0)]),t.pagination?e.renderSlot(m.$slots,"pagination",{key:1},()=>[t.cursorPagination?(e.openBlock(),e.createBlock(_,{key:0,modelValue:e.unref(k).currentPage,"onUpdate:modelValue":c[5]||(c[5]=E=>e.unref(k).currentPage=E),meta:e.unref(p).meta},null,8,["modelValue","meta"])):(e.openBlock(),e.createBlock(M,{key:1,modelValue:e.unref(k).currentPage,"onUpdate:modelValue":c[6]||(c[6]=E=>e.unref(k).currentPage=E),limit:e.unref(k).limit,total:e.unref(p).total},null,8,["modelValue","limit","total"]))]):e.createCommentVNode("",!0),e.renderSlot(m.$slots,"footer-end")]),e.unref(l).debug?(e.openBlock(),e.createElementBlock("div",br,[e.createElementVNode("div",Sr,[e.createElementVNode("pre",null,e.toDisplayString(e.unref(k).query),1)]),e.createElementVNode("div",$r,[e.unref(k).isLoading?(e.openBlock(),e.createElementBlock("span",Tr,"Loading..")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0)])],2))}}),Dr={class:"vgrid-header"},Fr={class:"vgrid-body"},Or={key:0,class:"vgrid-nodata"},Ir={key:0},wr={key:1},xr={class:"vgrid-row"},Pr={class:"vgrid-entry-wrapper"},Ar={key:2,class:"vgrid-loader"},Lr=[e.createElementVNode("span",{class:"vgrid-sr-only"},"Loading..",-1)],Rr={class:"vgrid-footer"},Ur={key:0,class:"vgrid-devbar"},Mr={class:"vgrid-col-9"},zr={class:"vgrid-col-3 vgrid-align-right"},_r={key:0},Xe=e.defineComponent({name:"BasicCards",props:{data:{default:()=>[]},columns:{default:()=>[]},perPage:null,filterable:{type:Boolean,default:!0},columnFilterable:{type:Boolean,default:!1},columnVisible:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},searchPlaceholder:null,orderable:{type:Boolean,default:!1},sortBy:null,sortType:{default:"desc"},statusable:{type:Boolean,default:!0},pagable:{type:Boolean,default:!0},pagination:{type:Boolean,default:!0},strEmptyFilteredData:{default:"No data matched"},strEmptyData:{default:"Empty data"},exportable:{type:Boolean,default:!1},exportFileName:null,colMd:{default:6},colLg:{default:4},colXl:{default:3},routeState:{type:Boolean,default:!1},cursorPagination:{type:Boolean}},emits:["data-changed"],setup(t,{expose:r,emit:n}){const o=t,{gridOption:l,dataProvider:a,setDataCollections:i}=Ce(o,{displayType:"cards",dataType:"json"},()=>{I()}),{hasColumnFilter:u,hasColumnOrder:f,cardColumnClasses:d,dataState:p,hasRecord:V,columnVisibility:N,isEmptyData:y,visibleCols:B,gridClasses:b,setColumnVisibility:s,gridState:k,isFiltered:D,getData:I,setOrder:w,setFilter:P,resetGrid:h}=z(o,n,a,l);return s(),I(),r({dataState:p,gridState:k,getData:I,setFilter:P,resetGrid:h}),(m,c)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid",e.unref(b)])},[e.createElementVNode("div",Dr,[e.renderSlot(m.$slots,"header",{},()=>[e.renderSlot(m.$slots,"header-start"),e.renderSlot(m.$slots,"header-search",{},()=>[t.searchable?(e.openBlock(),e.createBlock(Y,{key:0,modelValue:e.unref(k).searchKeyword,"onUpdate:modelValue":c[0]||(c[0]=E=>e.unref(k).searchKeyword=E),placeholder:t.searchPlaceholder},null,8,["modelValue","placeholder"])):e.createCommentVNode("",!0)]),e.renderSlot(m.$slots,"header-filter",{},()=>[t.filterable&&e.unref(u)?(e.openBlock(),e.createBlock(q,{key:0,modelValue:e.unref(k).where,"onUpdate:modelValue":c[1]||(c[1]=E=>e.unref(k).where=E),columns:t.columns},null,8,["modelValue","columns"])):e.createCommentVNode("",!0)]),e.renderSlot(m.$slots,"header-order",{},()=>[t.orderable&&e.unref(f)?(e.openBlock(),e.createBlock(G,{key:0,class:"vgrid-ml-auto",modelValue:e.unref(k).order,"onUpdate:modelValue":c[2]||(c[2]=E=>e.unref(k).order=E),"has-sort-type":e.unref(k).hasSortType,columns:t.columns},null,8,["modelValue","has-sort-type","columns"])):e.createCommentVNode("",!0)]),e.renderSlot(m.$slots,"header-column-visibility",{},()=>[t.columnVisible?(e.openBlock(),e.createBlock(Q,{key:0,class:"vgrid-ml-auto",columns:t.columns,modelValue:e.unref(N),"onUpdate:modelValue":c[3]||(c[3]=E=>e.isRef(N)?N.value=E:null)},null,8,["columns","modelValue"])):e.createCommentVNode("",!0)]),e.renderSlot(m.$slots,"header-export",{},()=>[t.exportable?(e.openBlock(),e.createBlock(J,{key:0,class:"vgrid-ml-auto",columns:e.unref(B),data:e.unref(p).records,"file-name":t.exportFileName?t.exportFileName:""},null,8,["columns","data","file-name"])):e.createCommentVNode("",!0)]),e.renderSlot(m.$slots,"header-end")])]),e.createElementVNode("div",Fr,[e.unref(V)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Or,[e.unref(D)?(e.openBlock(),e.createElementBlock("span",wr,e.toDisplayString(t.strEmptyFilteredData),1)):(e.openBlock(),e.createElementBlock("span",Ir,e.toDisplayString(t.strEmptyData),1))])),e.unref(y)?e.createCommentVNode("",!0):e.renderSlot(m.$slots,"body",{key:1,entries:e.unref(p).records,visibleCols:e.unref(B)},()=>[e.createElementVNode("div",xr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(p).records,(E,$)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-col",e.unref(d)])},[e.renderSlot(m.$slots,"default",{entry:E,index:$,visibleCols:e.unref(B)},()=>[e.createElementVNode("div",Pr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(B),R=>(e.openBlock(),e.createBlock(j,{column:R,data:E,key:R.id,resize:!0,class:e.normalizeClass(R.columnClasses)},{default:e.withCtx(()=>[e.renderSlot(m.$slots,"column-"+R.field,{entry:E,index:$})]),_:2},1032,["column","data","class"]))),128))])])],2))),256))])]),e.unref(k).isLoading?(e.openBlock(),e.createElementBlock("div",Ar,Lr)):e.createCommentVNode("",!0)]),e.createElementVNode("div",Rr,[e.renderSlot(m.$slots,"footer",{},()=>[e.renderSlot(m.$slots,"footer-start"),e.renderSlot(m.$slots,"pagesize",{},()=>[t.pagable?(e.openBlock(),e.createBlock(K,{key:0,modelValue:e.unref(k).limit,"onUpdate:modelValue":c[4]||(c[4]=E=>e.unref(k).limit=E),sizes:e.unref(k).pageSizes},null,8,["modelValue","sizes"])):e.createCommentVNode("",!0)]),t.cursorPagination?e.createCommentVNode("",!0):e.renderSlot(m.$slots,"grid-status",{key:0},()=>[t.statusable?(e.openBlock(),e.createBlock(X,{key:0,limit:e.unref(k).limit,"current-page":e.unref(k).currentPage,showed:e.unref(p).records.length,total:e.unref(p).total},null,8,["limit","current-page","showed","total"])):e.createCommentVNode("",!0)]),t.pagination?e.renderSlot(m.$slots,"pagination",{key:1},()=>[t.cursorPagination?(e.openBlock(),e.createBlock(_,{key:0,modelValue:e.unref(k).currentPage,"onUpdate:modelValue":c[5]||(c[5]=E=>e.unref(k).currentPage=E),meta:e.unref(p).meta},null,8,["modelValue","meta"])):(e.openBlock(),e.createBlock(M,{key:1,modelValue:e.unref(k).currentPage,"onUpdate:modelValue":c[6]||(c[6]=E=>e.unref(k).currentPage=E),limit:e.unref(k).limit,total:e.unref(p).total},null,8,["modelValue","limit","total"]))]):e.createCommentVNode("",!0),e.renderSlot(m.$slots,"footer-end")]),e.unref(l).debug?(e.openBlock(),e.createElementBlock("div",Ur,[e.createElementVNode("div",Mr,[e.createElementVNode("pre",null,e.toDisplayString(e.unref(k).query),1)]),e.createElementVNode("div",zr,[e.unref(k).isLoading?(e.openBlock(),e.createElementBlock("span",_r,"Loading..")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0)])],2))}}),jr={class:"vgrid-header"},qr={class:"vgrid-body"},Gr={key:0,class:"vgrid-nodata"},Kr={key:0},Qr={key:1},Yr={class:"vgrid-entry-wrapper"},Xr={key:2,class:"vgrid-loader"},Jr=[e.createElementVNode("span",{class:"vgrid-sr-only"},"Loading..",-1)],Hr={class:"vgrid-footer"},Wr={key:0,class:"vgrid-devbar"},Zr={class:"vgrid-col-9"},vr={class:"vgrid-col-3 vgrid-align-right"},eo={key:0},Je=e.defineComponent({name:"BasicList",props:{data:{default:()=>[]},columns:{default:()=>[]},perPage:null,filterable:{type:Boolean,default:!0},columnFilterable:{type:Boolean,default:!1},columnVisible:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},searchPlaceholder:null,orderable:{type:Boolean,default:!1},sortBy:null,sortType:{default:"desc"},statusable:{type:Boolean,default:!0},pagable:{type:Boolean,default:!0},pagination:{type:Boolean,default:!0},strEmptyFilteredData:{default:"No data matched"},strEmptyData:{default:"Empty data"},exportable:{type:Boolean,default:!1},exportFileName:null,colMd:{default:6},colLg:{default:4},colXl:{default:3},routeState:{type:Boolean,default:!1},cursorPagination:{type:Boolean}},emits:["data-changed"],setup(t,{expose:r,emit:n}){const o=t,{gridOption:l,dataProvider:a,setDataCollections:i}=Ce(o,{displayType:"list",dataType:"json"},()=>{I()}),{hasColumnFilter:u,hasColumnOrder:f,cardColumnClasses:d,dataState:p,hasRecord:V,columnVisibility:N,isEmptyData:y,visibleCols:B,gridClasses:b,setColumnVisibility:s,gridState:k,isFiltered:D,getData:I,setOrder:w,setFilter:P,resetGrid:h}=z(o,n,a,l);return s(),I(),r({dataState:p,gridState:k,getData:I,setFilter:P,resetGrid:h}),(m,c)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid",e.unref(b)])},[e.createElementVNode("div",jr,[e.renderSlot(m.$slots,"header",{},()=>[e.renderSlot(m.$slots,"header-start"),e.renderSlot(m.$slots,"header-search",{},()=>[t.searchable?(e.openBlock(),e.createBlock(Y,{key:0,modelValue:e.unref(k).searchKeyword,"onUpdate:modelValue":c[0]||(c[0]=E=>e.unref(k).searchKeyword=E),placeholder:t.searchPlaceholder},null,8,["modelValue","placeholder"])):e.createCommentVNode("",!0)]),e.renderSlot(m.$slots,"header-filter",{},()=>[t.filterable&&e.unref(u)?(e.openBlock(),e.createBlock(q,{key:0,modelValue:e.unref(k).where,"onUpdate:modelValue":c[1]||(c[1]=E=>e.unref(k).where=E),columns:t.columns},null,8,["modelValue","columns"])):e.createCommentVNode("",!0)]),e.renderSlot(m.$slots,"header-order",{},()=>[t.orderable&&e.unref(f)?(e.openBlock(),e.createBlock(G,{key:0,class:"vgrid-ml-auto",modelValue:e.unref(k).order,"onUpdate:modelValue":c[2]||(c[2]=E=>e.unref(k).order=E),"has-sort-type":e.unref(k).hasSortType,columns:t.columns},null,8,["modelValue","has-sort-type","columns"])):e.createCommentVNode("",!0)]),e.renderSlot(m.$slots,"header-column-visibility",{},()=>[t.columnVisible?(e.openBlock(),e.createBlock(Q,{key:0,class:"vgrid-ml-auto",columns:t.columns,modelValue:e.unref(N),"onUpdate:modelValue":c[3]||(c[3]=E=>e.isRef(N)?N.value=E:null)},null,8,["columns","modelValue"])):e.createCommentVNode("",!0)]),e.renderSlot(m.$slots,"header-export",{},()=>[t.exportable?(e.openBlock(),e.createBlock(J,{key:0,class:"vgrid-ml-auto",columns:e.unref(B),data:e.unref(p).records,"file-name":t.exportFileName?t.exportFileName:""},null,8,["columns","data","file-name"])):e.createCommentVNode("",!0)]),e.renderSlot(m.$slots,"header-end")])]),e.createElementVNode("div",qr,[e.unref(V)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Gr,[e.unref(D)?(e.openBlock(),e.createElementBlock("span",Qr,e.toDisplayString(t.strEmptyFilteredData),1)):(e.openBlock(),e.createElementBlock("span",Kr,e.toDisplayString(t.strEmptyData),1))])),e.unref(y)?e.createCommentVNode("",!0):e.renderSlot(m.$slots,"body",{key:1,entries:e.unref(p).records,visibleCols:e.unref(B)},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(p).records,(E,$)=>(e.openBlock(),e.createElementBlock("div",Yr,[e.renderSlot(m.$slots,"default",{entry:E,index:$,visibleCols:e.unref(B)},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(B),R=>(e.openBlock(),e.createBlock(j,{column:R,data:E,key:R.id,resize:!0,class:e.normalizeClass(R.columnClasses)},{default:e.withCtx(()=>[e.renderSlot(m.$slots,"column-"+R.field,{entry:E,index:$})]),_:2},1032,["column","data","class"]))),128))])]))),256))]),e.unref(k).isLoading?(e.openBlock(),e.createElementBlock("div",Xr,Jr)):e.createCommentVNode("",!0)]),e.createElementVNode("div",Hr,[e.renderSlot(m.$slots,"footer",{},()=>[e.renderSlot(m.$slots,"footer-start"),e.renderSlot(m.$slots,"pagesize",{},()=>[t.pagable?(e.openBlock(),e.createBlock(K,{key:0,modelValue:e.unref(k).limit,"onUpdate:modelValue":c[4]||(c[4]=E=>e.unref(k).limit=E),sizes:e.unref(k).pageSizes},null,8,["modelValue","sizes"])):e.createCommentVNode("",!0)]),t.cursorPagination?e.createCommentVNode("",!0):e.renderSlot(m.$slots,"grid-status",{key:0},()=>[t.statusable?(e.openBlock(),e.createBlock(X,{key:0,limit:e.unref(k).limit,"current-page":e.unref(k).currentPage,showed:e.unref(p).records.length,total:e.unref(p).total},null,8,["limit","current-page","showed","total"])):e.createCommentVNode("",!0)]),t.pagination?e.renderSlot(m.$slots,"pagination",{key:1},()=>[t.cursorPagination?(e.openBlock(),e.createBlock(_,{key:0,modelValue:e.unref(k).currentPage,"onUpdate:modelValue":c[5]||(c[5]=E=>e.unref(k).currentPage=E),meta:e.unref(p).meta},null,8,["modelValue","meta"])):(e.openBlock(),e.createBlock(M,{key:1,modelValue:e.unref(k).currentPage,"onUpdate:modelValue":c[6]||(c[6]=E=>e.unref(k).currentPage=E),limit:e.unref(k).limit,total:e.unref(p).total},null,8,["modelValue","limit","total"]))]):e.createCommentVNode("",!0),e.renderSlot(m.$slots,"footer-end")]),e.unref(l).debug?(e.openBlock(),e.createElementBlock("div",Wr,[e.createElementVNode("div",Zr,[e.createElementVNode("pre",null,e.toDisplayString(e.unref(k).query),1)]),e.createElementVNode("div",vr,[e.unref(k).isLoading?(e.openBlock(),e.createElementBlock("span",eo,"Loading..")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0)])],2))}});function Te(t,r){const n=e.inject("$vgrid",{cursorKey:"cursor",pageKey:"page",hasSortType:!0,sortKey:"sort",sortTypeKey:"sort_type",perPageKey:"limit",fetchData:null,cancelToken:null,getPageIndex:null,extractData:null}),o=Ne(t),l=e.computed(()=>({resource:t.resource,searchField:t.searchField,pageKey:t.cursorPagination?n.cursorKey:n.pageKey,cursorPagination:t.cursorPagination,perPageKey:n.perPageKey,sortKey:n.sortKey,sortTypeKey:n.sortTypeKey,getPageIndex:n.getPageIndex,extractData:n.extractData,fetchData:n.fetchData,cancelToken:n.cancelToken})),a=e.computed(()=>F(F(F({},o.value),l.value),r));return{dataProvider:new at(t.resource,a.value),gridOption:a}}const to={class:"vgrid-header"},no={class:"vgrid-body"},ro={key:0,class:"vgrid-nodata"},oo={key:0},lo={key:1},ao={class:"vgrid-responsive"},so={class:"vgrid-table"},io=["onClick"],co={class:"vgrid-field-header-content"},mo={key:0,class:"vgrid-table-filter"},fo={key:1},uo=["colspan"],po={key:0},ho={key:1},go={key:2,class:"vgrid-loader"},yo=[e.createElementVNode("span",{class:"vgrid-sr-only"},"Loading..",-1)],ko={class:"vgrid-footer"},Eo={key:0,class:"vgrid-devbar"},Bo={class:"vgrid-col-9"},Vo={class:"vgrid-col-3 vgrid-align-right"},No={key:0},He=e.defineComponent({name:"AjaxGrid",props:{resource:{default:""},searchField:{default:""},columns:{default:()=>[]},perPage:null,filterable:{type:Boolean,default:!0},columnFilterable:{type:Boolean,default:!1},columnVisible:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},searchPlaceholder:null,orderable:{type:Boolean,default:!1},sortBy:null,sortType:{default:"desc"},statusable:{type:Boolean,default:!0},pagable:{type:Boolean,default:!0},pagination:{type:Boolean,default:!0},strEmptyFilteredData:{default:"No data matched"},strEmptyData:{default:"Empty data"},exportable:{type:Boolean,default:!1},exportFileName:null,colMd:{default:6},colLg:{default:4},colXl:{default:3},routeState:{type:Boolean,default:!1},cursorPagination:{type:Boolean}},emits:["data-changed"],setup(t,{expose:r,emit:n}){const o=t,{gridOption:l,dataProvider:a}=Te(o,{displayType:"grid",dataType:"ajax"}),{hasColumnFilter:i,hasColumnOrder:u,cardColumnClasses:f,dataState:d,hasRecord:p,columnVisibility:V,isEmptyData:N,visibleCols:y,gridClasses:B,setColumnVisibility:b,gridState:s,isFiltered:k,getData:D,setOrder:I,setFilter:w,resetGrid:P}=z(o,n,a,l);return b(),D(),r({dataState:d,gridState:s,getData:D,setFilter:w,resetGrid:P}),(h,m)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid",e.unref(B)])},[e.createElementVNode("div",to,[e.renderSlot(h.$slots,"header",{},()=>[e.renderSlot(h.$slots,"header-start"),e.renderSlot(h.$slots,"header-search",{},()=>[t.searchable?(e.openBlock(),e.createBlock(Y,{key:0,modelValue:e.unref(s).searchKeyword,"onUpdate:modelValue":m[0]||(m[0]=c=>e.unref(s).searchKeyword=c),placeholder:t.searchPlaceholder},null,8,["modelValue","placeholder"])):e.createCommentVNode("",!0)]),e.renderSlot(h.$slots,"header-filter",{},()=>[t.filterable&&e.unref(i)?(e.openBlock(),e.createBlock(q,{key:0,modelValue:e.unref(s).where,"onUpdate:modelValue":m[1]||(m[1]=c=>e.unref(s).where=c),columns:t.columns},null,8,["modelValue","columns"])):e.createCommentVNode("",!0)]),e.renderSlot(h.$slots,"header-order",{},()=>[t.orderable&&e.unref(u)?(e.openBlock(),e.createBlock(G,{key:0,class:"vgrid-ml-auto",modelValue:e.unref(s).order,"onUpdate:modelValue":m[2]||(m[2]=c=>e.unref(s).order=c),"has-sort-type":e.unref(s).hasSortType,columns:t.columns},null,8,["modelValue","has-sort-type","columns"])):e.createCommentVNode("",!0)]),e.renderSlot(h.$slots,"header-column-visibility",{},()=>[t.columnVisible?(e.openBlock(),e.createBlock(Q,{key:0,class:"vgrid-ml-auto",columns:t.columns,modelValue:e.unref(V),"onUpdate:modelValue":m[3]||(m[3]=c=>e.isRef(V)?V.value=c:null)},null,8,["columns","modelValue"])):e.createCommentVNode("",!0)]),e.renderSlot(h.$slots,"header-export",{},()=>[t.exportable?(e.openBlock(),e.createBlock(J,{key:0,class:"vgrid-ml-auto",columns:e.unref(y),data:e.unref(d).records,"file-name":t.exportFileName?t.exportFileName:""},null,8,["columns","data","file-name"])):e.createCommentVNode("",!0)]),e.renderSlot(h.$slots,"header-end")])]),e.createElementVNode("div",no,[e.unref(p)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",ro,[e.unref(k)?(e.openBlock(),e.createElementBlock("span",lo,e.toDisplayString(t.strEmptyFilteredData),1)):(e.openBlock(),e.createElementBlock("span",oo,e.toDisplayString(t.strEmptyData),1))])),e.unref(N)?e.createCommentVNode("",!0):e.renderSlot(h.$slots,"body",{key:1,entries:e.unref(d).records,visibleCols:e.unref(y)},()=>[e.createElementVNode("div",ao,[e.createElementVNode("table",so,[e.renderSlot(h.$slots,"table-head",{cols:e.unref(y)},()=>[e.createElementVNode("thead",null,[e.createElementVNode("tr",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(y),c=>(e.openBlock(),e.createElementBlock("th",{class:e.normalizeClass(["vgrid-field-header",c.headerClasses]),onClick:E=>e.unref(I)(c.field),key:c.id},[e.createElementVNode("div",co,[e.renderSlot(h.$slots,"column-header-"+c.field,{col:c},()=>[e.createElementVNode("span",null,e.toDisplayString(c.showedLabel),1),e.createElementVNode("b",{class:e.normalizeClass(c.orderClasses)},null,2)])])],10,io))),128))])])]),e.renderSlot(h.$slots,"table-body",{entries:e.unref(d).records},()=>[e.createElementVNode("tbody",null,[t.columnFilterable&&e.unref(i)?(e.openBlock(),e.createElementBlock("tr",mo,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(y),c=>(e.openBlock(),e.createElementBlock("td",{key:c.field},[c.filter?(e.openBlock(),e.createBlock($e,{key:0,column:c,modelValue:e.unref(s).where[c.field],"onUpdate:modelValue":E=>e.unref(s).where[c.field]=E},null,8,["column","modelValue","onUpdate:modelValue"])):e.createCommentVNode("",!0)]))),128))])):e.createCommentVNode("",!0),e.unref(p)?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:2},e.renderList(e.unref(d).records,(c,E)=>(e.openBlock(),e.createElementBlock("tr",null,[e.renderSlot(h.$slots,"default",{entry:c,index:E,visibleCols:e.unref(y)},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(y),$=>(e.openBlock(),e.createElementBlock("td",{key:$.field},[e.createVNode(j,{column:$,data:c,class:e.normalizeClass($.columnClasses)},{default:e.withCtx(()=>[e.renderSlot(h.$slots,"column-"+$.field,{entry:c,index:E})]),_:2},1032,["column","data","class"])]))),128))])]))),256)):(e.openBlock(),e.createElementBlock("tr",fo,[e.createElementVNode("td",{colspan:e.unref(y).length},[e.unref(k)?(e.openBlock(),e.createElementBlock("span",ho,e.toDisplayString(t.strEmptyFilteredData),1)):(e.openBlock(),e.createElementBlock("span",po,e.toDisplayString(t.strEmptyData),1))],8,uo)]))])])])])]),e.unref(s).isLoading?(e.openBlock(),e.createElementBlock("div",go,yo)):e.createCommentVNode("",!0)]),e.createElementVNode("div",ko,[e.renderSlot(h.$slots,"footer",{},()=>[e.renderSlot(h.$slots,"footer-start"),e.renderSlot(h.$slots,"pagesize",{},()=>[t.pagable?(e.openBlock(),e.createBlock(K,{key:0,modelValue:e.unref(s).limit,"onUpdate:modelValue":m[4]||(m[4]=c=>e.unref(s).limit=c),sizes:e.unref(s).pageSizes},null,8,["modelValue","sizes"])):e.createCommentVNode("",!0)]),t.cursorPagination?e.createCommentVNode("",!0):e.renderSlot(h.$slots,"grid-status",{key:0},()=>[t.statusable?(e.openBlock(),e.createBlock(X,{key:0,limit:e.unref(s).limit,"current-page":e.unref(s).currentPage,showed:e.unref(d).records.length,total:e.unref(d).total},null,8,["limit","current-page","showed","total"])):e.createCommentVNode("",!0)]),t.pagination?e.renderSlot(h.$slots,"pagination",{key:1},()=>[t.cursorPagination?(e.openBlock(),e.createBlock(_,{key:0,modelValue:e.unref(s).currentPage,"onUpdate:modelValue":m[5]||(m[5]=c=>e.unref(s).currentPage=c),meta:e.unref(d).meta},null,8,["modelValue","meta"])):(e.openBlock(),e.createBlock(M,{key:1,modelValue:e.unref(s).currentPage,"onUpdate:modelValue":m[6]||(m[6]=c=>e.unref(s).currentPage=c),limit:e.unref(s).limit,total:e.unref(d).total},null,8,["modelValue","limit","total"]))]):e.createCommentVNode("",!0),e.renderSlot(h.$slots,"footer-end")]),e.unref(l).debug?(e.openBlock(),e.createElementBlock("div",Eo,[e.createElementVNode("div",Bo,[e.createElementVNode("pre",null,e.toDisplayString(e.unref(s).query),1)]),e.createElementVNode("div",Vo,[e.unref(s).isLoading?(e.openBlock(),e.createElementBlock("span",No,"Loading..")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0)])],2))}}),Co={class:"vgrid-header"},bo={class:"vgrid-body"},So={key:0,class:"vgrid-nodata"},$o={key:0},To={key:1},Do={class:"vgrid-entry-wrapper"},Fo={key:2,class:"vgrid-loader"},Oo=[e.createElementVNode("span",{class:"vgrid-sr-only"},"Loading..",-1)],Io={class:"vgrid-footer"},wo={key:0,class:"vgrid-devbar"},xo={class:"vgrid-col-9"},Po={class:"vgrid-col-3 vgrid-align-right"},Ao={key:0},We=e.defineComponent({name:"AjaxList",props:{resource:{default:""},searchField:{default:""},columns:{default:()=>[]},perPage:null,filterable:{type:Boolean,default:!0},columnFilterable:{type:Boolean,default:!1},columnVisible:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},searchPlaceholder:null,orderable:{type:Boolean,default:!1},sortBy:null,sortType:{default:"desc"},statusable:{type:Boolean,default:!0},pagable:{type:Boolean,default:!0},pagination:{type:Boolean,default:!0},strEmptyFilteredData:{default:"No data matched"},strEmptyData:{default:"Empty data"},exportable:{type:Boolean,default:!1},exportFileName:null,colMd:{default:6},colLg:{default:4},colXl:{default:3},routeState:{type:Boolean,default:!1},cursorPagination:{type:Boolean}},emits:["data-changed"],setup(t,{expose:r,emit:n}){const o=t,{gridOption:l,dataProvider:a}=Te(o,{displayType:"list",dataType:"ajax"}),{hasColumnFilter:i,hasColumnOrder:u,cardColumnClasses:f,dataState:d,hasRecord:p,columnVisibility:V,isEmptyData:N,visibleCols:y,gridClasses:B,setColumnVisibility:b,gridState:s,isFiltered:k,getData:D,setOrder:I,setFilter:w,resetGrid:P}=z(o,n,a,l);return b(),D(),r({dataState:d,gridState:s,getData:D,setFilter:w,resetGrid:P}),(h,m)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid",e.unref(B)])},[e.createElementVNode("div",Co,[e.renderSlot(h.$slots,"header",{},()=>[e.renderSlot(h.$slots,"header-start"),e.renderSlot(h.$slots,"header-search",{},()=>[t.searchable?(e.openBlock(),e.createBlock(Y,{key:0,modelValue:e.unref(s).searchKeyword,"onUpdate:modelValue":m[0]||(m[0]=c=>e.unref(s).searchKeyword=c),placeholder:t.searchPlaceholder},null,8,["modelValue","placeholder"])):e.createCommentVNode("",!0)]),e.renderSlot(h.$slots,"header-filter",{},()=>[t.filterable&&e.unref(i)?(e.openBlock(),e.createBlock(q,{key:0,modelValue:e.unref(s).where,"onUpdate:modelValue":m[1]||(m[1]=c=>e.unref(s).where=c),columns:t.columns},null,8,["modelValue","columns"])):e.createCommentVNode("",!0)]),e.renderSlot(h.$slots,"header-order",{},()=>[t.orderable&&e.unref(u)?(e.openBlock(),e.createBlock(G,{key:0,class:"vgrid-ml-auto",modelValue:e.unref(s).order,"onUpdate:modelValue":m[2]||(m[2]=c=>e.unref(s).order=c),"has-sort-type":e.unref(s).hasSortType,columns:t.columns},null,8,["modelValue","has-sort-type","columns"])):e.createCommentVNode("",!0)]),e.renderSlot(h.$slots,"header-column-visibility",{},()=>[t.columnVisible?(e.openBlock(),e.createBlock(Q,{key:0,class:"vgrid-ml-auto",columns:t.columns,modelValue:e.unref(V),"onUpdate:modelValue":m[3]||(m[3]=c=>e.isRef(V)?V.value=c:null)},null,8,["columns","modelValue"])):e.createCommentVNode("",!0)]),e.renderSlot(h.$slots,"header-export",{},()=>[t.exportable?(e.openBlock(),e.createBlock(J,{key:0,class:"vgrid-ml-auto",columns:e.unref(y),data:e.unref(d).records,"file-name":t.exportFileName?t.exportFileName:""},null,8,["columns","data","file-name"])):e.createCommentVNode("",!0)]),e.renderSlot(h.$slots,"header-end")])]),e.createElementVNode("div",bo,[e.unref(p)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",So,[e.unref(k)?(e.openBlock(),e.createElementBlock("span",To,e.toDisplayString(t.strEmptyFilteredData),1)):(e.openBlock(),e.createElementBlock("span",$o,e.toDisplayString(t.strEmptyData),1))])),e.unref(N)?e.createCommentVNode("",!0):e.renderSlot(h.$slots,"body",{key:1,entries:e.unref(d).records,visibleCols:e.unref(y)},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(d).records,(c,E)=>(e.openBlock(),e.createElementBlock("div",Do,[e.renderSlot(h.$slots,"default",{entry:c,index:E,visibleCols:e.unref(y)},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(y),$=>(e.openBlock(),e.createBlock(j,{column:$,data:c,key:$.id,resize:!0,class:e.normalizeClass($.columnClasses)},{default:e.withCtx(()=>[e.renderSlot(h.$slots,"column-"+$.field,{entry:c,index:E})]),_:2},1032,["column","data","class"]))),128))])]))),256))]),e.unref(s).isLoading?(e.openBlock(),e.createElementBlock("div",Fo,Oo)):e.createCommentVNode("",!0)]),e.createElementVNode("div",Io,[e.renderSlot(h.$slots,"footer",{},()=>[e.renderSlot(h.$slots,"footer-start"),e.renderSlot(h.$slots,"pagesize",{},()=>[t.pagable?(e.openBlock(),e.createBlock(K,{key:0,modelValue:e.unref(s).limit,"onUpdate:modelValue":m[4]||(m[4]=c=>e.unref(s).limit=c),sizes:e.unref(s).pageSizes},null,8,["modelValue","sizes"])):e.createCommentVNode("",!0)]),t.cursorPagination?e.createCommentVNode("",!0):e.renderSlot(h.$slots,"grid-status",{key:0},()=>[t.statusable?(e.openBlock(),e.createBlock(X,{key:0,limit:e.unref(s).limit,"current-page":e.unref(s).currentPage,showed:e.unref(d).records.length,total:e.unref(d).total},null,8,["limit","current-page","showed","total"])):e.createCommentVNode("",!0)]),t.pagination?e.renderSlot(h.$slots,"pagination",{key:1},()=>[t.cursorPagination?(e.openBlock(),e.createBlock(_,{key:0,modelValue:e.unref(s).currentPage,"onUpdate:modelValue":m[5]||(m[5]=c=>e.unref(s).currentPage=c),meta:e.unref(d).meta},null,8,["modelValue","meta"])):(e.openBlock(),e.createBlock(M,{key:1,modelValue:e.unref(s).currentPage,"onUpdate:modelValue":m[6]||(m[6]=c=>e.unref(s).currentPage=c),limit:e.unref(s).limit,total:e.unref(d).total},null,8,["modelValue","limit","total"]))]):e.createCommentVNode("",!0),e.renderSlot(h.$slots,"footer-end")]),e.unref(l).debug?(e.openBlock(),e.createElementBlock("div",wo,[e.createElementVNode("div",xo,[e.createElementVNode("pre",null,e.toDisplayString(e.unref(s).query),1)]),e.createElementVNode("div",Po,[e.unref(s).isLoading?(e.openBlock(),e.createElementBlock("span",Ao,"Loading..")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0)])],2))}}),Lo={class:"vgrid-header"},Ro={class:"vgrid-body"},Uo={key:0,class:"vgrid-nodata"},Mo={key:0},zo={key:1},_o={class:"vgrid-row"},jo={class:"vgrid-entry-wrapper"},qo={key:2,class:"vgrid-loader"},Go=[e.createElementVNode("span",{class:"vgrid-sr-only"},"Loading..",-1)],Ko={class:"vgrid-footer"},Qo={key:0,class:"vgrid-devbar"},Yo={class:"vgrid-col-9"},Xo={class:"vgrid-col-3 vgrid-align-right"},Jo={key:0},Ze=e.defineComponent({name:"AjaxCards",props:{resource:{default:""},searchField:{default:""},columns:{default:()=>[]},perPage:null,filterable:{type:Boolean,default:!0},columnFilterable:{type:Boolean,default:!1},columnVisible:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},searchPlaceholder:null,orderable:{type:Boolean,default:!1},sortBy:null,sortType:{default:"desc"},statusable:{type:Boolean,default:!0},pagable:{type:Boolean,default:!0},pagination:{type:Boolean,default:!0},strEmptyFilteredData:{default:"No data matched"},strEmptyData:{default:"Empty data"},exportable:{type:Boolean,default:!1},exportFileName:null,colMd:{default:6},colLg:{default:4},colXl:{default:3},routeState:{type:Boolean,default:!1},cursorPagination:{type:Boolean}},emits:["data-changed"],setup(t,{expose:r,emit:n}){const o=t,{gridOption:l,dataProvider:a}=Te(o,{displayType:"cards",dataType:"ajax"}),{hasColumnFilter:i,hasColumnOrder:u,cardColumnClasses:f,dataState:d,hasRecord:p,columnVisibility:V,isEmptyData:N,visibleCols:y,gridClasses:B,setColumnVisibility:b,gridState:s,isFiltered:k,getData:D,setOrder:I,setFilter:w,resetGrid:P}=z(o,n,a,l);return b(),D(),r({dataState:d,gridState:s,getData:D,setFilter:w,resetGrid:P}),(h,m)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid",e.unref(B)])},[e.createElementVNode("div",Lo,[e.renderSlot(h.$slots,"header",{},()=>[e.renderSlot(h.$slots,"header-start"),e.renderSlot(h.$slots,"header-search",{},()=>[t.searchable?(e.openBlock(),e.createBlock(Y,{key:0,modelValue:e.unref(s).searchKeyword,"onUpdate:modelValue":m[0]||(m[0]=c=>e.unref(s).searchKeyword=c),placeholder:t.searchPlaceholder},null,8,["modelValue","placeholder"])):e.createCommentVNode("",!0)]),e.renderSlot(h.$slots,"header-filter",{},()=>[t.filterable&&e.unref(i)?(e.openBlock(),e.createBlock(q,{key:0,modelValue:e.unref(s).where,"onUpdate:modelValue":m[1]||(m[1]=c=>e.unref(s).where=c),columns:t.columns},null,8,["modelValue","columns"])):e.createCommentVNode("",!0)]),e.renderSlot(h.$slots,"header-order",{},()=>[t.orderable&&e.unref(u)?(e.openBlock(),e.createBlock(G,{key:0,class:"vgrid-ml-auto",modelValue:e.unref(s).order,"onUpdate:modelValue":m[2]||(m[2]=c=>e.unref(s).order=c),"has-sort-type":e.unref(s).hasSortType,columns:t.columns},null,8,["modelValue","has-sort-type","columns"])):e.createCommentVNode("",!0)]),e.renderSlot(h.$slots,"header-column-visibility",{},()=>[t.columnVisible?(e.openBlock(),e.createBlock(Q,{key:0,class:"vgrid-ml-auto",columns:t.columns,modelValue:e.unref(V),"onUpdate:modelValue":m[3]||(m[3]=c=>e.isRef(V)?V.value=c:null)},null,8,["columns","modelValue"])):e.createCommentVNode("",!0)]),e.renderSlot(h.$slots,"header-export",{},()=>[t.exportable?(e.openBlock(),e.createBlock(J,{key:0,class:"vgrid-ml-auto",columns:e.unref(y),data:e.unref(d).records,"file-name":t.exportFileName?t.exportFileName:""},null,8,["columns","data","file-name"])):e.createCommentVNode("",!0)]),e.renderSlot(h.$slots,"header-end")])]),e.createElementVNode("div",Ro,[e.unref(p)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Uo,[e.unref(k)?(e.openBlock(),e.createElementBlock("span",zo,e.toDisplayString(t.strEmptyFilteredData),1)):(e.openBlock(),e.createElementBlock("span",Mo,e.toDisplayString(t.strEmptyData),1))])),e.unref(N)?e.createCommentVNode("",!0):e.renderSlot(h.$slots,"body",{key:1,entries:e.unref(d).records,visibleCols:e.unref(y)},()=>[e.createElementVNode("div",_o,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(d).records,(c,E)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-col",e.unref(f)])},[e.renderSlot(h.$slots,"default",{entry:c,index:E,visibleCols:e.unref(y)},()=>[e.createElementVNode("div",jo,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(y),$=>(e.openBlock(),e.createBlock(j,{column:$,data:c,key:$.id,resize:!0,class:e.normalizeClass($.columnClasses)},{default:e.withCtx(()=>[e.renderSlot(h.$slots,"column-"+$.field,{entry:c,index:E})]),_:2},1032,["column","data","class"]))),128))])])],2))),256))])]),e.unref(s).isLoading?(e.openBlock(),e.createElementBlock("div",qo,Go)):e.createCommentVNode("",!0)]),e.createElementVNode("div",Ko,[e.renderSlot(h.$slots,"footer",{},()=>[e.renderSlot(h.$slots,"footer-start"),e.renderSlot(h.$slots,"pagesize",{},()=>[t.pagable?(e.openBlock(),e.createBlock(K,{key:0,modelValue:e.unref(s).limit,"onUpdate:modelValue":m[4]||(m[4]=c=>e.unref(s).limit=c),sizes:e.unref(s).pageSizes},null,8,["modelValue","sizes"])):e.createCommentVNode("",!0)]),t.cursorPagination?e.createCommentVNode("",!0):e.renderSlot(h.$slots,"grid-status",{key:0},()=>[t.statusable?(e.openBlock(),e.createBlock(X,{key:0,limit:e.unref(s).limit,"current-page":e.unref(s).currentPage,showed:e.unref(d).records.length,total:e.unref(d).total},null,8,["limit","current-page","showed","total"])):e.createCommentVNode("",!0)]),t.pagination?e.renderSlot(h.$slots,"pagination",{key:1},()=>[t.cursorPagination?(e.openBlock(),e.createBlock(_,{key:0,modelValue:e.unref(s).currentPage,"onUpdate:modelValue":m[5]||(m[5]=c=>e.unref(s).currentPage=c),meta:e.unref(d).meta},null,8,["modelValue","meta"])):(e.openBlock(),e.createBlock(M,{key:1,modelValue:e.unref(s).currentPage,"onUpdate:modelValue":m[6]||(m[6]=c=>e.unref(s).currentPage=c),limit:e.unref(s).limit,total:e.unref(d).total},null,8,["modelValue","limit","total"]))]):e.createCommentVNode("",!0),e.renderSlot(h.$slots,"footer-end")]),e.unref(l).debug?(e.openBlock(),e.createElementBlock("div",Qo,[e.createElementVNode("div",Yo,[e.createElementVNode("pre",null,e.toDisplayString(e.unref(s).query),1)]),e.createElementVNode("div",Xo,[e.unref(s).isLoading?(e.openBlock(),e.createElementBlock("span",Jo,"Loading..")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0)])],2))}});function De(t,r){const n=e.inject("$vgrid",{filterKey:"where",limitKey:"limit",offsetKey:"offset",aggregateQuery:"aggregate { count }",graphqlFilter:null,graphqlOrder:null,graphqlDataCounter:null}),o=e.inject("$vgridApolloClient",null);if(!o)throw new Error("$vgridApolloClient is not defined");const l=Ne(t),a=e.computed(()=>({resource:t.resource,resourceMeta:t.resourceMeta,searchField:t.searchField,refFilter:t.refFilter,offsetKey:n.offsetKey,limitKey:n.limitKey,filterKey:n.filterKey,aggregateQuery:n.aggregateQuery,graphqlFilter:n.graphqlFilter,graphqlOrder:n.graphqlOrder,graphqlDataCounter:n.graphqlDataCounter})),i=e.computed(()=>F(F(F({},l.value),a.value),r));return{dataProvider:new Xt(o,t.resource,i.value),gridOption:i}}const Ho={class:"vgrid-header"},Wo={class:"vgrid-body"},Zo={key:0,class:"vgrid-nodata"},vo={key:0},el={key:1},tl={class:"vgrid-responsive"},nl={class:"vgrid-table"},rl=["onClick"],ol={class:"vgrid-field-header-content"},ll={key:0,class:"vgrid-table-filter"},al={key:1},sl=["colspan"],il={key:0},cl={key:1},dl={key:2,class:"vgrid-loader"},ml=[e.createElementVNode("span",{class:"vgrid-sr-only"},"Loading..",-1)],fl={class:"vgrid-footer"},ul={key:0,class:"vgrid-devbar"},pl={class:"vgrid-col-9"},hl={class:"vgrid-col-3 vgrid-align-right"},gl={key:0},ve=e.defineComponent({name:"GraphGrid",props:{resource:null,resourceMeta:null,searchField:null,refFilter:{default:""},columns:{default:()=>[]},perPage:null,filterable:{type:Boolean,default:!0},columnFilterable:{type:Boolean,default:!1},columnVisible:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},searchPlaceholder:null,orderable:{type:Boolean,default:!1},sortBy:null,sortType:{default:"desc"},statusable:{type:Boolean,default:!0},pagable:{type:Boolean,default:!0},pagination:{type:Boolean,default:!0},strEmptyFilteredData:{default:"No data matched"},strEmptyData:{default:"Empty data"},exportable:{type:Boolean,default:!1},exportFileName:null,colMd:{default:6},colLg:{default:4},colXl:{default:3},routeState:{type:Boolean,default:!1},cursorPagination:{type:Boolean}},emits:["data-changed"],setup(t,{expose:r,emit:n}){const o=t,{gridOption:l,dataProvider:a}=De(o,{displayType:"grid",dataType:"graph"}),{hasColumnFilter:i,hasColumnOrder:u,cardColumnClasses:f,dataState:d,hasRecord:p,columnVisibility:V,isEmptyData:N,visibleCols:y,gridClasses:B,setColumnVisibility:b,gridState:s,isFiltered:k,getData:D,setOrder:I,setFilter:w,resetGrid:P}=z(o,n,a,l,["refFilter"]);return b(),D(),r({dataState:d,gridState:s,getData:D,setFilter:w,resetGrid:P}),(h,m)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid",e.unref(B)])},[e.createElementVNode("div",Ho,[e.renderSlot(h.$slots,"header",{},()=>[e.renderSlot(h.$slots,"header-start"),e.renderSlot(h.$slots,"header-search",{},()=>[t.searchable?(e.openBlock(),e.createBlock(Y,{key:0,modelValue:e.unref(s).where[t.searchField],"onUpdate:modelValue":m[0]||(m[0]=c=>e.unref(s).where[t.searchField]=c),placeholder:t.searchPlaceholder},null,8,["modelValue","placeholder"])):e.createCommentVNode("",!0)]),e.renderSlot(h.$slots,"header-filter",{},()=>[t.filterable&&e.unref(i)?(e.openBlock(),e.createBlock(q,{key:0,modelValue:e.unref(s).where,"onUpdate:modelValue":m[1]||(m[1]=c=>e.unref(s).where=c),columns:t.columns},null,8,["modelValue","columns"])):e.createCommentVNode("",!0)]),e.renderSlot(h.$slots,"header-order",{},()=>[t.orderable&&e.unref(u)?(e.openBlock(),e.createBlock(G,{key:0,class:"vgrid-ml-auto",modelValue:e.unref(s).order,"onUpdate:modelValue":m[2]||(m[2]=c=>e.unref(s).order=c),"has-sort-type":e.unref(s).hasSortType,columns:t.columns},null,8,["modelValue","has-sort-type","columns"])):e.createCommentVNode("",!0)]),e.renderSlot(h.$slots,"header-column-visibility",{},()=>[t.columnVisible?(e.openBlock(),e.createBlock(Q,{key:0,class:"vgrid-ml-auto",columns:t.columns,modelValue:e.unref(V),"onUpdate:modelValue":m[3]||(m[3]=c=>e.isRef(V)?V.value=c:null)},null,8,["columns","modelValue"])):e.createCommentVNode("",!0)]),e.renderSlot(h.$slots,"header-export",{},()=>[t.exportable?(e.openBlock(),e.createBlock(J,{key:0,class:"vgrid-ml-auto",columns:e.unref(y),data:e.unref(d).records,"file-name":t.exportFileName?t.exportFileName:""},null,8,["columns","data","file-name"])):e.createCommentVNode("",!0)]),e.renderSlot(h.$slots,"header-end")])]),e.createElementVNode("div",Wo,[e.unref(p)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Zo,[e.unref(k)?(e.openBlock(),e.createElementBlock("span",el,e.toDisplayString(t.strEmptyFilteredData),1)):(e.openBlock(),e.createElementBlock("span",vo,e.toDisplayString(t.strEmptyData),1))])),e.unref(N)?e.createCommentVNode("",!0):e.renderSlot(h.$slots,"body",{key:1,entries:e.unref(d).records,visibleCols:e.unref(y)},()=>[e.createElementVNode("div",tl,[e.createElementVNode("table",nl,[e.renderSlot(h.$slots,"table-head",{cols:e.unref(y)},()=>[e.createElementVNode("thead",null,[e.createElementVNode("tr",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(y),c=>(e.openBlock(),e.createElementBlock("th",{class:e.normalizeClass(["vgrid-field-header",c.headerClasses]),onClick:E=>e.unref(I)(c.field),key:c.id},[e.createElementVNode("div",ol,[e.renderSlot(h.$slots,"column-header-"+c.field,{col:c},()=>[e.createElementVNode("span",null,e.toDisplayString(c.showedLabel),1),e.createElementVNode("b",{class:e.normalizeClass(c.orderClasses)},null,2)])])],10,rl))),128))])])]),e.renderSlot(h.$slots,"table-body",{entries:e.unref(d).records},()=>[e.createElementVNode("tbody",null,[t.columnFilterable&&e.unref(i)?(e.openBlock(),e.createElementBlock("tr",ll,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(y),c=>(e.openBlock(),e.createElementBlock("td",{key:c.field},[c.filter?(e.openBlock(),e.createBlock($e,{key:0,column:c,modelValue:e.unref(s).where[c.field],"onUpdate:modelValue":E=>e.unref(s).where[c.field]=E},null,8,["column","modelValue","onUpdate:modelValue"])):e.createCommentVNode("",!0)]))),128))])):e.createCommentVNode("",!0),e.unref(p)?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:2},e.renderList(e.unref(d).records,(c,E)=>(e.openBlock(),e.createElementBlock("tr",null,[e.renderSlot(h.$slots,"default",{entry:c,index:E,visibleCols:e.unref(y)},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(y),$=>(e.openBlock(),e.createElementBlock("td",{key:$.field},[e.createVNode(j,{column:$,data:c,class:e.normalizeClass($.columnClasses)},{default:e.withCtx(()=>[e.renderSlot(h.$slots,"column-"+$.field,{entry:c,index:E})]),_:2},1032,["column","data","class"])]))),128))])]))),256)):(e.openBlock(),e.createElementBlock("tr",al,[e.createElementVNode("td",{colspan:e.unref(y).length},[e.unref(k)?(e.openBlock(),e.createElementBlock("span",cl,e.toDisplayString(t.strEmptyFilteredData),1)):(e.openBlock(),e.createElementBlock("span",il,e.toDisplayString(t.strEmptyData),1))],8,sl)]))])])])])]),e.unref(s).isLoading?(e.openBlock(),e.createElementBlock("div",dl,ml)):e.createCommentVNode("",!0)]),e.createElementVNode("div",fl,[e.renderSlot(h.$slots,"footer",{},()=>[e.renderSlot(h.$slots,"footer-start"),e.renderSlot(h.$slots,"pagesize",{},()=>[t.pagable?(e.openBlock(),e.createBlock(K,{key:0,modelValue:e.unref(s).limit,"onUpdate:modelValue":m[4]||(m[4]=c=>e.unref(s).limit=c),sizes:e.unref(s).pageSizes},null,8,["modelValue","sizes"])):e.createCommentVNode("",!0)]),t.cursorPagination?e.createCommentVNode("",!0):e.renderSlot(h.$slots,"grid-status",{key:0},()=>[t.statusable?(e.openBlock(),e.createBlock(X,{key:0,limit:e.unref(s).limit,"current-page":e.unref(s).currentPage,showed:e.unref(d).records.length,total:e.unref(d).total},null,8,["limit","current-page","showed","total"])):e.createCommentVNode("",!0)]),t.pagination?e.renderSlot(h.$slots,"pagination",{key:1},()=>[t.cursorPagination?(e.openBlock(),e.createBlock(_,{key:0,modelValue:e.unref(s).currentPage,"onUpdate:modelValue":m[5]||(m[5]=c=>e.unref(s).currentPage=c),meta:e.unref(d).meta},null,8,["modelValue","meta"])):(e.openBlock(),e.createBlock(M,{key:1,modelValue:e.unref(s).currentPage,"onUpdate:modelValue":m[6]||(m[6]=c=>e.unref(s).currentPage=c),limit:e.unref(s).limit,total:e.unref(d).total},null,8,["modelValue","limit","total"]))]):e.createCommentVNode("",!0),e.renderSlot(h.$slots,"footer-end")]),e.unref(l).debug?(e.openBlock(),e.createElementBlock("div",ul,[e.createElementVNode("div",pl,[e.createElementVNode("pre",null,e.toDisplayString(e.unref(s).query),1)]),e.createElementVNode("div",hl,[e.unref(s).isLoading?(e.openBlock(),e.createElementBlock("span",gl,"Loading..")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0)])],2))}}),yl={class:"vgrid-header"},kl={class:"vgrid-body"},El={key:0,class:"vgrid-nodata"},Bl={key:0},Vl={key:1},Nl={class:"vgrid-entry-wrapper"},Cl={key:2,class:"vgrid-loader"},bl=[e.createElementVNode("span",{class:"vgrid-sr-only"},"Loading..",-1)],Sl={class:"vgrid-footer"},$l={key:0,class:"vgrid-devbar"},Tl={class:"vgrid-col-9"},Dl={class:"vgrid-col-3 vgrid-align-right"},Fl={key:0},et=e.defineComponent({name:"GraphList",props:{resource:null,resourceMeta:null,searchField:null,refFilter:{default:""},columns:{default:()=>[]},perPage:null,filterable:{type:Boolean,default:!0},columnFilterable:{type:Boolean,default:!1},columnVisible:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},searchPlaceholder:null,orderable:{type:Boolean,default:!1},sortBy:null,sortType:{default:"desc"},statusable:{type:Boolean,default:!0},pagable:{type:Boolean,default:!0},pagination:{type:Boolean,default:!0},strEmptyFilteredData:{default:"No data matched"},strEmptyData:{default:"Empty data"},exportable:{type:Boolean,default:!1},exportFileName:null,colMd:{default:6},colLg:{default:4},colXl:{default:3},routeState:{type:Boolean,default:!1},cursorPagination:{type:Boolean}},emits:["data-changed"],setup(t,{expose:r,emit:n}){const o=t,{gridOption:l,dataProvider:a}=De(o,{displayType:"list",dataType:"graph"}),{hasColumnFilter:i,hasColumnOrder:u,cardColumnClasses:f,dataState:d,hasRecord:p,columnVisibility:V,isEmptyData:N,visibleCols:y,gridClasses:B,setColumnVisibility:b,gridState:s,isFiltered:k,getData:D,setOrder:I,setFilter:w,resetGrid:P}=z(o,n,a,l,["refFilter"]);return b(),D(),r({dataState:d,gridState:s,getData:D,setFilter:w,resetGrid:P}),(h,m)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid",e.unref(B)])},[e.createElementVNode("div",yl,[e.renderSlot(h.$slots,"header",{},()=>[e.renderSlot(h.$slots,"header-start"),e.renderSlot(h.$slots,"header-search",{},()=>[t.searchable?(e.openBlock(),e.createBlock(Y,{key:0,modelValue:e.unref(s).where[t.searchField],"onUpdate:modelValue":m[0]||(m[0]=c=>e.unref(s).where[t.searchField]=c),placeholder:t.searchPlaceholder},null,8,["modelValue","placeholder"])):e.createCommentVNode("",!0)]),e.renderSlot(h.$slots,"header-filter",{},()=>[t.filterable&&e.unref(i)?(e.openBlock(),e.createBlock(q,{key:0,modelValue:e.unref(s).where,"onUpdate:modelValue":m[1]||(m[1]=c=>e.unref(s).where=c),columns:t.columns},null,8,["modelValue","columns"])):e.createCommentVNode("",!0)]),e.renderSlot(h.$slots,"header-order",{},()=>[t.orderable&&e.unref(u)?(e.openBlock(),e.createBlock(G,{key:0,class:"vgrid-ml-auto",modelValue:e.unref(s).order,"onUpdate:modelValue":m[2]||(m[2]=c=>e.unref(s).order=c),"has-sort-type":e.unref(s).hasSortType,columns:t.columns},null,8,["modelValue","has-sort-type","columns"])):e.createCommentVNode("",!0)]),e.renderSlot(h.$slots,"header-column-visibility",{},()=>[t.columnVisible?(e.openBlock(),e.createBlock(Q,{key:0,class:"vgrid-ml-auto",columns:t.columns,modelValue:e.unref(V),"onUpdate:modelValue":m[3]||(m[3]=c=>e.isRef(V)?V.value=c:null)},null,8,["columns","modelValue"])):e.createCommentVNode("",!0)]),e.renderSlot(h.$slots,"header-export",{},()=>[t.exportable?(e.openBlock(),e.createBlock(J,{key:0,class:"vgrid-ml-auto",columns:e.unref(y),data:e.unref(d).records,"file-name":t.exportFileName?t.exportFileName:""},null,8,["columns","data","file-name"])):e.createCommentVNode("",!0)]),e.renderSlot(h.$slots,"header-end")])]),e.createElementVNode("div",kl,[e.unref(p)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",El,[e.unref(k)?(e.openBlock(),e.createElementBlock("span",Vl,e.toDisplayString(t.strEmptyFilteredData),1)):(e.openBlock(),e.createElementBlock("span",Bl,e.toDisplayString(t.strEmptyData),1))])),e.unref(N)?e.createCommentVNode("",!0):e.renderSlot(h.$slots,"body",{key:1,entries:e.unref(d).records,visibleCols:e.unref(y)},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(d).records,(c,E)=>(e.openBlock(),e.createElementBlock("div",Nl,[e.renderSlot(h.$slots,"default",{entry:c,index:E,visibleCols:e.unref(y)},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(y),$=>(e.openBlock(),e.createBlock(j,{column:$,data:c,key:$.id,resize:!0,class:e.normalizeClass($.columnClasses)},{default:e.withCtx(()=>[e.renderSlot(h.$slots,"column-"+$.field,{entry:c,index:E})]),_:2},1032,["column","data","class"]))),128))])]))),256))]),e.unref(s).isLoading?(e.openBlock(),e.createElementBlock("div",Cl,bl)):e.createCommentVNode("",!0)]),e.createElementVNode("div",Sl,[e.renderSlot(h.$slots,"footer",{},()=>[e.renderSlot(h.$slots,"footer-start"),e.renderSlot(h.$slots,"pagesize",{},()=>[t.pagable?(e.openBlock(),e.createBlock(K,{key:0,modelValue:e.unref(s).limit,"onUpdate:modelValue":m[4]||(m[4]=c=>e.unref(s).limit=c),sizes:e.unref(s).pageSizes},null,8,["modelValue","sizes"])):e.createCommentVNode("",!0)]),t.cursorPagination?e.createCommentVNode("",!0):e.renderSlot(h.$slots,"grid-status",{key:0},()=>[t.statusable?(e.openBlock(),e.createBlock(X,{key:0,limit:e.unref(s).limit,"current-page":e.unref(s).currentPage,showed:e.unref(d).records.length,total:e.unref(d).total},null,8,["limit","current-page","showed","total"])):e.createCommentVNode("",!0)]),t.pagination?e.renderSlot(h.$slots,"pagination",{key:1},()=>[t.cursorPagination?(e.openBlock(),e.createBlock(_,{key:0,modelValue:e.unref(s).currentPage,"onUpdate:modelValue":m[5]||(m[5]=c=>e.unref(s).currentPage=c),meta:e.unref(d).meta},null,8,["modelValue","meta"])):(e.openBlock(),e.createBlock(M,{key:1,modelValue:e.unref(s).currentPage,"onUpdate:modelValue":m[6]||(m[6]=c=>e.unref(s).currentPage=c),limit:e.unref(s).limit,total:e.unref(d).total},null,8,["modelValue","limit","total"]))]):e.createCommentVNode("",!0),e.renderSlot(h.$slots,"footer-end")]),e.unref(l).debug?(e.openBlock(),e.createElementBlock("div",$l,[e.createElementVNode("div",Tl,[e.createElementVNode("pre",null,e.toDisplayString(e.unref(s).query),1)]),e.createElementVNode("div",Dl,[e.unref(s).isLoading?(e.openBlock(),e.createElementBlock("span",Fl,"Loading..")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0)])],2))}}),Ol={class:"vgrid-header"},Il={class:"vgrid-body"},wl={key:0,class:"vgrid-nodata"},xl={key:0},Pl={key:1},Al={class:"vgrid-row"},Ll={class:"vgrid-entry-wrapper"},Rl={key:2,class:"vgrid-loader"},Ul=[e.createElementVNode("span",{class:"vgrid-sr-only"},"Loading..",-1)],Ml={class:"vgrid-footer"},zl={key:0,class:"vgrid-devbar"},_l={class:"vgrid-col-9"},jl={class:"vgrid-col-3 vgrid-align-right"},ql={key:0},tt=e.defineComponent({name:"GraphCards",props:{resource:null,resourceMeta:null,searchField:null,refFilter:{default:""},columns:{default:()=>[]},perPage:null,filterable:{type:Boolean,default:!0},columnFilterable:{type:Boolean,default:!1},columnVisible:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},searchPlaceholder:null,orderable:{type:Boolean,default:!1},sortBy:null,sortType:{default:"desc"},statusable:{type:Boolean,default:!0},pagable:{type:Boolean,default:!0},pagination:{type:Boolean,default:!0},strEmptyFilteredData:{default:"No data matched"},strEmptyData:{default:"Empty data"},exportable:{type:Boolean,default:!1},exportFileName:null,colMd:{default:6},colLg:{default:4},colXl:{default:3},routeState:{type:Boolean,default:!1},cursorPagination:{type:Boolean}},emits:["data-changed"],setup(t,{expose:r,emit:n}){const o=t,{gridOption:l,dataProvider:a}=De(o,{displayType:"cards",dataType:"graph"}),{hasColumnFilter:i,hasColumnOrder:u,cardColumnClasses:f,dataState:d,hasRecord:p,columnVisibility:V,isEmptyData:N,visibleCols:y,gridClasses:B,setColumnVisibility:b,gridState:s,isFiltered:k,getData:D,setOrder:I,setFilter:w,resetGrid:P}=z(o,n,a,l,["refFilter"]);return b(),D(),r({dataState:d,gridState:s,getData:D,setFilter:w,resetGrid:P}),(h,m)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid",e.unref(B)])},[e.createElementVNode("div",Ol,[e.renderSlot(h.$slots,"header",{},()=>[e.renderSlot(h.$slots,"header-start"),e.renderSlot(h.$slots,"header-search",{},()=>[t.searchable?(e.openBlock(),e.createBlock(Y,{key:0,modelValue:e.unref(s).where[t.searchField],"onUpdate:modelValue":m[0]||(m[0]=c=>e.unref(s).where[t.searchField]=c),placeholder:t.searchPlaceholder},null,8,["modelValue","placeholder"])):e.createCommentVNode("",!0)]),e.renderSlot(h.$slots,"header-filter",{},()=>[t.filterable&&e.unref(i)?(e.openBlock(),e.createBlock(q,{key:0,modelValue:e.unref(s).where,"onUpdate:modelValue":m[1]||(m[1]=c=>e.unref(s).where=c),columns:t.columns},null,8,["modelValue","columns"])):e.createCommentVNode("",!0)]),e.renderSlot(h.$slots,"header-order",{},()=>[t.orderable&&e.unref(u)?(e.openBlock(),e.createBlock(G,{key:0,class:"vgrid-ml-auto",modelValue:e.unref(s).order,"onUpdate:modelValue":m[2]||(m[2]=c=>e.unref(s).order=c),"has-sort-type":e.unref(s).hasSortType,columns:t.columns},null,8,["modelValue","has-sort-type","columns"])):e.createCommentVNode("",!0)]),e.renderSlot(h.$slots,"header-column-visibility",{},()=>[t.columnVisible?(e.openBlock(),e.createBlock(Q,{key:0,class:"vgrid-ml-auto",columns:t.columns,modelValue:e.unref(V),"onUpdate:modelValue":m[3]||(m[3]=c=>e.isRef(V)?V.value=c:null)},null,8,["columns","modelValue"])):e.createCommentVNode("",!0)]),e.renderSlot(h.$slots,"header-export",{},()=>[t.exportable?(e.openBlock(),e.createBlock(J,{key:0,class:"vgrid-ml-auto",columns:e.unref(y),data:e.unref(d).records,"file-name":t.exportFileName?t.exportFileName:""},null,8,["columns","data","file-name"])):e.createCommentVNode("",!0)]),e.renderSlot(h.$slots,"header-end")])]),e.createElementVNode("div",Il,[e.unref(p)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",wl,[e.unref(k)?(e.openBlock(),e.createElementBlock("span",Pl,e.toDisplayString(t.strEmptyFilteredData),1)):(e.openBlock(),e.createElementBlock("span",xl,e.toDisplayString(t.strEmptyData),1))])),e.unref(N)?e.createCommentVNode("",!0):e.renderSlot(h.$slots,"body",{key:1,entries:e.unref(d).records,visibleCols:e.unref(y)},()=>[e.createElementVNode("div",Al,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(d).records,(c,E)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-col",e.unref(f)])},[e.renderSlot(h.$slots,"default",{entry:c,index:E,visibleCols:e.unref(y)},()=>[e.createElementVNode("div",Ll,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(y),$=>(e.openBlock(),e.createBlock(j,{column:$,data:c,key:$.id,resize:!0,class:e.normalizeClass($.columnClasses)},{default:e.withCtx(()=>[e.renderSlot(h.$slots,"column-"+$.field,{entry:c,index:E})]),_:2},1032,["column","data","class"]))),128))])])],2))),256))])]),e.unref(s).isLoading?(e.openBlock(),e.createElementBlock("div",Rl,Ul)):e.createCommentVNode("",!0)]),e.createElementVNode("div",Ml,[e.renderSlot(h.$slots,"footer",{},()=>[e.renderSlot(h.$slots,"footer-start"),e.renderSlot(h.$slots,"pagesize",{},()=>[t.pagable?(e.openBlock(),e.createBlock(K,{key:0,modelValue:e.unref(s).limit,"onUpdate:modelValue":m[4]||(m[4]=c=>e.unref(s).limit=c),sizes:e.unref(s).pageSizes},null,8,["modelValue","sizes"])):e.createCommentVNode("",!0)]),t.cursorPagination?e.createCommentVNode("",!0):e.renderSlot(h.$slots,"grid-status",{key:0},()=>[t.statusable?(e.openBlock(),e.createBlock(X,{key:0,limit:e.unref(s).limit,"current-page":e.unref(s).currentPage,showed:e.unref(d).records.length,total:e.unref(d).total},null,8,["limit","current-page","showed","total"])):e.createCommentVNode("",!0)]),t.pagination?e.renderSlot(h.$slots,"pagination",{key:1},()=>[t.cursorPagination?(e.openBlock(),e.createBlock(_,{key:0,modelValue:e.unref(s).currentPage,"onUpdate:modelValue":m[5]||(m[5]=c=>e.unref(s).currentPage=c),meta:e.unref(d).meta},null,8,["modelValue","meta"])):(e.openBlock(),e.createBlock(M,{key:1,modelValue:e.unref(s).currentPage,"onUpdate:modelValue":m[6]||(m[6]=c=>e.unref(s).currentPage=c),limit:e.unref(s).limit,total:e.unref(d).total},null,8,["modelValue","limit","total"]))]):e.createCommentVNode("",!0),e.renderSlot(h.$slots,"footer-end")]),e.unref(l).debug?(e.openBlock(),e.createElementBlock("div",zl,[e.createElementVNode("div",_l,[e.createElementVNode("pre",null,e.toDisplayString(e.unref(s).query),1)]),e.createElementVNode("div",jl,[e.unref(s).isLoading?(e.openBlock(),e.createElementBlock("span",ql,"Loading..")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0)])],2))}});var ma="";const Gl={install(t,r={}){t.component("VGrid",Ye),t.component("VList",Je),t.component("VCards",Xe);const n={debug:r.debug,perPage:r.perPage||10,pageSizes:r.pageSizes||[5,10,20,50,100],routerKey:r.routerKey};let o={},l={};r.graphql&&(t.component("VGraphGrid",ve),t.component("VGraphList",et),t.component("VGraphCards",tt),o={filterKey:r.filterKey||"where",limitKey:r.limitKey||"limit",offsetKey:r.offsetKey||"offset",aggregateQuery:r.aggregateQuery||"aggregate { count }",graphqlFilter:r.graphqlFilter,graphqlOrder:r.graphqlOrder,graphqlDataCounter:r.graphqlDataCounter}),r.ajax&&(t.component("VAjaxGrid",He),t.component("VAjaxList",We),t.component("VAjaxCards",Ze),l={pageKey:r.pageKey||"page",cursorKey:r.cursorKey||"cursor",hasSortType:r.hasSortType||!0,sortKey:r.sortKey||"sort",sortTypeKey:r.sortTypeKey||"sort_type",perPageKey:r.perPageKey||"limit",fetchData:r.fetchData,cancelToken:r.cancelToken,extractData:r.extractData,getPageIndex:r.getPageIndex});const a=F(F(F({},n),l),o);t.provide("$vgrid",a)}};T.Pagination=M,T.VAjaxCards=Ze,T.VAjaxGrid=He,T.VAjaxList=We,T.VCards=Xe,T.VGraphCards=tt,T.VGraphGrid=ve,T.VGraphList=et,T.VGrid=Ye,T.VList=Je,T.default=Gl,Object.defineProperties(T,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
